(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[13],{1585:function(e,t){if(!n)var n={map:function(e,t){var n={};return t?e.map((function(e,a){return n.index=a,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,a,c){return n.index=c,e+t.call(n,a)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?n.map(e,t):e)}};var a=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function t(e){var t=[],n=!1;function a(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||a(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||a(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||a(),t}}}function a(e,t,n,a,c,r,i){this.r1=e,this.r2=t,this.g1=n,this.g2=a,this.b1=c,this.b2=r,this.histo=i}function c(){this.vboxes=new t((function(e,t){return n.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function r(t,a){if(a.count()){var c=a.r2-a.r1+1,r=a.g2-a.g1+1,i=a.b2-a.b1+1,l=n.max([c,r,i]);if(1==a.count())return[a.copy()];var o,u,s,m,f=0,d=[],b=[];if(l==c)for(o=a.r1;o<=a.r2;o++){for(m=0,u=a.g1;u<=a.g2;u++)for(s=a.b1;s<=a.b2;s++)m+=t[e(o,u,s)]||0;f+=m,d[o]=f}else if(l==r)for(o=a.g1;o<=a.g2;o++){for(m=0,u=a.r1;u<=a.r2;u++)for(s=a.b1;s<=a.b2;s++)m+=t[e(u,o,s)]||0;f+=m,d[o]=f}else for(o=a.b1;o<=a.b2;o++){for(m=0,u=a.r1;u<=a.r2;u++)for(s=a.g1;s<=a.g2;s++)m+=t[e(u,s,o)]||0;f+=m,d[o]=f}return d.forEach((function(e,t){b[t]=f-e})),h(l==c?"r":l==r?"g":"b")}function h(e){var t,n,c,r,i,l=e+"1",u=e+"2",s=0;for(o=a[l];o<=a[u];o++)if(d[o]>f/2){for(c=a.copy(),r=a.copy(),i=(t=o-a[l])<=(n=a[u]-o)?Math.min(a[u]-1,~~(o+n/2)):Math.max(a[l],~~(o-1-t/2));!d[i];)i++;for(s=b[i];!s&&d[i-1];)s=b[--i];return c[u]=i,r[l]=c[u]+1,[c,r]}}}return a.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var n=this.histo;if(!this._count_set||t){var a,c,r,i=0;for(a=this.r1;a<=this.r2;a++)for(c=this.g1;c<=this.g2;c++)for(r=this.b1;r<=this.b2;r++)i+=n[e(a,c,r)]||0;this._count=i,this._count_set=!0}return this._count},copy:function(){return new a(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var a,c,r,i,l=0,o=0,u=0,s=0;for(c=this.r1;c<=this.r2;c++)for(r=this.g1;r<=this.g2;r++)for(i=this.b1;i<=this.b2;i++)l+=a=n[e(c,r,i)]||0,o+=a*(c+.5)*8,u+=a*(r+.5)*8,s+=a*(i+.5)*8;this._avg=l?[~~(o/l),~~(u/l),~~(s/l)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=this.r1&&t<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},c.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,a,c=this.vboxes,r=0;r<c.size();r++)((n=Math.sqrt(Math.pow(e[0]-c.peek(r).color[0],2)+Math.pow(e[1]-c.peek(r).color[1],2)+Math.pow(e[2]-c.peek(r).color[2],2)))<t||void 0===t)&&(t=n,a=c.peek(r).color);return a},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return n.naturalOrder(n.sum(e.color),n.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var a=e.length-1,c=e[a].color;c[0]>251&&c[1]>251&&c[2]>251&&(e[a].color=[255,255,255])}},{quantize:function(i,l){if(!i.length||l<2||l>256)return!1;var o=function(t){var n,a,c,r,i=new Array(32768);return t.forEach((function(t){a=t[0]>>3,c=t[1]>>3,r=t[2]>>3,n=e(a,c,r),i[n]=(i[n]||0)+1})),i}(i);o.forEach((function(){0}));var u=function(e,t){var n,c,r,i=1e6,l=0,o=1e6,u=0,s=1e6,m=0;return e.forEach((function(e){n=e[0]>>3,c=e[1]>>3,r=e[2]>>3,n<i?i=n:n>l&&(l=n),c<o?o=c:c>u&&(u=c),r<s?s=r:r>m&&(m=r)})),new a(i,l,o,u,s,m,t)}(i,o),s=new t((function(e,t){return n.naturalOrder(e.count(),t.count())}));function m(e,t){for(var n,a=1,c=0;c<1e3;)if((n=e.pop()).count()){var i=r(o,n),l=i[0],u=i[1];if(!l)return;if(e.push(l),u&&(e.push(u),a++),a>=t)return;if(c++>1e3)return}else e.push(n),c++}s.push(u),m(s,.75*l);for(var f=new t((function(e,t){return n.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));s.size();)f.push(s.pop());m(f,l-f.size());for(var d=new c;f.size();)d.push(f.pop());return d}}}();e.exports=a.quantize},1599:function(e,t,n){"use strict";var a=n(8),c=n(197),r=n(214),i=n(1585),l=n.n(i);var o={createPixelArray:function(e,t,n){for(var a,c,r,i,l,o=e,u=[],s=0;s<t;s+=n)c=o[(a=4*s)+0],r=o[a+1],i=o[a+2],("undefined"===typeof(l=o[a+3])||l>=125)&&(c>250&&r>250&&i>250||u.push([c,r,i]));return u},validateOptions:function(e){var t=e.colorCount,n=e.quality;if("undefined"!==typeof t&&Number.isInteger(t)){if(1===t)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");t=Math.max(t,2),t=Math.min(t,20)}else t=10;return("undefined"===typeof n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:t,quality:n}}},u=function(){function e(t){Object(c.a)(this,e),this.canvas=void 0,this.context=void 0,this.width=void 0,this.height=void 0,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context&&this.context.drawImage(t,0,0,this.width,this.height)}return Object(r.a)(e,[{key:"getImageData",value:function(){var e;return null===(e=this.context)||void 0===e?void 0:e.getImageData(0,0,this.width,this.height)}}]),e}(),s=function(e,t,n){var a=function(e){return e.toString(16).padStart(2,"0")};return"#".concat(a(e)).concat(a(t)).concat(a(n))},m=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getPalette",value:function(e,t,n){var a=o.validateOptions({colorCount:t,quality:n}),c=new u(e),r=c.getImageData(),i=c.width*c.height;if(!r)return null;var s=o.createPixelArray(r.data,i,a.quality),m=l()(s,a.colorCount);return m?m.palette():null}},{key:"getColorFromUrl",value:function(t,n,a,c){!function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){for(var e=new Uint8Array(this.response),n=e.length,a=new Array(n),c=0;c<e.length;c++)a[c]=String.fromCharCode(e[c]);var r=a.join(""),i=window.btoa(r);t("data:image/png;base64,"+i)}},n.send()}(t,(function(r){var i=document.createElement("img");i.addEventListener("load",(function(){var r=e.getPalette(i,c,a)[0];n(r,t)})),i.src=r}))}},{key:"getColor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((function(i,l){e.getColorFromUrl(t,(function(e){var t=Object(a.a)(e,3),n=t[0],c=t[1],l=t[2],o=r>=0&&r<1?"rgba(".concat(n,", ").concat(c,", ").concat(l,", ").concat(r,")"):s(n,c,l);i(o)}),n,c)}))}}]),e}();t.a=m},1605:function(e,t,n){"use strict";var a=n(8),c=n(0),r=n.n(c),i=n(1),l=n(6),o=n.n(l),u=n(28);n(1606);t.a=Object(c.memo)((function(e){var t=e.images,n=e.isPlay,l=void 0!==n&&n,s=e.timeout,m=void 0===s?10:s,f=e.shuffle,d=void 0===f||f,b=e.once,h=e.className,E=Object(c.useState)(0),v=Object(a.a)(E,2),O=v[0],g=v[1],p=Object(c.useMemo)((function(){return d?u.Array.shuffle(t):t}),[t]),j=Object(c.useRef)(O),y=Object(c.useRef)(!b);j.current=O,Object(c.useEffect)((function(){if(l&&!b){var e=setTimeout((function(){g(O===p.length-1?0:O+1)}),1e3*m);return function(){return clearTimeout(e)}}}),[p,O,l,b]),Object(c.useEffect)((function(){l&&b&&(y.current=!0,g(O===p.length-1?0:O+1))}),[l]);var I=Object(c.useMemo)((function(){return O<=0?[p[p.length-1],p[0]]:[p[O-1],p[O]]}),[p,O]);return r.a.createElement(i.l,{className:o()("image-effect",h,{"is-play":l})},r.a.createElement(i.l,{renderAs:"ul"},I.map((function(e,t){var n=t===I.length-1;return r.a.createElement(i.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:o()({enter:!!y.current&&n,exit:!!y.current&&!n})},r.a.createElement(i.l,{renderAs:"img",src:e}))}))))}))},1606:function(e,t,n){},1607:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}},1608:function(e,t,n){},1609:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1638:function(e,t,n){"use strict";var a,c,r=n(0),i=n.n(r),l=n(1),o=n(5),u=n(17),s=n(26),m=n(15),f=n(8),d=n(6),b=n.n(d),h=n(57),E=n(31),v=n(10),O=n(128),g=n(195),p=n(116),j=n(7),y=n(29),I=n(19),N=n(9),A=n(2),k=n(30),M=n(284);!function(e){e[e.FAVORITE=0]="FAVORITE",e[e.MV=1]="MV",e[e.ADD_TO_QUEUE=2]="ADD_TO_QUEUE",e[e.ADD_NEXT_PLAYING=3]="ADD_NEXT_PLAYING",e[e.REMOVE_FROM_QUEUE=4]="REMOVE_FROM_QUEUE",e[e.MORE=5]="MORE",e[e.ADD_TO_PLAYLIST=6]="ADD_TO_PLAYLIST",e[e.COMMENT=7]="COMMENT",e[e.SHARE=8]="SHARE",e[e.KARAOKE=9]="KARAOKE",e[e.RADIO=10]="RADIO",e[e.DOWNLOAD=11]="DOWNLOAD",e[e.RINGTONE=12]="RINGTONE",e[e.COPY_LINK=13]="COPY_LINK",e[e.PLAY_SIM_SONG=14]="PLAY_SIM_SONG"}(c||(c={}));a={},Object(N.a)(a,c.ADD_TO_PLAYLIST,k.a),Object(N.a)(a,c.COMMENT,k.c),Object(N.a)(a,c.SHARE,k.l),Object(N.a)(a,c.RINGTONE,k.k);var T=[c.FAVORITE,c.MORE];c.FAVORITE,c.MORE,c.ADD_TO_QUEUE,c.MORE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE,c.REMOVE_FROM_QUEUE,c.FAVORITE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE;var C=n(106),_=n.n(C),S=function(e){return"number"===typeof e?_.a.unix(e):_()("".concat(e,":GMT+0700"),"DD/MM/YYYY:z")},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=S(e);return _()().diff(a,t,n)},R=function(e){var t=function(e){var t=S(e);return _()().startOf("day").diff(t.startOf("day"),"days")}(e);if(t<0)return"";if(0===t){var n=x(e,"minutes");if(n<1)return"V\u1eeba xong";if(n<60)return"".concat(n," ph\xfat tr\u01b0\u1edbc");var a=x(e,"hours",!0);return a<=6?"".concat(Math.floor(a)," gi\u1edd tr\u01b0\u1edbc"):"H\xf4m nay"}return 1===t?"H\xf4m qua":t<=6?"".concat(t," ng\xe0y tr\u01b0\u1edbc"):t<28?"".concat(Math.floor(t/7)," tu\u1ea7n tr\u01b0\u1edbc"):S(e).format("DD/MM/YYYY")};var w=Object(r.memo)((function(e){var t=e.typeButtons,n=void 0===t?T:t,a=e.item,r=e.handleContextMenu,o=e.hideContextMenu,u=e.isShowContextMenu;return i.a.createElement(i.a.Fragment,null,function(e,t){return e.map((function(e){return i.a.createElement(l.y.Item,{key:e},function(e){var t,n=e.type,a=e.playlist,r=e.showText,l=e.showContextMenu,o=e.isShowContextMenu;switch(n){case c.FAVORITE:t=i.a.createElement(k.g,{objectId:a.encodeId,objectType:A.K.PLAYLIST,showText:r,object:a});break;case c.MORE:t=i.a.createElement(M.a,{object:a,showContextMenu:l,isShowContextMenu:o});break;default:return null}return t}({type:e,playlist:t,showText:!1,showContextMenu:r,hideContextMenu:o,isShowContextMenu:u}))}))}(n,a))})),P=(n(1608),function(e){var t=e.item,n=e.handleContextMenu,a=e.isShowContextMenu;return i.a.createElement(l.A.Right,null,i.a.createElement(l.l,{className:"hover-items"},i.a.createElement(l.y,null,i.a.createElement(w,{item:t,handleContextMenu:n,isShowContextMenu:a}))),i.a.createElement(l.l,{className:"action-items"},i.a.createElement(l.y,null,i.a.createElement(w,{typeButtons:[c.FAVORITE],item:t,handleContextMenu:n,isShowContextMenu:a}),i.a.createElement(l.y.Item,{className:"duration"},Object(y.formatTime)(300)))))}),L=function(e){var t=e.time;return i.a.createElement(l.l,{className:"time-release"},i.a.createElement(l.l,{renderAs:"span"},R(t)))},D=function(e){var t=e.item,n=e.isActive,a=e.isPlaying,c=e.tracking,r=void 0===c?[]:c,o=e.clickTracking,u=void 0===o?[]:o,s=Object(v.e)(),d=s.ref,y=s.ContextMenu,N=s.handleContextMenu,A=s.hideContextMenu,k=s.isShowContextMenu,M=Object(v.u)(),T=Object(f.a)(M,1)[0];Object(h.g)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.b,{playlist:t},i.a.createElement(l.A,{className:b()("zm-new-release-playlist",{active:k||n}),domRef:d,onClick:function(){I.a.apply(void 0,Object(m.a)(u))}},i.a.createElement(l.A.Left,null,i.a.createElement(l.l,{className:"thumb"},i.a.createElement(l.l,{className:"thumb-action"},i.a.createElement(l.x,{src:t.thumbnailM}),i.a.createElement(l.l,{className:"actions",onClick:function(e){T.playPlaylist(t),I.a.apply(void 0,Object(m.a)(r)),j.b.preventDefault(e)}},i.a.createElement(l.r,{icon:a?" ic-gif-playing-white":"play"}))),i.a.createElement(l.x,{className:"disk",src:E.l+"/icons/album-disk.png"})),i.a.createElement(l.l,{className:"card-info"},i.a.createElement(l.M,null,i.a.createElement(l.L,null,t.title)),i.a.createElement(l.M,{subtitle:!0,className:"is-one-line is-truncate"},i.a.createElement(O.a,{artists:t.artists})),i.a.createElement(L,{time:t.releaseDate}))),i.a.createElement(l.A.Content,null,i.a.createElement(l.l,null,R(t.releaseDate))),i.a.createElement(P,{handleContextMenu:N,item:t,isShowContextMenu:k}))),i.a.createElement(y,null,i.a.createElement(p.a,{playlist:t,hideContextMenu:A})))},F=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking,m=Object(o.c)(u.e),f=Object(o.c)(s.p);return i.a.createElement(l.z,null,t.map((function(e){var t=e.encodeId===m,o=t&&f;return e.sectionId=n,e.actionTracking=r,i.a.createElement(l.z.Item,{className:"bor-b-1",key:e.encodeId},i.a.createElement(D,{item:e,isActive:t,isPlaying:o,tracking:a,clickTracking:c}))})))},Y=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking;return t.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(l.A,{className:"top-header"},i.a.createElement(l.A.Left,null,i.a.createElement(l.l,{className:"column-text"},"Album")),i.a.createElement(l.A.Content,null,i.a.createElement(l.l,{className:"column-text"},"Ph\xe1t h\xe0nh")),i.a.createElement(l.A.Right,null,i.a.createElement(l.l,{className:"column-text"}," Th\u1eddi gian"))),i.a.createElement(F,{items:t,sectionId:n,tracking:a,clickTracking:c,actionTracking:r})):null},U=n(3),z=n(185),G=n(11),B=n(46),H=n(45),K=n(68),V=function(e){var t=e.song,n=Object(r.useMemo)((function(){return i.a.createElement(l.l,null,R(t.album?t.album.releaseDate:t.releaseDate))}),[t]),a=i.a.createElement(H.f,{type:K.a.ICON,icon:"song"});return i.a.createElement(H.l,Object.assign({},e,{songMiddle:n,songLeftBefore:a}))},q=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.actionTracking,r=Object(o.c)(u.b),l=Object(o.c)(s.p),m=Object(o.c)(B.e),d=Object(o.c)(B.a),b=Object(o.c)(s.j),h=Object(o.c)(G.o),E=Object(o.c)(G.f),O=Object(v.u)(),g=Object(f.a)(O,1)[0],p=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.playSongInList(e,Object(U.a)(Object(U.a)({},a),{},{songs:t.map((function(e){return!e.sectionId&&n?Object(U.a)(Object(U.a)({},e),{},{sectionId:n}):Object(U.a)({},e)}))}))};return i.a.createElement(z.b,{items:t,renderItem:function(e){var o=t[e];if(!o)return i.a.createElement(i.a.Fragment,null);var u=o.encodeId===r,s=l&&u,f=b&&u;return o.sectionId=n,o.actionTracking=c,i.a.createElement(V,{key:o.encodeId,order:e+1,song:o,currentEncodeId:r,isActive:u,isPlaying:s,isBuffering:f,mediasBlocked:m,artistsBlocked:d,streamPrivilege:E,isUserVN:h,playSongFn:p,tracking:a,className:"bor-b-1"})},className:"",disableSort:!0,columnTexts:["B\xe0i h\xe1t","Ph\xe1t h\xe0nh","Th\u1eddi gian"]})};n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return q}))},1656:function(e,t,n){},1657:function(e,t,n){},1658:function(e,t,n){},1659:function(e,t,n){},1660:function(e,t,n){},1661:function(e,t,n){},1662:function(e,t,n){},1663:function(e,t,n){},1664:function(e,t,n){},1820:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(8),r=n(9),i=n(0),l=n.n(i),o=n(5),u=n(79),s=n(2),m=n(10),f=n(72),d=n(1),b=n(11),h=n(86),E=n(26),v=n(17),O=n(57),g=n(38),p=n(1605),j=n(39),y=n(195),I=n(28),N=n(116),A=n(128),k=Object(i.memo)((function(e){var t=e.playlist,n=e.isPlaying,a=e.isBuffering,r=void 0!==a&&a,o=e.isActive,u=void 0!==o&&o,f=e.isOwner,b=void 0!==f&&f,h=e.animate,E=Object(O.g)(),v=Object(m.u)(),k=Object(c.a)(v,1)[0],M=Object(m.e)(),T=M.ref,C=M.ContextMenu,_=M.handleContextMenu,S=M.hideContextMenu,x=M.isShowContextMenu,R=t.thumbnails,w=void 0===R?[]:R,P=t.thumbnailM,L=t.artists,D=void 0===L?[]:L,F=t.description,Y=Object(i.useMemo)((function(){return I.Array.isEmpty(w)?[P]:I.Array.shuffle(w)}),[]);return l.a.createElement(d.e,{className:"zm-playlist-item-animation",domRef:T},l.a.createElement(d.e.Image,{className:n||x?"active":""},l.a.createElement(y.b,{playlist:t},l.a.createElement(p.a,{images:Y,isPlay:h,timeout:2,once:!0,shuffle:!1}),l.a.createElement(d.F,null),l.a.createElement(j.a,{className:"playlist-actions",objectId:t.encodeId,object:t,haveLikeBtn:!t.isDailymix&&!b,haveOtherBtn:!t.isDailymix,isPlaying:n,isBuffering:r,isActive:u,handleContext:_,playFn:function(){k.playPlaylist(t),u||E.push(t.link)},thumbnail:t.thumbnailM,objectType:t.isAlbum?s.K.ALBUM:s.K.PLAYLIST}))),l.a.createElement(d.e.Content,null,l.a.createElement(p.a,{images:Y,isPlay:h,timeout:2,once:!0,shuffle:!1}),l.a.createElement(d.l,{className:"content"},l.a.createElement(g.b,{to:t.link},l.a.createElement(d.l,{className:"name"},t.title)),l.a.createElement(d.l,{className:"artist"},I.Array.isEmpty(D)?F:l.a.createElement(d.M,{subtitle:!0,className:"is-one-line is-truncate"},l.a.createElement(A.a,{artists:D}))))),l.a.createElement(C,null,l.a.createElement(N.a,{playlist:t,hideContextMenu:S})))})),M=n(6),T=n.n(M),C=(n(1656),Object(i.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.sectionId,r=e.autoSlider,u=e.subTitle,s=e.title,m=e.link,f=e.className,O=Object(o.c)(v.e),g=Object(o.c)(b.u),p=Object(o.c)(E.p),y=Object(o.c)(E.j),I=Object(o.c)(h.c),N=Object(i.useMemo)((function(){return n.slice(0,5).filter((function(e){var t;return(null===e||void 0===e||null===(t=e.thumbnails)||void 0===t?void 0:t.length)>2})).map((function(e){return e.encodeId}))}),[]),A=Object(i.useState)(N[0]),M=Object(c.a)(A,2),C=M[0],_=M[1];Object(i.useEffect)((function(){var e=setTimeout((function(){var e=N.indexOf(C),t=e===N.length-1?0:e+1;_(N[t])}),2e3);return function(){return clearTimeout(e)}}),[C,N]);return l.a.createElement(d.J,{className:T()("playlist-section",f)},l.a.createElement(d.i,null,u?l.a.createElement(j.c,{subTitle:u,title:s}):l.a.createElement(j.e,{link:m,title:s}),l.a.createElement(d.f,{infinite:r,hideArrow:!0},n.map((function(e,t){return function(e,t){e.zoneid&&I[e.zoneid]&&(e=I[e.zoneid]);var n=e.encodeId===O,c=n&&p,r=g>0&&g===e.uid,i=y&&n,o=C===e.encodeId;return e.sectionId=a,l.a.createElement(k,{key:e.encodeId,playlist:e,isActive:n,isPlaying:c,isOwner:r,isBuffering:i,animate:o})}(e)})))))}))),_=n(229),S=n(1599);var x=Object(i.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(o.c)(v.e),r=Object(o.c)(E.p),u=t.encodeId===a,s=u&&r,f=Object(i.useState)("rgba(0, 0, 0, 0.7)"),b=Object(c.a)(f,2),h=b[0],O=b[1],p=Object(i.useState)("".concat(19,"px")),j=Object(c.a)(p,2),I=j[0];j[1],t.sectionId=n;var A=Object(m.e)(),k=A.ref,M=A.ContextMenu,T=A.isShowContextMenu,C=A.handleContextMenu,_=A.hideContextMenu,x=Object(m.u)(),R=Object(c.a)(x,1)[0],w=t.song,P=t.artistsNames,L=t.link,D=Object(i.useCallback)((function(){var e;R.playPlaylist(t,{domRect:null===k||void 0===k||null===(e=k.current)||void 0===e?void 0:e.getBoundingClientRect()})}),[t]),F=Object(i.useMemo)((function(){var e;return(null===w||void 0===w||null===(e=w.items)||void 0===e?void 0:e.slice(0,3).map((function(e){return e.thumbnail})))||[]}),[w]),Y=Object(m.m)({delayEnter:100}),U=Object(c.a)(Y,2),z=U[0],G=U[1];return Object(i.useEffect)((function(){S.a.getColor(t.thumbnailM).then((function(e){return O(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(g.b,{to:L},l.a.createElement(d.l,Object.assign({className:"playlist-wrapper",domRef:k},G),l.a.createElement(d.e,null,l.a.createElement(y.c,{playlist:t,handleContextMenu:C,isShowContextMenu:z||T,isActive:u,isPlaying:s,playFn:D}),l.a.createElement(d.l,{className:"blur-bg",style:{backgroundImage:"linear-gradient(\n                                    to bottom,\n                                    rgba(0, 0, 0, 0),\n                                    rgba(0, 0, 0, 0) 50%,\n                                    ".concat(h,"\n                                )")}}),l.a.createElement(d.l,{className:"mix-content"},l.a.createElement(d.M,null,l.a.createElement(d.L,{lines:2,minFontSize:I,allowCutting:!0},P)),l.a.createElement(d.l,{className:"thumbs"},F.map((function(e,t){return l.a.createElement(d.l,{key:t,className:"thumb-item"},l.a.createElement(d.x,{src:e}))}))))))),l.a.createElement(M,null,l.a.createElement(N.a,{songs:[],playlist:t,hideContextMenu:_})))})),R=["V\xec b\u1ea1n y\xeau th\xedch","B\u1ea1n \u0111\xe3 quan t\xe2m","T\u1eeb th\u01b0 vi\u1ec7n c\u1ee7a b\u1ea1n","V\xec b\u1ea1n nghe nhi\u1ec1u","B\u1ea1n nghe g\u1ea7n \u0111\xe2y","C\xf3 th\u1ec3 b\u1ea1n th\xedch"],w=Object(i.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.fullhd,c=void 0===a?20:a,r=e.widescreen,i=void 0===r?20:r,o=e.desktop,u=void 0===o?3:o,s=e.touch,m=void 0===s?3:s,f=e.tablet,d=void 0===f?3:f,b=e.autoSlider,h=e.sectionId;if(I.Array.isEmpty(n))return null;var E=I.Array.shuffle(R);return l.a.createElement(_.b,{infinite:b,hideArrow:!0},n.map((function(e,t){return function(e,t){var n=E[t%E.length];return l.a.createElement(x,{key:"mix.".concat(e.encodeId),fullhd:c,widescreen:i,desktop:u,touch:m,tablet:d,item:e,sectionId:h,subTitle:n})}(e,t)})))})),P=(n(657),Object(i.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.viewType,c=(void 0===a&&s.kb.SLIDER,e.title),r=e.link,i=e.className,o=void 0===i?"":i,u=e.sectionId,m=e.subTitle,f=e.options,b=(void 0===f?{}:f).autoSlider;if(!n.length)return null;return l.a.createElement(d.J,{className:T()("mix-section",o)},l.a.createElement(d.i,null,m?l.a.createElement(j.c,{subTitle:m,title:c}):l.a.createElement(j.e,{link:r,title:c}),l.a.createElement(w,{autoSlider:b,items:n,sectionId:u})))}))),L=n(191),D=n(45),F=n(129),Y=n(418),U=n(168),z=n(158),G=n(156),B=n(7),H=n(84),K=n(192),V=n(29),q=n(13),Q="/page/get/home",X="/user/recent-play-home",J="/song/get/section-song-station",W={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0,a={page:e,count:t};return(n||[]).length>0&&(a.segments=n),Object(q.c)((function(){return Object(q.d)(Q,a)}))},getRecentHome:function(){return Object(q.c)((function(){return Object(q.d)(X)}))},getSongStation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return Object(q.c)((function(){return Object(q.d)(J,{count:e})}))}},Z=(n(1657),n(12)),$=n.n(Z),ee=n(22),te=n(15),ne=n(654),ae=n(1607),ce=n(417),re=n(130),ie=n(193),le=n(140),oe=n(276),ue=n(16),se=n(83),me=(n(1658),["gallery-item-selected","gallery-item-next","gallery-item-last","gallery-item-first","gallery-item-previous"]);var fe=function(e){var t=e.slide,n=e.sectionId,a=Object(i.useRef)(null),r=Object(o.b)(),u=Object(m.w)(),f=Object(c.a)(u,1)[0],b=Object(m.u)(),h=Object(c.a)(b,1)[0],E=Object(ie.a)(),v=Object(c.a)(E,1)[0],O=Object(oe.a)().playVideo;Object(m.a)(t.tracking,a);var p=Object(i.useMemo)((function(){return Object(se.b)(t.link)||Object(B.h)(t.link)}),[t.link]),j=Object(i.useCallback)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.e.Image,null,l.a.createElement(d.x,{src:t.banner})),l.a.createElement(d.e.Content,null,l.a.createElement(d.M,{renderAs:"div"},t.title),l.a.createElement(d.M,{subtitle:!0},t.description)))}),[t]),y=Object(i.useCallback)(function(){var e=Object(ee.a)($.a.mark((function e(a){var c,i,l,o,u;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.link.includes("/bai-hat/")){e.next=16;break}return a.preventDefault(),e.prev=2,e.next=5,le.a.getInfo(t.encodeId);case 5:c=e.sent,(i=c.data).sectionId=n,l={song:i,playSongFn:function(){h.playSong(i,{forcePlay:!0})},addToQueueFn:function(e){return f.add(i,void 0,e)}},r(Object(ue.o)({type:s.E.FROM_BANNER,option:l})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),e.t0&&B.q.error(e.t0.err,"Banner | Play song | encodeId | link | title | Error",t.encodeId,t.link,t.title,e.t0);case 16:t.link.includes("/video-clip/")&&(a.preventDefault(),(o={encodeId:t.encodeId}).sectionId=n,O(o)),(u=Object(B.n)(t.link))&&(a.preventDefault(),v.playLivestreamWithId(u,!0,"hSlider"));case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return l.a.createElement(d.e,{domRef:a},p?l.a.createElement(d.l,{renderAs:"a",href:t.link,target:"_blank"},j()):l.a.createElement(g.b,{title:t.title,onClick:y,to:{pathname:t.link,state:{sectionId:n}}},j()))},de=Object(i.memo)((function(e){var t=e.items,n=e.pause,a=void 0===n?"hover":n,r=e.interval,u=void 0===r?5e3:r,s=e.sectionId,m=Object(ne.a)().width,f=Object(i.useRef)(null),b=Object(i.useRef)([]),E=Object(i.useRef)(1),O=Object(i.useState)(!1),g=Object(c.a)(O,2),p=g[0],j=g[1],y=Object(i.useState)(I.Array.shuffle(t)),N=Object(c.a)(y,1)[0],A=Object(o.c)(v.j),k=Object(o.c)(h.c),M=Object(i.useState)(me),T=Object(c.a)(M,2),C=T[0],_=T[1],S=Object(i.useState)(0),x=Object(c.a)(S,2),R=x[0],w=x[1],P=Object(i.useMemo)((function(){var e,t=Object(te.a)(N);return k[re.b.BANNER_ZID]&&(t=I.Array.insert(t,k[re.b.BANNER_ZID],I.Number.random(0,t.length-1))),k[re.b.BANNER_MP3_ZID]&&(t=I.Array.insert(t,k[re.b.BANNER_MP3_ZID],3)),t.length>=me.length?t:(e=t).concat.apply(e,Object(te.a)(t))}),[N,k]);Object(i.useEffect)((function(){var e=P.length-C.length;if(e>0){var t=Object(te.a)(Array(e)).map((function(){return"gallery-item-add"}));t=I.Array.insert(Object(te.a)(C),t,3),_(t)}}),[P]);var L=Object(ae.a)(C);Object(i.useEffect)((function(){D()}),[C]);var D=function(){for(var e=0;e<C.length;e++){var t=C[e],n=b.current[e];n&&(L&&n.classList.remove(L[e]),n.classList.add(t))}},F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(te.a)(C);if(e){var n=t.pop();n&&t.unshift(n)}else{var a=t.shift();a&&t.push(a)}_(t)},Y=Object(i.useCallback)((function(){"hover"===a&&j(!0)}),[a]),U=Object(i.useCallback)((function(){j(!1)}),[a]);return Object(i.useEffect)((function(){return p||(E.current=setInterval((function(){F(!0)}),u)),function(){clearInterval(E.current)}}),[p,F,u]),Object(i.useEffect)((function(){var e,t=null===(e=b.current[0])||void 0===e?void 0:e.firstElementChild;if(t&&f.current){var n=t.getBoundingClientRect().height;f.current.style.height=n+"px",w(n)}}),[m,R,A]),l.a.createElement(d.i,null,l.a.createElement(d.l,{className:"gallery"},l.a.createElement(d.l,{className:"gallery-container",domRef:f,onMouseEnter:Y,onMouseLeave:U},l.a.createElement(d.l,{className:"zm-gallery-prev",onClick:function(){return F(!1)}},l.a.createElement(ce.a,{type:"prev",classNameIcon:"ic-go-left",enable:!0})),P.map((function(e,t){return l.a.createElement(d.l,{className:"gallery-item",key:"".concat(t,"-").concat(e.encodeId),domRef:function(e){return b.current[t]=e}},l.a.createElement(fe,{slide:e,sectionId:s}))})),l.a.createElement(d.l,{className:"zm-gallery-next",onClick:function(){return F(!0)}},l.a.createElement(ce.a,{type:"next",classNameIcon:"ic-go-right",enable:!0})))))})),be=n(19),he=Object(i.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(m.u)(),r=Object(c.a)(a,1)[0],i=t.playlist,u=t.title,s=t.subtitle,f=t.icon,b=Object(o.c)(v.e),h=Object(o.c)(E.p),O=i.encodeId===b,g=O&&h,p=Object(o.c)(E.j)&&O,j=function(){i.sectionId=n,r.playPlaylist(i),Object(be.a)("Home","HActivities_tags",s)};return l.a.createElement(d.A,{className:"zm-genre-mood-item",onClick:j},l.a.createElement(d.A.Left,null,l.a.createElement(d.t,{src:i.thumbnail}),l.a.createElement(d.l,{className:"action"},l.a.createElement(d.s,{isPlaying:g,onClick:j,isOutlinePlayBtn:!1,className:O&&p?"is-hide":""}),O&&p&&l.a.createElement(d.c,{className:p?"":"is-hide"}))),l.a.createElement(d.A.Content,null,l.a.createElement(d.M,{title:u},l.a.createElement(d.L,null,u)),l.a.createElement(d.M,{subtitle:!0},l.a.createElement(d.t,{src:f})," ",s)))})),Ee=(n(1659),Object(i.memo)((function(e){var t=e.items,n=e.className,a=e.title,c=e.link,r=e.sectionId;return l.a.createElement(d.J,{className:T()("zm-genre-mood-home-section",n)},l.a.createElement(j.e,{link:c,title:a}),l.a.createElement(d.h,{oneline:!0},t.map((function(e,t){return l.a.createElement(d.h.Column,{fullhd:3,tablet:4,marginClass:"mar-b-0"},l.a.createElement(he,{key:t,item:e,sectionId:r}))}))))}))),ve=n(1638),Oe=(n(1660),"ALL"),ge=[{id:Oe,text:"T\u1ea5t c\u1ea3",labelGA:"All",filter:"all",itemKey:"all"},{id:"VPOP",text:"Vi\u1ec7t Nam",labelGA:"VietNam",filter:"vpop",itemKey:"vPop"},{id:"OTHERS",text:"Qu\u1ed1c t\u1ebf",labelGA:"QuocTe",filter:"usuk",itemKey:"others"}],pe=["Home Section","_hNewReleases_play","Single"],je=["Home Section","_hNewRelease_actionSong"],ye={className:"hide-right",songMiddle:null,thumbSize:60,buttonsType:[D.b.FAVORITE,D.b.ADD_TO_QUEUE,D.b.ADD_NEXT_PLAYING,D.b.PLAY_SIM_SONG,D.b.ADD_TO_PLAYLIST,D.b.COMMENT,D.b.COPY_LINK,D.b.SHARE],otherInfo:function(e){var t,n,a=e.song;return l.a.createElement(ve.c,{time:null!==(t=null===(n=a.album)||void 0===n?void 0:n.releaseDate)&&void 0!==t?t:a.releaseDate})}},Ie=function(e){var t=e.items,n=e.sectionId,r=e.genreId,u=Object(m.u)(),s=Object(c.a)(u,1)[0],f=Object(o.b)(),d=Object(i.useRef)(t);d.current=t;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=function(){f(Object(U.e)(r))};e&&s.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:d.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n,listInfo:{title:"M\u1edbi ph\xe1t h\xe0nh",link:"/",scrollTo:"zm-new-release-section",afterClickFn:c}})}))}))};return l.a.createElement(Ne,null,Array.from({length:3}).map((function(e,a){return l.a.createElement(i.Fragment,{key:"song-list-item-".concat(a)},l.a.createElement(D.m,{items:t.slice(4*a,4*(a+1)),SongItemProps:ye,sectionId:n,tracking:pe,actionTracking:je,playSongFn:b}))})))},Ne=function(e){var t=e.children;return l.a.createElement(d.h,null,l.a.Children.map(t,(function(e,t){var n=2===t?"0":6;return l.a.createElement(i.Fragment,{key:"item-list-".concat(t)},l.a.createElement(d.h.Column,{marginClass:"mar-b-0",fullhd:4,widescreen:4,desktop:4,touch:n,tablet:n},e))})))},Ae=Object(i.memo)((function(e){var t=e.items,n=e.className,a=e.title,r=e.link,u=void 0===r?"/new-release/song":r,s=e.sectionId,m=void 0===s?"_hNewReleases":s,f=Object(o.b)(),b=Object(o.c)(z.b),h=Object(i.useState)(b||Oe),E=Object(c.a)(h,2),v=E[0],O=E[1];if(Object(i.useEffect)((function(){b&&O(b)}),[b]),!t)return l.a.createElement(l.a.Fragment,null);var g=ge.find((function(e){return e.id===v}));if(!g)return l.a.createElement(l.a.Fragment,null);var p=t[g.itemKey]||[],y="".concat(u,"?filter=").concat(g.filter);return l.a.createElement(d.J,{className:T()("zm-new-release-section",n)},l.a.createElement(j.e,{link:y,title:a,tracking:["Home Section","_hNewRelease_viewAll"]}),l.a.createElement(d.l,{className:"genre-select"},ge.map((function(e){return l.a.createElement(d.d,{key:e.id,onClick:function(){return function(e){var t;O(e),f(Object(U.e)(e));var n=null===(t=ge.find((function(t){return t.id===e})))||void 0===t?void 0:t.labelGA;Object(be.a)("Home Section","_hNewReleases_tab",n)}(e.id)},className:T()({active:v===e.id})},e.text)}))),l.a.createElement(Ie,{items:p,sectionId:m,genreId:v}))})),ke=n(424),Me=n(1609),Te=function(e){var t=Object(o.c)(Me.a);return l.a.createElement(ke.a,Object.assign({},e,{items:t,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20}))},Ce=n(58),_e=(n(1661),function(e){var t=e.source;return l.a.createElement(d.l,{className:"zm-partner-item"},l.a.createElement(d.l,{className:"content"},l.a.createElement(d.x,{src:t})))}),Se=Object(i.memo)((function(){var e=Object(o.c)(Ce.f),t=Object(i.useMemo)((function(){var t=e||{},n=t.title,a=t.items,c=void 0===a?[]:a,r=t.isShuffle,i=void 0===r||r,l=t.maxItems;return{title:n,maxItems:void 0===l?16:l,items:i?I.Array.shuffle(c):c}}),[e]),n=Object(m.r)(),a=n.Modal,c=n.show,r=n.hide;return t?l.a.createElement(d.i,{className:"zm-partner-section"},l.a.createElement(d.M,null,l.a.createElement(d.l,{renderAs:"span",onClick:c},t.title)),l.a.createElement(d.h,{multiline:!0},null===t||void 0===t?void 0:t.items.slice(0,t.maxItems).map((function(e,t){return function(e,t){return l.a.createElement(d.h.Column,{key:t,widescreen:3,fullhd:3,desktop:3,touch:3,tablet:3},l.a.createElement(_e,{source:e}))}(e,t)}))),l.a.createElement(a,null,l.a.createElement(d.l,{className:"zm-partner-modal"},l.a.createElement(d.M,null,t.title),null===t||void 0===t?void 0:t.items.map((function(e,t){return l.a.createElement(d.h.Column,{key:t,widescreen:20,fullhd:20,desktop:20,touch:3,tablet:3},l.a.createElement(_e,{source:e}))})),l.a.createElement(d.P,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:r})))):l.a.createElement(l.a.Fragment,null)})),xe=n(196),Re=n(125),we=n(437),Pe=n(226),Le=(n(1662),Object(i.memo)((function(e){var t=e.className,n=e.title,a=e.link;return l.a.createElement(d.J,{className:T()("playlist-section zm-home-recent",t)},l.a.createElement(d.i,null,l.a.createElement(j.e,{link:a,title:n}),l.a.createElement(De,e)))})));function De(e){var t,n=Object(o.c)(v.e),a=Object(o.c)(b.u),r=Object(o.c)(E.p),f=Object(o.c)(E.j),h=Object(o.c)(Re.c),O=Object(o.c)(Re.i),g=Object(o.c)(Re.g),p=Object(ie.a)(),j=Object(c.a)(p,1)[0],y=Object(i.useCallback)((function(e){j.playLivestream(e)}),[]),I=e.sectionId,N=e.autoSlider,A=Object(m.b)((function(){return W.getRecentHome()})),k=Object(c.a)(A,2),M=k[0],T=k[1];Object(i.useEffect)((function(){T()}),[]);var C=(null===M||void 0===M||null===(t=M.value)||void 0===t?void 0:t.data)||[];return B.q.debug("PlaylistList | render"),M.loading?l.a.createElement(u.a,{showTitle:!1,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,viewType:s.kb.SLIDER,countSection:1,className:"loader"}):l.a.createElement(d.f,{infinite:N,hideArrow:!0},C.map((function(e){return e.type===s.K.LIVESTREAM?function(e){var t=e.encodeId===h,n=t&&O,a=t&&g;return e.sectionId="hRecent",l.a.createElement(we.a,{item:e,key:e.encodeId,playFn:y,isPlaying:n,isBuffering:a,isLive:!0,hideActiveUsers:!0,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20})}(e):e.type===s.K.PODCAST?function(e){return l.a.createElement(Pe.a,{item:e,key:e.encodeId,sectionId:I,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,showLabel:!0})}(e):function(e){var t=e.encodeId===n,c=t&&r,i=a>0&&a===e.uid,o=f&&t;return e.sectionId=I,l.a.createElement(xe.a,{key:e.encodeId,playlist:e,isActive:t,isPlaying:c,isOwner:i,isBuffering:o,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,itemType:"title"})}(e)})))}var Fe=n(439),Ye=n(131),Ue=(n(1663),["Home Section","_hSongRadio_actionSong"]),ze={className:"hide-right",songMiddle:null,thumbSize:60,buttonsType:[D.b.FAVORITE,D.b.ADD_TO_QUEUE,D.b.ADD_NEXT_PLAYING,D.b.PLAY_SIM_SONG,D.b.ADD_TO_PLAYLIST,D.b.COMMENT,D.b.COPY_LINK,D.b.SHARE]},Ge=function(e){var t=e.items,n=e.sectionId,r=e.songsPerCol,o=e.isPlayAll,u=Object(m.u)(),s=Object(c.a)(u,1)[0],f=Object(i.useRef)(t);f.current=t;var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(o?s.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:f.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n})}))})):s.playSong(e))};return l.a.createElement(Be,null,Array.from({length:3}).map((function(e,a){return l.a.createElement(i.Fragment,{key:"song-list-item-".concat(a)},l.a.createElement(D.m,{items:t.slice(a*r,(a+1)*r),SongItemProps:ze,SongRightProps:{typeButtons:[D.b.FAVORITE,D.b.MORE]},sectionId:n,startIndex:a*r,tracking:["Home Section","_hSongRadio_play"],actionTracking:Ue,playSongFn:d}))})))},Be=function(e){var t=e.children;return l.a.createElement(d.h,null,l.a.Children.map(t,(function(e,t){var n=2===t?"0":6;return l.a.createElement(i.Fragment,{key:"item-list-".concat(t)},l.a.createElement(d.h.Column,{marginClass:"mar-b-0",fullhd:4,widescreen:4,desktop:4,touch:n,tablet:n},e))})))},He=Object(i.memo)((function(e){var t,n,a,r=e.className,o=e.title,u=e.subtitle,s=e.songsPerCol,f=void 0===s?4:s,b=e.sectionId,h=void 0===b?"hSongRadio":b,E=e.isPlayAll,v=void 0!==E&&E,O=Object(m.b)(W.getSongStation),g=Object(c.a)(O,2),p=g[0],y=g[1];Object(i.useEffect)((function(){y(3*f)}),[f]);var I=(null===(t=p.value)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.items)||[];if((null===(a=p.value)||void 0===a?void 0:a.data)&&!I.length)return null;return l.a.createElement(d.J,{className:T()("zm-song-station-section",r)},u&&l.a.createElement(d.M,{subtitle:!0},u),l.a.createElement(j.e,{title:o}),I.length?l.a.createElement(Ge,{items:I,sectionId:h,songsPerCol:f,isPlayAll:v}):l.a.createElement(Be,null,Array.from({length:3}).map((function(e,t){return l.a.createElement(i.Fragment,{key:"song-list-item-".concat(t)},l.a.createElement(Ye.a,{showTitle:!1,countItem:f,countSection:1,songItem:l.a.createElement(Fe.a,{size:60}),className:"song-station-loader"}))}))))})),Ke=(n(1664),n(50));function Ve(e){var t=e.chart;return l.a.createElement(d.e,null,l.a.createElement(d.e.Image,{className:"banner-image"},l.a.createElement(Ke.a,{to:t.link},l.a.createElement(d.x,{src:t.cover}))))}var qe,Qe=l.a.memo((function(e){var t=e.items,n=void 0===t?[]:t;return l.a.createElement(d.i,{className:"week-chart-section"},l.a.createElement(d.h,{multiline:!0},n.map((function(e){return t=e,l.a.createElement(d.h.Column,{key:"weekChart.item.".concat(t.link),fullhd:4,widescreen:4,desktop:4,touch:4,tablet:4},l.a.createElement(Ve,{chart:t}));var t}))))})),Xe=(qe={},Object(r.a)(qe,s.U.WEEK_CHART,Qe),Object(r.a)(qe,s.U.BANNER,de),Object(r.a)(qe,s.U.SONG,D.g),Object(r.a)(qe,s.U.MIX,P),Object(r.a)(qe,s.U.RECENT,Le),Object(r.a)(qe,s.U.NONLOGGED_RECENT,Te),Object(r.a)(qe,s.U.EFFECT_PLAYLIST,C),Object(r.a)(qe,s.U.GENRE_MOOD_HOME,Ee),Object(r.a)(qe,s.U.NEW_RELEASE,Ae),Object(r.a)(qe,s.U.SONG_STATION,He),qe),Je=[s.U.PLAYLIST,s.U.EFFECT_PLAYLIST,s.U.MIX];var We=Object(i.memo)((function(){var e=Object(o.b)(),t=Object(o.c)(b.p),n=Object(o.c)(G.c),r=Object(o.c)(h.a),d=Object(i.useRef)(t),E=Object(o.c)(z.a),v=Object(o.c)(b.h);Object(K.g)();var O=Object(i.useCallback)((function(t){var n=Object(V.currentTime)(),a=[];v&&v.length>0&&(v.some((function(e){return e.expireTime<n}))||(a=v.map((function(e){return e.key}))));return new Promise((function(n){W.get(t,30,a).then((function(t){var a;(null===(a=t.data)||void 0===a?void 0:a.userSegments)&&e(Object(F.d)(t.data.userSegments)),n(t)})).catch((function(e){e&&B.q.error(e.err,"getHomePage | error ",e)}))}))}),[v]),g=Object(m.p)(O,{rootMargin:"300px"}),p=Object(c.a)(g,3),y=p[0],I=p[1],N=p[2];Object(i.useEffect)((function(){var t=document.getElementById(s.p.SECTION_MAIN_LAYOUT),n=void 0,a=void 0;return E&&(a=setInterval((function(){var c=document.getElementsByClassName(E)[0];c&&(clearInterval(a),n=setTimeout((function(){Object(H.scrollTo)(t,c.offsetTop,500),e(Object(U.d)())}),100))}),100)),function(){a&&clearInterval(a),n&&clearTimeout(n)}}),[E]),Object(i.useEffect)((function(){d.current!=t&&(N.refresh(),d.current=t)}),[t]),Object(i.useEffect)((function(){I.isFetching||n.path!==f.a.HOME||N.refresh()}),[n]),Object(i.useEffect)((function(){return r&&e(Object(Y.d)()),function(){r&&e(Object(Y.c)())}}),[r]);var A=Object(i.useMemo)((function(){return I.items.filter((function(e){var t=e.items,n=e.sectionType;return!(t&&t.length<5&&Je.includes(n))})).map((function(e){var t=e.items,n=void 0===t?[]:t,c=e.sectionType,r=e.options,i=void 0===r?{}:r;return c===s.U.PLAYLIST&&!i.autoSlider&&n.length>5?Object(a.a)(Object(a.a)({},e),{},{items:n.slice(0,5)}):e}))}),[I.items]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{error:I.err,loading:I.isFetching,currentPage:I.currentPage,className:"home-page-content"},Object(j.f)(A,Xe,"pad-0"),I.isFetching?l.a.createElement(u.a,null):null,I.hasMore&&!I.isFetching&&l.a.createElement("div",{ref:y,style:{marginTop:"-300px",height:"1px"}}),!I.hasMore&&l.a.createElement(Se,null)))}));t.default=We}}]);