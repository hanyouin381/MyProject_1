(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[10],{1574:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(43),l=n(1),i=n(6),u=n.n(i);t.a=c.a.memo((function(e){var t=e.name,n=e.title,a=void 0===n?"":n,i=e.icon,o=e.onClick,s=e.active,m=e.isHoverCircle,f=void 0===m||m,b=e.tooltipContent,d=e.tooltipClassName,E=void 0===d?"":d,O=e.tooltipVisible,v=e.disabledTootip,j=e.disabled,g=e.className||"btn-".concat(t);return c.a.createElement(l.O,{content:b||a,disabled:v,hideOnClick:!1,className:E,visible:O},c.a.createElement(r.b,{className:u()("zm-tooltip-btn",g,{"is-hover-circle":f,"is-active":s}),onClick:o,title:a,icon:i||t,disabled:j}))}))},1581:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return g}));var a=n(12),c=n.n(a),r=n(22),l=n(8),i=n(0),u=n.n(i),o=n(5),s=n(27),m=n(125),f=n(26),b=n(19),d=n(1574),E=Object(i.memo)((function(e){var t=e.id,n=e.thumbnail,a=Object(o.c)(f.p);return u.a.createElement(v,{id:t,thumbnail:n,isPlaying:a})})),O=Object(i.memo)((function(e){var t=e.id,n=e.thumbnail,a=Object(o.c)(m.i);return u.a.createElement(v,{id:t,thumbnail:n,isPlaying:a})})),v=function(e){var t=e.id,n=e.thumbnail,a=e.isPlaying,o=Object(i.useRef)(document.createElement("video")),m=Object(i.useRef)(a),f=Object(i.useRef)(!1);m.current=a;var E=Object(i.useState)(!1),O=Object(l.a)(E,2),v=O[0],j=O[1],g=Object(i.useMemo)((function(){return!document.pictureInPictureEnabled||o.current.disablePictureInPicture}),[]);Object(i.useEffect)((function(){if(!g){var e=function(){j(!0),f.current=!0,m.current||document.pictureInPictureElement.pause()},t=function(){return j(!1)};return o.current.addEventListener("enterpictureinpicture",e),o.current.addEventListener("leavepictureinpicture",t),function(){o.current.removeEventListener("enterpictureinpicture",e),o.current.removeEventListener("leavepictureinpicture",t)}}}),[]),Object(i.useEffect)((function(){document.pictureInPictureElement&&(a?document.pictureInPictureElement.play():document.pictureInPictureElement.pause())}),[a]),Object(i.useEffect)((function(){if(document.pictureInPictureElement){if(!f.current){var e=setInterval((function(){m.current&&(p(),clearInterval(e))}),100);return function(){return clearInterval(e)}}p()}}),[t]);var p=function(){var e=Object(r.a)(c.a.mark((function e(){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(a=document.createElement("canvas")).width=a.height=512,o.current.srcObject=a.captureStream(),o.current.muted=!0,(r=new Image).crossOrigin=!0,r.src=n.replace("w240","w480"),e.next=12,r.decode();case 12:return a.getContext("2d").drawImage(r,0,0,512,512),e.next=15,o.current.play();case 15:return e.next=17,o.current.requestPictureInPicture();case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}(),h=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.pictureInPictureElement?document.exitPictureInPicture():(p(),Object(b.a)(s.a.PLAYER,"player_pip"));case 1:case"end":return e.stop()}}),e)}))),[t]);return g?null:u.a.createElement(d.a,{name:"restore",title:"Ch\u1ebf \u0111\u1ed9 c\u1eeda s\u1ed5",active:v,onClick:h})},j=function(){if(document.pictureInPictureElement)return setTimeout((function(){document.exitPictureInPicture()}),200)},g=function(){document.pictureInPictureElement&&document.exitPictureInPicture()};Object(i.memo)(E)},1593:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()/1e3},c=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.setHours(24),e.getTime()/1e3},r=function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},l=function(e){return new Date(1e3*e).getHours()}},1599:function(e,t,n){"use strict";var a=n(8),c=n(197),r=n(214),l=n(1585),i=n.n(l);var u={createPixelArray:function(e,t,n){for(var a,c,r,l,i,u=e,o=[],s=0;s<t;s+=n)c=u[(a=4*s)+0],r=u[a+1],l=u[a+2],("undefined"===typeof(i=u[a+3])||i>=125)&&(c>250&&r>250&&l>250||o.push([c,r,l]));return o},validateOptions:function(e){var t=e.colorCount,n=e.quality;if("undefined"!==typeof t&&Number.isInteger(t)){if(1===t)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");t=Math.max(t,2),t=Math.min(t,20)}else t=10;return("undefined"===typeof n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:t,quality:n}}},o=function(){function e(t){Object(c.a)(this,e),this.canvas=void 0,this.context=void 0,this.width=void 0,this.height=void 0,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context&&this.context.drawImage(t,0,0,this.width,this.height)}return Object(r.a)(e,[{key:"getImageData",value:function(){var e;return null===(e=this.context)||void 0===e?void 0:e.getImageData(0,0,this.width,this.height)}}]),e}(),s=function(e,t,n){var a=function(e){return e.toString(16).padStart(2,"0")};return"#".concat(a(e)).concat(a(t)).concat(a(n))},m=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getPalette",value:function(e,t,n){var a=u.validateOptions({colorCount:t,quality:n}),c=new o(e),r=c.getImageData(),l=c.width*c.height;if(!r)return null;var s=u.createPixelArray(r.data,l,a.quality),m=i()(s,a.colorCount);return m?m.palette():null}},{key:"getColorFromUrl",value:function(t,n,a,c){!function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){for(var e=new Uint8Array(this.response),n=e.length,a=new Array(n),c=0;c<e.length;c++)a[c]=String.fromCharCode(e[c]);var r=a.join(""),l=window.btoa(r);t("data:image/png;base64,"+l)}},n.send()}(t,(function(r){var l=document.createElement("img");l.addEventListener("load",(function(){var r=e.getPalette(l,c,a)[0];n(r,t)})),l.src=r}))}},{key:"getColor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((function(l,i){e.getColorFromUrl(t,(function(e){var t=Object(a.a)(e,3),n=t[0],c=t[1],i=t[2],u=r>=0&&r<1?"rgba(".concat(n,", ").concat(c,", ").concat(i,", ").concat(r,")"):s(n,c,i);l(u)}),n,c)}))}}]),e}();t.a=m},1600:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(1),l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function u(e,t,n,a,c){var r=e.naturalWidth,u=e.naturalHeight;t.style.width=a+"px",t.style.height=c+"px",t.width=a,t.height=c;var o=t.getContext("2d");o.clearRect(0,0,a,c);var s=1,m=r/(s=r/a>u/c?u/c:r/a),f=u/s;try{o.drawImage(e,Math.floor((m-a)/-2),Math.floor((f-c)/-2),Math.ceil(m),Math.ceil(f))}catch(b){console.error("There was a problem drawing the image. "+b)}isNaN(n)||n<1||function(e,t,n,a,c,r){if(isNaN(r)||r<1)return;r|=0;var u,o=e.getContext("2d");try{u=o.getImageData(t,n,a,c)}catch(b){throw new Error("unable to access image data: "+b)}var s,m,f,d,E,O,v,j,g,p,h,y,N,R,A,k,I,C,T,P,L,_,w,S=u.data,x=r+r+1,M=a-1,D=c-1,U=r+1,q=U*(U+1)/2,F={r:0,g:0,b:0,a:0,next:null},Y=F;for(f=1;f<x;f++)Y=Y.next={r:0,g:0,b:0,a:0,next:null},f==U&&(L=Y);Y.next=F,v=O=0;var B=l[r],z=i[r];for(m=0;m<c;m++){for(R=A=k=j=g=p=0,h=U*(I=S[O]),y=U*(C=S[O+1]),N=U*(T=S[O+2]),j+=q*I,g+=q*C,p+=q*T,Y=F,f=0;f<U;f++)Y.r=I,Y.g=C,Y.b=T,Y=Y.next;for(f=1;f<U;f++)d=O+((M<f?M:f)<<2),j+=(Y.r=I=S[d])*(P=U-f),g+=(Y.g=C=S[d+1])*P,p+=(Y.b=T=S[d+2])*P,R+=I,A+=C,k+=T,Y=Y.next;for(_=F,w=L,s=0;s<a;s++)S[O]=j*B>>z,S[O+1]=g*B>>z,S[O+2]=p*B>>z,j-=h,g-=y,p-=N,h-=_.r,y-=_.g,N-=_.b,d=v+((d=s+r+1)<M?d:M)<<2,R+=_.r=S[d],A+=_.g=S[d+1],k+=_.b=S[d+2],j+=R,g+=A,p+=k,_=_.next,h+=I=w.r,y+=C=w.g,N+=T=w.b,R-=I,A-=C,k-=T,w=w.next,O+=4;v+=a}for(s=0;s<a;s++){for(A=k=R=g=p=j=0,h=U*(I=S[O=s<<2]),y=U*(C=S[O+1]),N=U*(T=S[O+2]),j+=q*I,g+=q*C,p+=q*T,Y=F,f=0;f<U;f++)Y.r=I,Y.g=C,Y.b=T,Y=Y.next;for(E=a,f=1;f<=r;f++)O=E+s<<2,j+=(Y.r=I=S[O])*(P=U-f),g+=(Y.g=C=S[O+1])*P,p+=(Y.b=T=S[O+2])*P,R+=I,A+=C,k+=T,Y=Y.next,f<D&&(E+=a);for(O=s,_=F,w=L,m=0;m<c;m++)S[d=O<<2]=j*B>>z,S[d+1]=g*B>>z,S[d+2]=p*B>>z,j-=h,g-=y,p-=N,h-=_.r,y-=_.g,N-=_.b,d=s+((d=m+U)<D?d:D)*a<<2,j+=R+=_.r=S[d],g+=A+=_.g=S[d+1],p+=k+=_.b=S[d+2],_=_.next,h+=I=w.r,y+=C=w.g,N+=T=w.b,R-=I,A-=C,k-=T,w=w.next,O+=a}o.putImageData(u,t,n)}(t,0,0,a,c,n)}n.d(t,"a",(function(){return o}));var o=function(e){var t,n=e.blurRadius,l=void 0===n?0:n,i=e.children,o=e.image,s=Object(a.useRef)();Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){t?f(o)?t.src=o:u(t,s.current,l,window.innerWidth,window.innerHeight):m()}),[o]);var m=function(){f(o)?s.current&&u(t,s.current,l,window.innerWidth,window.innerHeight):((t=new Image).crossOrigin="Anonymous",t.onload=function(e){s.current&&u(t,s.current,l,window.innerWidth,window.innerHeight)},t.src=o)},f=function(e){if(t){var n=new Image;return n.src=e,n.src===o.src}return!1};return c.a.createElement(r.l,{className:"video-blur-image"},c.a.createElement("canvas",{className:"react-blur-canvas",ref:s}),i)};Object(a.memo)(o)},1602:function(e,t,n){"use strict";var a=n(2),c=n(13),r="/search/multi",l="/search",i="/search/getCounter",u={FEATURED:"".concat(a.a,"/featured")},o={multi:function(e,t){return Object(c.d)(r,{q:e,allowCorrect:t})},search:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";return Object(c.d)(l,{q:t,type:e,page:n,count:18,allowCorrect:a})},getCounter:function(e){return Object(c.d)(i,{q:e})},featured:function(e,t){return Object(c.e)(u.FEATURED,{query:e,allowCorrect:t},{credentials:"include"})}};t.a=o},1605:function(e,t,n){"use strict";var a=n(8),c=n(0),r=n.n(c),l=n(1),i=n(6),u=n.n(i),o=n(28);n(1606);t.a=Object(c.memo)((function(e){var t=e.images,n=e.isPlay,i=void 0!==n&&n,s=e.timeout,m=void 0===s?10:s,f=e.shuffle,b=void 0===f||f,d=e.once,E=e.className,O=Object(c.useState)(0),v=Object(a.a)(O,2),j=v[0],g=v[1],p=Object(c.useMemo)((function(){return b?o.Array.shuffle(t):t}),[t]),h=Object(c.useRef)(j),y=Object(c.useRef)(!d);h.current=j,Object(c.useEffect)((function(){if(i&&!d){var e=setTimeout((function(){g(j===p.length-1?0:j+1)}),1e3*m);return function(){return clearTimeout(e)}}}),[p,j,i,d]),Object(c.useEffect)((function(){i&&d&&(y.current=!0,g(j===p.length-1?0:j+1))}),[i]);var N=Object(c.useMemo)((function(){return j<=0?[p[p.length-1],p[0]]:[p[j-1],p[j]]}),[p,j]);return r.a.createElement(l.l,{className:u()("image-effect",E,{"is-play":i})},r.a.createElement(l.l,{renderAs:"ul"},N.map((function(e,t){var n=t===N.length-1;return r.a.createElement(l.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:u()({enter:!!y.current&&n,exit:!!y.current&&!n})},r.a.createElement(l.l,{renderAs:"img",src:e}))}))))}))},1606:function(e,t,n){},1609:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1630:function(e,t,n){},1641:function(e,t,n){},1643:function(e,t,n){},1694:function(e,t,n){},1695:function(e,t,n){},1696:function(e,t,n){},1697:function(e,t,n){},1698:function(e,t,n){},1699:function(e,t,n){},1700:function(e,t,n){},1701:function(e,t,n){},1702:function(e,t,n){},1703:function(e,t,n){},1704:function(e,t,n){},1705:function(e,t,n){},1706:function(e,t,n){},1707:function(e,t,n){},1708:function(e,t,n){},1709:function(e,t,n){},1710:function(e,t,n){},1711:function(e,t,n){},1712:function(e,t,n){},1713:function(e,t,n){},1714:function(e,t,n){},1715:function(e,t,n){},1716:function(e,t,n){},1717:function(e,t,n){},1718:function(e,t,n){},1719:function(e,t,n){},1720:function(e,t,n){},1721:function(e,t,n){},1722:function(e,t,n){},1723:function(e,t,n){},1817:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(0),r=n.n(c),l=n(5),i=n(654),u=n(1),o=n(97),s=n(10),m=n(228),f=n(120),b=n(19),d=Object(c.memo)((function(e){var t=e.advertiser,n=e.companions||{},a=n.htmlResources,c=void 0===a?[]:a,l=n.staticResources,i=n.clickThroughs,o=void 0===i?[]:i,s=n.clickTrackings,m=void 0===s?[]:s,f=c.length?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c[0]}}):r.a.createElement("img",{src:l[0]}),d=function(){m.forEach((function(e){Object(b.k)(e,{})}))};return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.l,{renderAs:"a",href:o[0],target:"_blank",onClick:d},r.a.createElement(u.l,{className:"thumb"},r.a.createElement("figure",{className:"image is-60x60"},f)))),r.a.createElement(u.A.Content,null,r.a.createElement(u.y.Side,{align:"left",className:"is-mark"},r.a.createElement(u.l,{className:"song-info-wrapper"},r.a.createElement(u.l,{className:"item-title title",renderAs:"a",href:o[0],target:"_blank",onClick:d},t.title))),r.a.createElement(u.M,{subtitle:!0},t.description)))))})),E=n(227),O=n(2),v=n(23),j=n(26),g=n(7),p="AD_PLAYER_META_LOADED",h="AD_PLAYER_PLAY",y="AD_PLAYER_PAUSE",N="AD_PLAYER_ENDED",R="AD_PLAYER_PROGRESSING",A="AD_PLAYER_ERROR",k="AD_PLAYER_MUTED",I=function(e){var t=e.source,n=e.playerRef,a=(Object(l.b)(),Object(l.c)(j.v)),i=Object(c.useRef)(0===a);Object(c.useEffect)((function(){n.current&&(n.current.volume=a/100)}),[a]);return r.a.createElement("audio",{ref:n,src:t.uri,autoPlay:!0,onLoadedMetadata:function(){var e;v.a.emit(p,null===(e=n.current)||void 0===e?void 0:e.duration)},onPlay:function(){v.a.emit(h)},onPause:function(){v.a.emit(y)},onEnded:function(){v.a.emit(v.b.PROMOTION_ZONE_TRIGGER,O.S.END_PLAYING_ADS_AUDIO),v.a.emit(N)},onTimeUpdate:function(){var e,t;v.a.emit(R,{currentTime:null===(e=n.current)||void 0===e?void 0:e.currentTime,duration:null===(t=n.current)||void 0===t?void 0:t.duration})},onVolumeChange:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.volume,a=i.current;i.current=0===t,a!==i.current&&v.a.emit(k,i.current)},onError:function(e){v.a.emit(A,e)}})},C=Object(c.memo)((function(e){var t=e.impressions,n=e.trackingEvents,i=e.pauseFn,o=Object(l.b)(),s=Object(l.c)(j.h),f=Object(c.useState)(0),d=Object(a.a)(f,2),I=d[0],C=d[1],T=Object(c.useState)(0),P=Object(a.a)(T,2),L=P[0],_=P[1],w=Object(c.useRef)({});Object(c.useEffect)((function(){var e=function(e){C(e)},n=function(e){var n=e.currentTime,a=e.duration;_(n),w.current.start||(t.forEach((function(e){return Object(b.k)(e.uri,{})})),S("start"),S("creativeView"),w.current.start=!0),w.current.firstQuartile||n>a/4&&(S("firstQuartile"),w.current.firstQuartile=!0),w.current.midpoint||n>a/2&&(S("midpoint"),w.current.midpoint=!0),w.current.thirdQuartile||n>.75*a&&(S("thirdQuartile"),w.current.thirdQuartile=!0)},a=function(){S("pause")},c=function(){S("resume")},r=function(){w.current.complete=!0,S("complete"),o(Object(m.b)())},l=function(e){S(e?"mute":"unmute")},i=function(e){g.q.error(0,"Audio Ad | Play Error",e),o(Object(m.b)())},u=function(){w.current.forceSkip||s.pause()};return s.on(O.N.PLAYER_PLAY,u),v.a.once(p,e),v.a.on(R,n),v.a.on(h,c),v.a.on(y,a),v.a.on(k,l),v.a.once(N,r),v.a.once(A,i),function(){w.current.complete||(o(Object(m.b)()),S("skip")),s.off(O.N.PLAYER_PLAY,u),w.current.forceSkip||s.play(),v.a.off(p,e),v.a.off(R,n),v.a.off(h,c),v.a.off(y,a),v.a.off(k,l),v.a.off(N,r),v.a.off(A,i)}}),[s]),Object(c.useEffect)((function(){v.a.once(v.b.ALARM_OVER_EVENT,(function(){w.current.forceSkip=!0,i(),o(Object(m.b)())}))}),[]);var S=function(e){n.filter((function(t){return t.event===e})).forEach((function(e){return Object(b.k)(e.uri,{})}))};return r.a.createElement(u.l,{className:"level-item mar-b-5"},r.a.createElement(u.l,{renderAs:"span",className:"time left"},g.f.formatTime(L)),r.a.createElement(u.H,{min:0,max:1,value:L/I,onChange:function(){},className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"rgba(255, 255, 255, 0.3)",activeColor:"yellow",direction:E.Direction.Right}),r.a.createElement(u.l,{renderAs:"span",className:"time right"},g.f.formatTime(I)))})),T=Object(c.memo)((function(e){var t=e.togglePlayFn,n=Object(c.useState)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1];Object(c.useEffect)((function(){return v.a.on(h,s),v.a.on(y,m),function(){v.a.off(h,s),v.a.off(y,m)}}),[]);var s=function(){o(!0)},m=function(){o(!1)};return r.a.createElement(u.r,{className:"btn-play zm-tooltip-btn",icon:"".concat(i?"pause-circle-outline":"play-circle-outline"),onClick:t})})),P=function(e){var t=e.source,n=e.impressions,a=e.trackingEvents,l=Object(c.useRef)(null);return r.a.createElement(u.y.Side,{align:"center",className:"player-controls__player-bar"},r.a.createElement(u.y.Item,null,r.a.createElement(u.r,{icon:"repeat",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(u.r,{icon:"pre",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(T,{togglePlayFn:function(){l.current&&(l.current.paused?l.current.play():l.current.pause())}}),r.a.createElement(u.r,{icon:"next",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),r.a.createElement(u.r,{icon:"shuffle",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(C,{impressions:n,trackingEvents:a,pauseFn:function(){l.current&&l.current.pause()}}),r.a.createElement(I,{source:t,playerRef:l}))},L=n(32),_=n(1574),w=(n(1694),r.a.memo((function(){var e,t=Object(s.u)(),n=Object(a.a)(t,1)[0],i=[window.ZMP3_PLAYER,window.ZMP3_PLAYER_2],o=Object(l.c)(j.h),m=Object(l.c)(j.v),f=Object(c.useState)(!1),b=Object(a.a)(f,2),d=b[0],g=b[1],p=Object(c.useState)(!1),h=Object(a.a)(p,2),y=h[0],N=h[1],R=Object(c.useRef)(m||(null===(e=L.a.get(O.A.NP_PLAYER))||void 0===e?void 0:e.volume)||100),A=Object(c.useCallback)((function(e,t){i.forEach((function(n){return n[e](t)}))}),[]),k=Object(c.useCallback)((function(e){n.volumeUpdate(e)}),[]),I=Object(c.useCallback)((function(){g(!1),N(!1)}),[d]),C=Object(c.useCallback)((function(){g(!0),N(!0)}),[d,N,y]),T=Object(c.useCallback)((function(e){var t=-e.deltaX||-e.detail||0,n=-e.deltaY||-e.detail||0,a=Math.abs(t)>Math.abs(n)?t:n,c=m+.2*a;k(Math.min(Math.max(c,0),100))}),[m]);return Object(c.useEffect)((function(){v.c.emit(v.b.PLAYER_UPDATE_VOLUME,m),A("setVolume",m),m&&(R.current=m)}),[m]),r.a.createElement(u.l,{className:"zm-player-volume",onMouseLeave:I,onMouseEnter:C,onWheel:T},r.a.createElement(_.a,{name:"volume",title:"\xc2m l\u01b0\u1ee3ng",disabledTootip:!0,icon:"volume".concat(0===m?"-mute":""),onClick:function(){o.isMuted()?(A("unmute",!0),n.volumeUpdate(R.current)):(A("mute",!0),n.volumeUpdate(0))}}),r.a.createElement(u.H,{onChange:k,min:0,max:100,value:m,direction:E.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle"}))}))),S=Object(c.memo)((function(){return r.a.createElement(u.y.Side,{align:"right",className:"player-controls-right"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"mv",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"karaoke",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.l,{className:"quality-button"},r.a.createElement(u.r,{icon:"",disabled:!0,className:"quality-name",text:"HQ"}))),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(w,null)),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.l,{renderAs:"span",className:"divide"})),r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.r,{icon:"list-music",disabled:!0,className:O.o.QUEUE_EXPAND_BUTTON})))})),x=n(143),M=n(6),D=n.n(M),U=function(){var e=Object(l.c)(f.d),t=Object(l.c)(x.e);return r.a.createElement(u.l,{className:D()("player-controls advertising",{opac:t})},r.a.createElement(u.l,{className:"level player-controls__container"},r.a.createElement(d,{advertiser:e.advertiser,companions:e.companions}),r.a.createElement(P,{source:e.source,impressions:e.impressions,trackingEvents:e.trackingEvents}),r.a.createElement(S,null)))},q=(n(1695),function(){var e=Object(l.c)(f.d),t=e.companions||{},n=t.htmlResources,a=void 0===n?[]:n,c=t.staticResources,i=t.clickThroughs,o=void 0===i?[]:i,s=t.clickTrackings,m=void 0===s?[]:s,d=e.advertiser,E=a.length?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a[0]}}):r.a.createElement("img",{src:c[0]});return r.a.createElement(u.l,{className:"ads-banner"},r.a.createElement(u.l,{className:"ads-banner-content"},r.a.createElement(u.M,null,"Qu\u1ea3ng c\xe1o"),r.a.createElement(u.l,{renderAs:"a",href:o[0],target:"_blank",onClick:function(){m.forEach((function(e){Object(b.k)(e,{})}))}},r.a.createElement(u.l,{className:"image"},E)),r.a.createElement(u.M,null,d.title),r.a.createElement(u.M,{subtitle:!0},d.description)))}),F=function(){var e=Object(l.b)(),t=Object(l.c)(f.c),n=Object(l.c)(f.h);return Object(c.useEffect)((function(){t>0&&e(Object(m.c)())}),[t]),n?r.a.createElement(U,null):r.a.createElement(r.a.Fragment,null)},Y=n(152),B=n(283),z=n(11),H=n(17),Q=Object(c.memo)((function(){var e=Object(c.useRef)(null),t=Object(l.b)(),n=Object(s.u)(),i=Object(a.a)(n,1)[0],u=Object(l.c)(j.h),m=Object(l.c)(B.b),f=m.link,d=m.isPlaying,E=m.id,p=m.campaignKey,h=Object(l.c)(j.v),y=Object(l.c)(z.n),N=Object(l.c)(z.a),R=Object(l.c)(H.d),A=Object(c.useRef)({startTime:0,timeout:void 0}),k=Object(c.useCallback)((function(e){var t;(null===R||void 0===R?void 0:R.encodeId)&&Object(b.b)({id:E,action:e,media_id:R.encodeId,src_play:R.sectionId||(null===(t=R.currentPlaylist)||void 0===t?void 0:t.sectionId)||O.Y,campaign_key:p},N,O.z.BUMPER_AUDIO)}),[E,R,N]);Object(c.useEffect)((function(){d&&y&&(t(Object(Y.c)()),null===u||void 0===u||u.seek(0))}),[d,y]);var I=Object(c.useCallback)((function(){e.current&&(e.current.volume=h/100)}),[h]);Object(c.useEffect)((function(){I()}),[I]);var C=function(){t(Object(Y.c)()),i.playNextSong(!1)},T=function(){A.current.timeout&&clearTimeout(A.current.timeout)};return d&&f&&!y?r.a.createElement("audio",{ref:e,src:f,autoPlay:!0,onPlay:function(){k(1),I()},onEnded:function(){v.c.emit(v.b.PROMOTION_ZONE_TRIGGER,O.S.END_PLAYING_ADS_AUDIO),k(2),C()},onError:function(e){console.log("==> Bumper Audio Error: "),console.log(e),g.q.errorCritical(O.t.CLIENT,"Bumper Audio Error",e),T(),k(3),C()},onLoadStart:function(){T(),A.current={startTime:Date.now(),timeout:setTimeout((function(){k(4),C()}),o.n)}},onLoadedData:function(){T()}}):null})),G=n(1823),V=n(87),W=n(48),K=(n(1696),n(1697),Object(c.memo)((function(e){var t=e.isPlaying,n=e.className,l=e.children,i=Object(c.useRef)(null),o=Object(c.useRef)(null),s=Object(c.useRef)(t),m=Object(c.useRef)(),f=Object(c.useRef)(),b=Object(c.useState)(!1),d=Object(a.a)(b,2),E=d[0],O=d[1],v=Object(c.useState)(void 0),j=Object(a.a)(v,2),g=j[0],p=j[1],h=Object(c.useState)(!1),y=Object(a.a)(h,2),N=y[0],R=y[1];s.current=t||N,Object(c.useEffect)((function(){var e=I();e>0?(O(!0),s.current&&!g&&A(e)):k()}),[l,s.current]),Object(c.useEffect)((function(){return function(){clearTimeout(m.current),clearTimeout(f.current)}}),[]);var A=function e(t){var n=Math.ceil(t/70);p({transform:"translateX(".concat(-t,"px)"),transition:"transform ".concat(n,"s linear ").concat(2,"s")}),m.current=setTimeout((function(){return p(void 0)}),1e3*(n+2+.5)),f.current=setTimeout((function(){s.current&&e(t)}),1e3*(n+2+5))},k=function(){O(!1),p(void 0),clearTimeout(m.current),clearTimeout(f.current)},I=function(){var e,t,n=(null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().width)||0,a=(null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0;return a>n?a:0};return r.a.createElement(u.l,{className:D()("zm-text-transition",n,{"is-transition":E}),domRef:i,onMouseEnter:function(){return R(!0)},onMouseLeave:function(){return R(!1)}},r.a.createElement(u.l,{className:"zm-text-transition-content",style:g},r.a.createElement(u.l,{renderAs:"span",domRef:o,className:"zm-text-transition-item"},l),E&&r.a.createElement(u.l,{renderAs:"span",className:"zm-text-transition-item"},l)))}))),Z=n(95),X=n(1600),J=n(1605),$=(n(1698),function(){}),ee=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(j.p),a=Object(l.c)(j.j),i=n&&!a,o=Object(l.c)(x.f),s=Object(l.c)(x.c),m=Object(l.c)(x.b),f=Object(c.useMemo)((function(){return s.slice(0,s.length-s.length%3)}),[s]),b=Object(c.useCallback)((function(){return o?m.length?r.a.createElement(J.a,{images:m,isPlay:i}):r.a.createElement(te,{defaultVBGUrls:f,isRunning:i}):r.a.createElement(r.a.Fragment,null)}),[o,i,m]);return r.a.createElement(u.l,{className:"fs-background"},r.a.createElement(X.a,{image:t?t.thumbnailM:"",blurRadius:99}),r.a.createElement(u.l,{className:"overlay"}),b())})),te=function(e){var t=e.defaultVBGUrls,n=e.isRunning,l=Object(c.useState)(0),i=Object(a.a)(l,2),u=i[0],o=i[1],s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current&&(n?s.current.play():s.current.pause())}),[n]);var m=Object(c.useMemo)((function(){return function(e,t){if(!e.length)return[];var n=e.length,a=e[t],c=e[t+1<n?t+1:0],r=e[t-1>-1?t-1:n-1];switch(t%3){case 2:return[c,r,a];case 1:return[r,a,c];case 0:return[a,c,r];default:return[]}}(t,u)}),[u,t]),f=function(){var e=u===t.length-1?0:u+1;o(e)},b=function(){s.current&&n&&s.current.play()};return r.a.createElement(r.a.Fragment,null,m.map((function(e,t){var n=u%3===t;return r.a.createElement(G.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:4e3,classNames:"bg-animate",key:"video.backgroud.".concat(t)},r.a.createElement("video",{key:"video.backgroud.".concat(t),src:e,ref:n?s:null,muted:!0,onLoadedMetadata:n?b:$,onEnded:n?f:$}))})))},ne=n(39),ae=n(40),ce=function(e){var t=e.text,n=e.active,a=e.onChange,c=e.disabled,l=e.className;return r.a.createElement(u.d,{className:D()("zm-tg-btn",l),onClick:a,disabled:c},t,r.a.createElement(u.q,{icon:n?r.a.createElement(ae.w,null):r.a.createElement(ae.v,null),className:D()("ic-svg-switch",{"zm-switch-off":!n})}))},re=function(){var e=Object(l.b)(),t=Object(l.c)(x.p),n=Object(l.c)(j.c)||"",i=Object(l.c)(x.a),u=Object(l.c)(j.p),o=Object(s.u)(),m=Object(a.a)(o,1)[0],f=Object(c.useRef)(0),b=Object(c.useRef)(!1),d=Object(l.c)(j.h),E=function(){b.current=!1,m.isBufferingUpdate(!1),u&&d.play(),d.seek(f.current),f.current=(null===d||void 0===d?void 0:d.getCurrentTime())||0};return Object(c.useEffect)((function(){b.current&&(f.current=(null===d||void 0===d?void 0:d.getCurrentTime())||f.current,d.stop(),d.setupSource(t?i:n))}),[t,d]),Object(c.useEffect)((function(){return b.current&&d.once(O.N.PLAYER_LOADEDMETADATA,E),function(){return d.off(O.N.PLAYER_LOADEDMETADATA,E)}}),[t,u,d]),r.a.createElement(ce,{active:t,onChange:function(){e(Object(V.f)()),b.current=!0},text:"Ch\u1ec9 ph\xe1t nh\u1ea1c n\u1ec1n",disabled:!i})},le=[O.u.SMALL,O.u.MEDIUM,O.u.LARGE],ie=function(e){var t=e.size,n=e.active,a=e.disabled,c=e.onClick;return r.a.createElement(u.d,{renderAs:"a",disabled:a,className:D()("size-".concat(t),{active:n}),onClick:function(){return c(t)}},"A")},ue=function(){var e=Object(l.b)(),t=Object(l.c)(x.i),n=Object(l.c)(x.j),a=function(t){e(Object(V.b)(t))},c=n!==O.v.LYRIC;return r.a.createElement(u.d,{className:"size-btn",disabled:c},r.a.createElement(u.l,{renderAs:"span"},"C\u1ee1 ch\u1eef l\u1eddi nh\u1ea1c"),r.a.createElement(u.l,{className:"sizes"},le.map((function(e){return r.a.createElement(ie,{key:e,size:e,active:e===t,disabled:c,onClick:a})}))))},oe=n(1566),se=function(){var e=Object(l.b)(),t=Object(l.c)(x.f),n=Object(l.c)(H.n),i=Object(s.w)(),o=Object(a.a)(i,1)[0],m=Object(oe.a)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useRef)(null),O=Object(c.useState)(!1),v=Object(a.a)(O,2),j=v[0],g=v[1];Object(s.t)(E,(function(e){e||d(e)}));var p=Object(c.useMemo)((function(){return j?r.a.createElement(u.l,null,"C\xe0i \u0111\u1eb7t ch\u1ebf \u0111\u1ed9 ph\xe1t to\xe0n m\xe0n h\xecnh t\u1ea1i \u0111\xe2y",r.a.createElement(u.r,{icon:"close",onClick:function(){return g(!1)}})):"C\xe0i \u0111\u1eb7t"}),[j]);return Object(c.useEffect)((function(){if(!L.a.get("zmp3-tooltip-fs-setting")){var e=setTimeout((function(){g(!0),L.a.set("zmp3-tooltip-fs-setting",!0)}),1e3);return function(){return clearTimeout(e)}}}),[]),r.a.createElement(u.l,{className:"setting-btn",domRef:E},r.a.createElement(u.O,{key:j?"tooltip-feature":"tooltip-hover",visible:!!j||void 0,content:p,className:D()({"zm-tooltip-new-feature":j})},r.a.createElement(u.r,{icon:"settings",className:"zm-tooltip-btn",onClick:function(){d(),g(!1)}})),b&&r.a.createElement(u.B,null,r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(ce,{active:t,onChange:function(){e(Object(V.h)())},text:"H\xecnh n\u1ec1n"})),r.a.createElement(u.B.List.Item,null,r.a.createElement(re,null)),r.a.createElement(u.B.List.Item,null,r.a.createElement(ue,null)),r.a.createElement(u.B.List.Item,null,r.a.createElement(ce,{text:"Lu\xf4n ph\xe1t nh\u1ea1c to\xe0n m\xe0n h\xecnh",active:n,onChange:o.toggleFullPlayerMode})))))},me=n(194),fe=(n(1699),function(e){var t,n=e.tabs,i=e.tabActive,o=e.onChangeTab,s=e.song,m=Object(l.b)(),f=Object(c.useState)(Boolean(document.fullscreenElement)),b=Object(a.a)(f,2),d=b[0],E=b[1];Object(c.useEffect)((function(){var e=function(){E(Boolean(document.fullscreenElement))};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]);return r.a.createElement(u.l,{className:"fs-header"},r.a.createElement(u.l,{className:"left"},r.a.createElement(u.l,null,r.a.createElement(u.l,{className:"zmp3-logo"})),(null===s||void 0===s?void 0:s.currentPlaylist)&&r.a.createElement(u.l,{className:"info"},r.a.createElement(u.l,null,"T\u1eeb playlist"),r.a.createElement(u.l,{renderAs:"span"},null===s||void 0===s||null===(t=s.currentPlaylist)||void 0===t?void 0:t.title))),r.a.createElement(ne.d,{items:n,tabActive:i,onChangeTab:o}),r.a.createElement(u.y,{className:"action-group"},r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:d?"scale-2":"scale-1",title:d?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh",onClick:me.toggleFullScreen})),r.a.createElement(u.y.Item,null,r.a.createElement(se,null)),!d&&r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:"go-down",title:"\u0110\xf3ng",onClick:function(){Object(me.closeFullscreen)(),setTimeout((function(){return m(Object(V.g)({isOpen:!1}))}),document.fullscreenElement?300:0)}}))))}),be=n(1680),de=Object(c.memo)((function(){var e=Object(be.a)(5e3),t=Object(c.useRef)(document.getElementsByClassName("now-playing-bar")[0]);return Object(c.useEffect)((function(){var n,a;e?null===(n=t.current)||void 0===n||n.classList.add("is-idle"):null===(a=t.current)||void 0===a||a.classList.remove("is-idle")}),[e]),r.a.createElement(r.a.Fragment,null)})),Ee=function(){return r.a.createElement(u.l,{className:"loader"},r.a.createElement(ae.r,null))};var Oe,ve="init",je="start",ge="seek",pe="play",he="pause",ye="resize",Ne="clear";!function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){if(200===n.status){var e,a;e=new Blob([n.responseText],{type:"text/javascript"}),a=window.URL.createObjectURL(e);var c=new Worker(a);t(c)}},n.send()}(O.g+"/js/worker.js",(function(e){Oe=e}));var Re=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(x.n),a=Object(c.useMemo)((function(){return Object(g.j)()}),[]);return n.length&&a?r.a.createElement(Ae,{song:t,sentences:n}):r.a.createElement(u.l,{className:"fs-karaoke-empty"},"Karaoke \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt")})),Ae=function(e){var t=e.song,n=e.sentences,a=Object(l.c)(j.p),o=Object(l.c)(j.j),s=Object(c.useRef)(null),m=Object(i.a)().height,f=Object(l.c)(j.h),b=a&&!o;return Object(c.useEffect)((function(){var e,t=document.getElementById("karaoke-canvas").transferControlToOffscreen(),n=((null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,a=void 0===n?m:n;Oe.postMessage({canvas:t,type:ve,height:a},[t]);var c=function(){Oe.postMessage({type:ge,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0})};return f.on(O.N.PLAYER_SEEKED,c),function(){Oe.postMessage({type:Ne}),f.off(O.N.PLAYER_SEEKED,c)}}),[f]),Object(c.useEffect)((function(){n.length&&Oe.postMessage({type:je,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0,sentences:n,song:t})}),[n,f]),Object(c.useEffect)((function(){Oe.postMessage({type:b?pe:he,currentTime:(null===f||void 0===f?void 0:f.getCurrentTime())||0})}),[b,f]),Object(c.useEffect)((function(){var e,t=((null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,n=void 0===t?m:t;Oe.postMessage({type:ye,height:n+80})}),[m]),r.a.createElement(u.l,{className:"fs-karaoke"},r.a.createElement(u.l,{className:"fs-karaoke-content",domRef:s},r.a.createElement("canvas",{id:"karaoke-canvas",height:"1000",width:"1500"})))},ke=n(3),Ie=n(15),Ce=n(27),Te=n(150),Pe=Object(c.memo)((function(e){var t=e.onClick,n=e.type,a=e.keyCode;return Object(c.useEffect)((function(){var e=function(e){e.keyCode===a&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]),r.a.createElement(u.r,{icon:"go-".concat(n),className:D()("arrow-btn",n),onClick:t})})),Le=n(30),_e=n(173),we=n(57),Se=Object(c.memo)((function(e){var t=e.active,n=e.item,c=e.isPlaying,l=e.left,i=e.width,o=e.centered,m=e.playFn,f={position:"absolute",left:l,width:i},b=n.thumbnailM.replace("w240","w480"),d=Object(s.u)(),E=Object(a.a)(d,1)[0],v=Object(we.g)();return r.a.createElement(u.e,{className:D()({active:t,centered:o}),style:f},r.a.createElement(u.e.Content,null,r.a.createElement(u.x,{src:b}),r.a.createElement(u.l,{className:"action"},!n.episode&&r.a.createElement(Le.g,{className:"action-btn",objectType:O.K.SONG,objectId:n.encodeId,object:n,disableAnimation:!0}),r.a.createElement(u.r,{className:"",classNameIcon:"action-play",icon:c?"pause-circle-outline":"play-circle-outline",onClick:function(){return m(n,{isClearQueue:!1})}}),!n.episode&&r.a.createElement(u.P,{className:D()("action-btn",{hide:!(null===n||void 0===n?void 0:n.radioId)}),icon:"radio",title:"Ph\xe1t Radio c\u1ee7a b\xe0i h\xe1t",onClick:function(){(null===n||void 0===n?void 0:n.radioId)&&_e.PlaylistService.getDetail(null===n||void 0===n?void 0:n.radioId).then((function(e){e.data&&e.data.song&&e.data.song.items&&(E.playPlaylist(e.data,{forcePlay:!0}),v.push(e.data.link))})).catch((function(e){}))}})),t&&c&&r.a.createElement(u.q,{icon:"gif-playing-white",className:"playing-icon"})),r.a.createElement(u.l,{className:"meta-info"},r.a.createElement(u.M,null,n.title),r.a.createElement(u.M,{subtitle:!0},n.artistsNames)))})),xe=(n(1700),Object(c.memo)((function(e){var t=e.moveToHero,n=Object(be.a)(4e3);return Object(c.useEffect)((function(){n&&t()}),[t,n]),r.a.createElement(r.a.Fragment,null)}))),Me=Object(c.memo)((function(){var e=Object(l.c)(H.t),t=Object(l.c)(H.k),n=Object(l.c)(H.c),i=Object(l.c)(j.p),o=Object(l.c)(j.j),m=Object(l.c)(H.w),f=Object(c.useMemo)((function(){return m.length?[].concat(Object(Ie.a)(t),["recommendID"]):t}),[m.length>0,t]),d=Object(c.useMemo)((function(){return f.indexOf(n)}),[f,n]),E=Object(c.useState)({}),O=Object(a.a)(E,2),v=O[0],g=O[1],p=Object(c.useState)(d),h=Object(a.a)(p,2),y=h[0],N=h[1],R=Object(c.useRef)(),A=Object(c.useRef)({length:0,width:0,distance:0,moved:!1,centeredIndex:d}),k=Object(c.useRef)((function(){})),I=Object(s.u)(),C=Object(a.a)(I,1)[0];Object(c.useEffect)((function(){var e,t=((null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;A.current.width=n,A.current.length=360*(f.length-1)+430}),[f]),Object(c.useEffect)((function(){var e=A.current.moved;k.current=function(){return P(T(y),y,e)},k.current()}),[y]),Object(c.useEffect)((function(){d===y&&P(T(y),y,!1),N(d)}),[d]),Object(c.useEffect)((function(){Object(b.a)(Ce.a.PLAYER,"player_fullscreen");var e=function(){var e,t=((null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;A.current.width=n,k.current()};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(c.useEffect)((function(){var t=function(t){if(t.keyCode===Te.a.ENTER){t.preventDefault();var n=f[A.current.centeredIndex],a=e[n]||m[0];C.playSong(a,{isClearQueue:!1})}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[f,e,m]);var T=function(e){var t=360*e;return t+=e===d?215:e<d?180:250,A.current.width/2-t},P=Object(c.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];A.current.distance=e,A.current.moved=!0,A.current.centeredIndex=t;var a={transform:"translateX(".concat(e,"px)"),transition:n?"linear 0.5s":void 0};g(a)}),[]),L=Object(c.useCallback)((function(){N(d)}),[d]),_=function(){return y>0},w=function(){return y<f.length-1},S=360*(f.length-1)+430,x=A.current.centeredIndex,M=x+4,D=x-4>0?x-4:0,U=Object(c.useMemo)((function(){return f.slice(D,M)}),[f,D,M]);return r.a.createElement(u.l,{className:"fs-media-list",domRef:R},r.a.createElement(u.l,{className:"list-wrapper"},r.a.createElement(u.l,{className:"list",style:Object(ke.a)({position:"relative",height:360,width:S},v)},U.map((function(t,n){var a=n+D,c=e[t]||m[0],l=a===d,u=y===a,s=i&&l,f=o&&l,b=a>d?360*(a-1)+430:360*a;return r.a.createElement(Se,{key:"".concat(t,"-").concat(c.encodeId),item:c,active:l,centered:u,isPlaying:s,isBuffering:f,left:b,width:l?430:360,playFn:C.playSong})}))),_()&&r.a.createElement(Pe,{onClick:function(){_()&&N(y-1)},type:"left",keyCode:Te.a.ARROW_LEFT}),w()&&r.a.createElement(Pe,{onClick:function(){w()&&N(y+1)},type:"right",keyCode:Te.a.ARROW_RIGHT})),r.a.createElement(xe,{moveToHero:L}))})),De=["L\u1eddi b\xe0i h\xe1t \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"],Ue=Object(c.memo)((function(e){var t=e.texts,n=void 0===t?"":t,a=n.trim().length<1,c=a?De:n.split("\r\n");return r.a.createElement(u.l,{renderAs:"ul",className:D()("scroll-content",{"is-empty":a})},c.map((function(e,t){return r.a.createElement(u.l,{renderAs:"li",className:"item text-item",key:t},e)})))})),qe=n(84),Fe=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,a=0;a<e.length;a++){var c=e[a];if(c.startTime>t)break;n=c.index}return n},Ye=["wheel"],Be=function(e){var t=e.size,n=e.sentences,o=Object(l.c)(j.h),s=Object(c.useState)(Fe(n,(null===o||void 0===o?void 0:o.getCurrentTime())||0)),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(c.useState)(!1),E=Object(a.a)(d,2),v=E[0],g=E[1],p=Object(c.useRef)(null),h=Object(c.useRef)(null),y=Object(c.useRef)(null),N=Object(i.a)().height;Object(c.useEffect)((function(){return n.length&&o.on(O.N.PLAYER_TIMEUPDATE,R),function(){o.off(O.N.PLAYER_TIMEUPDATE,R)}}),[n,o]),Object(c.useEffect)((function(){var e=function(){clearTimeout(p.current),v?p.current=setTimeout((function(){g(!1)}),5e3):g(!0)};return Ye.forEach((function(t){var n;return null===(n=h.current)||void 0===n?void 0:n.addEventListener(t,e)})),function(){Ye.forEach((function(t){var n;return null===(n=h.current)||void 0===n?void 0:n.removeEventListener(t,e)}))}}),[v]),Object(c.useEffect)((function(){var e,t;if(!(!h.current||f<0||v)){var n=h.current.getBoundingClientRect().height||500,a=(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect().height)||100,c=((null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.offsetTop)||0)-(n-a)/2,r=h.current.scrollTop;Math.abs(c-r)>2*a?h.current.scrollTop=c:Object(qe.scrollTo)(h.current,c,400)}}),[f,v,t,N]);var R=function(e){b(Fe(n,e.current))};return r.a.createElement(u.l,{renderAs:"ul",className:"scroll-content",domRef:h},n.map((function(e){var t=e.text,n=e.index,a=n===f,c=n<f;return r.a.createElement(u.l,{renderAs:"li",domRef:a?y:null,className:D()("item",{"is-active":a,"is-over":c}),key:n},t)})))},ze=(n(1701),function(e){var t=e.song,n=e.isPlaying;return r.a.createElement(u.l,{className:"song-item"},r.a.createElement(u.l,{className:"cover"},r.a.createElement(u.x,{src:t.thumbnailM.replace("w240","w480")}),n&&r.a.createElement(u.q,{icon:"gif-playing-white",className:"playing-icon"})))}),He=function(e){var t=e.song,n=Object(l.b)(),a=Object(l.c)(x.m),i=Object(l.c)(x.l),o=Object(l.c)(x.o),s=Object(l.c)(x.i),m=Object(l.c)(j.p);Object(c.useEffect)((function(){a&&n(Object(V.e)(a))}),[a]);var f=Object(c.useCallback)((function(){return i.length||a?r.a.createElement(Be,{size:s,sentences:i}):r.a.createElement(Ue,{texts:o})}),[i,a,s,o]);return r.a.createElement(u.l,{className:"fs-lyric"},r.a.createElement(u.h,null,r.a.createElement(u.h.Column,{fullhd:5,tablet:"0",marginClass:" "},r.a.createElement(ze,{song:t,isPlaying:m})),r.a.createElement(u.h.Column,{fullhd:7,tablet:12,className:"is-size-".concat(s),marginClass:" "},f())))},Qe=[{name:"Danh s\xe1ch ph\xe1t"},{name:"Karaoke"},{name:"L\u1eddi b\xe0i h\xe1t"}],Ge=Object(c.memo)((function(e){var t=e.song,n=Object(l.b)(),a=Object(l.c)(x.k),i=Object(l.c)(Z.e);Object(c.useEffect)((function(){i&&n(Object(V.g)({isOpen:!1}))}),[i]),Object(c.useEffect)((function(){v.a.emit(v.b.HIDE_HOVER_MENU),v.a.emit(v.b.HIDE_CONTEXT_MENU)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{song:t}),r.a.createElement(u.l,{className:"fs-content"},r.a.createElement(fe,{tabs:Qe,tabActive:a,onChangeTab:function(e){n(Object(V.c)(e))},song:t}),t&&r.a.createElement(Ve,{song:t})),r.a.createElement(de,null))})),Ve=function(e){var t=e.song,n=Object(l.b)(),a=Object(l.c)(x.d),i=Object(l.c)(x.g),o=Object(l.c)(x.k),s=Object(l.c)(f.h),m=Object(l.c)(j.p),b=Object(c.useRef)(!0),d=Object(l.c)(x.n),E=Object(c.useMemo)((function(){return Object(g.j)()}),[]);Object(c.useEffect)((function(){n(Object(V.d)(t))}),[t]);var v=Object(c.useCallback)((function(){return!b.current||o!==O.v.KARA||d.length&&E||i!==t.encodeId?(i===t.encodeId&&(b.current=!1),s?r.a.createElement(q,null):o===O.v.LIST?r.a.createElement(Me,null):a?r.a.createElement(Ee,null):o===O.v.LYRIC?r.a.createElement(He,{song:t}):r.a.createElement(Re,{song:t})):(b.current=!1,n(Object(V.c)(O.v.LYRIC)),r.a.createElement(He,{song:t}))}),[a,o,s,i,t,d,E]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"fs-body"},v()),r.a.createElement(u.l,{className:"fs-bottom"},o!==O.v.LIST&&r.a.createElement(K,{isPlaying:m},t.title," -"," ",r.a.createElement(u.l,{renderAs:"span",className:"artist"},t.artistsNames))))},We=function(){var e=Object(l.b)(),t=Object(l.c)(H.d),n=Object(i.a)().width,o=Object(l.c)(x.e),s=Object(l.c)(H.p),m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1];return Object(c.useEffect)((function(){return function(){e(Object(V.g)({isOpen:!1}))}}),[]),Object(c.useEffect)((function(){n<u.o&&o&&s?(d(!0),e(Object(W.q)(!1))):b&&!o&&(e(Object(W.q)(!0)),d(!1))}),[o,n,s]),r.a.createElement(G.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:"zm-video-animation"},r.a.createElement(u.l,{className:"fs-nowplaying"},r.a.createElement(Ge,{song:t})))},Ke=n(125),Ze=n(12),Xe=n.n(Ze),Je=n(22),$e=n(132),et=n(64),tt=Object(c.memo)((function(e){var t=e.addComment,n=e.encodeId,a=Object(l.c)(z.a),i=Object(c.useRef)(null),o=Object(l.c)(z.t),s=Object(l.c)(z.q);return a.id<=0?r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,null,r.a.createElement(u.d,{className:"login-btn"},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 tr\xf2 chuy\u1ec7n")),r.a.createElement(u.l,{className:"login-text"},"T\u1ea5t c\u1ea3 tin nh\u1eafn c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb c\xf4ng khai")):r.a.createElement(u.l,{className:"comment-input",renderAs:"form",onSubmit:function(e){var c;if(e.preventDefault(),!(a.userid<=0)&&i.current&&(null===(c=i.current)||void 0===c?void 0:c.value)){var r,l={id:Math.random(),content:null===(r=i.current)||void 0===r?void 0:r.value,avatar:a.avatar,username:a.username||a.displayName};t(Object(ke.a)(Object(ke.a)({},l),{},{pkgId:s}));try{$e.a.addComment(n,l.content)}catch(u){g.q.error(u.code,"Put Live Radio comment id:",n)}i.current.value=""}}},r.a.createElement(ne.b,{avatar:o,pkgId:s}),r.a.createElement(u.u,{placeholder:a.userid<=0?"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 b\xecnh lu\u1eadn...":"Nh\u1eadp b\xecnh lu\u1eadn v\xe0o \u0111\xe2y...",domRef:i}))})),nt=n(28),at=n(31),ct=Object(c.memo)((function(e){var t=e.comment,n=(t.pkgId||0)>0?64:0;return r.a.createElement(u.A,{className:"zm-live-comment-item"},r.a.createElement(u.A.Left,null,r.a.createElement(ne.b,{avatar:t.avatar,pkgId:t.pkgId,size:40,isCircleInside:!0})),r.a.createElement(u.A.Content,{className:"zm-live-comment-item-content"},r.a.createElement(u.l,{className:"username"},t.username," ",t.official&&r.a.createElement(ae.a,null),n>0&&r.a.createElement(u.q,{icon:t.pkgId===O.lb.PREMIUM?r.a.createElement(ae.m,null):r.a.createElement(ae.j,null)})),r.a.createElement(u.l,{className:"content",dangerouslySetInnerHTML:{__html:t.content}})))})),rt=Object(c.memo)((function(e){var t=e.encodeId,n=e.comments,l=e.setCommentList,i=Object(c.useRef)(null),o=Object(c.useRef)(!1),s=Object(c.useState)(!0),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(be.a)(5e3),E=Object(c.useRef)(0);E.current=n.length;var O=Object(c.useRef)(f);O.current=f;var v=Object(c.useMemo)((function(){var e;return(null===(e=n[0])||void 0===e?void 0:e.id)||0}),[n]),j=function(){return i.current&&i.current.scrollTop<=300&&!O.current&&E.current<150};Object(c.useEffect)((function(){var e;o.current&&d&&(null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight))}),[d]),Object(c.useEffect)((function(){var e;if(i.current)if(n.length&&n[n.length-1].id<1)null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight);else if(!o.current){var t,a=i.current,c=a.scrollHeight-(a.scrollTop+a.clientHeight);if(0!==c)if(c>200)null===(t=i.current)||void 0===t||t.scrollTo(0,i.current.scrollHeight);else Object(qe.scrollTo)(i.current,i.current.scrollHeight,400)}}),[n]),Object(c.useEffect)((function(){if(o.current=!1,i.current&&window.ResizeObserver){var e=new ResizeObserver((function(){var e;null===(e=i.current)||void 0===e||e.scrollTo(0,i.current.scrollHeight)}));return e.observe(i.current),function(){return e.disconnect()}}}),[t]),Object(c.useEffect)((function(){0!==v?j()&&g(v,it.BEFORE):g(0,it.NEWEST)}),[v]);var g=function(){var e=Object(Je.a)(Xe.a.mark((function e(n,a){var c,r,i;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,$e.a.getCommentList(t,n,a,50);case 4:c=e.sent,r=c.data.items,(i=void 0===r?[]:r).length>0&&l(Object(Ie.a)(i.reverse())),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,10,12,15]])})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(u.l,{className:"zm-live-comment-list",onScroll:function(e){j()&&g(v,it.BEFORE);var t=e.target,n=t.scrollHeight,a=t.scrollTop,c=t.clientHeight;o.current=n-(a+c)>0},domRef:i},!f&&nt.Array.isEmpty(n)?r.a.createElement(u.l,{className:"empty"},r.a.createElement(u.x,{src:at.l+"/icons/Empty-Chat.png"}),r.a.createElement(u.l,{className:"text"},"Ch\u01b0a c\xf3 tr\xf2 chuy\u1ec7n n\xe0o")):n.map((function(e){return r.a.createElement(ct,{comment:e,key:e.id})})))})),lt=Object(c.memo)((function(e){var t=e.title,n=e.content,a=e.bgColor,c=e.remove;return r.a.createElement(u.l,{className:"pin-comment",style:{backgroundColor:a}},r.a.createElement(u.l,{className:"pin-title"},r.a.createElement(u.l,{renderAs:"span"},"Ghim"),t),r.a.createElement(u.l,{className:"pin-content"},r.a.createElement(u.l,{dangerouslySetInnerHTML:{__html:n}})),r.a.createElement(u.r,{onClick:c,icon:"close"}))})),it=(n(1702),{NEWEST:"newest",BEFORE:"before",AFTER:"after"}),ut=Object(c.memo)((function(e){var t=e.item,n=e.setPinnedMessage,i=e.isPinnedMessage,o=Object(l.c)(Ke.k),s=Object(c.useState)([]),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(c.useRef)([]);d.current=f;var E=function(){var e=Object(Je.a)(Xe.a.mark((function e(n){var a,c,r,l;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.getCommentList(t.encodeId,n,it.NEWEST,50);case 3:a=e.sent,c=a.data.items,(r=void 0===c?[]:c).length>0&&(l=[].concat(Object(Ie.a)(d.current),Object(Ie.a)(r.reverse())),b(l.slice(Math.max(l.length-200,0),l.length).filter((function(e){return e.id>1})))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){b([])}),[t.encodeId]);var O=Object(c.useMemo)((function(){if(f.length<1)return 0;for(var e=0,t=f.length-1;t>=0;t--)if(f[t]&&f[t].id>1){e=f[t].id;break}return e}),[f]);return Object(c.useEffect)((function(){var e=setInterval((function(){E(O)}),5e3);return function(){return clearInterval(e)}}),[O,t.encodeId]),r.a.createElement(u.l,{className:"zm-live-comment"},r.a.createElement(rt,{encodeId:t.encodeId,comments:f,setCommentList:function(e){b([].concat(Object(Ie.a)(e),Object(Ie.a)(d.current)))}}),i&&o&&r.a.createElement(lt,Object.assign({},o,{remove:function(){return n(!1)}})),r.a.createElement(tt,{addComment:function(e){b([].concat(Object(Ie.a)(d.current),[e]))},encodeId:t.encodeId}))})),ot=n(29),st=n(1593),mt=function(e,t){if(t-e>=o.c)return"C\u1ea3 ng\xe0y";return"".concat(Object(ot.secondsToDate)(e,"HH:mm")," - ").concat(Object(ot.secondsToDate)(t,"HH:mm"))},ft=Object(c.memo)((function(e){var t=e.item;return r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"program-time"},mt(t.startTime,t.endTime)),r.a.createElement(u.l,{className:"program-title"},r.a.createElement(u.L,null,t.title))))})),bt=(n(1703),2*o.b),dt=function(e){var t=e.currentTime,n=e.hourHeight,l=Object(c.useState)(Date.now()/o.m),i=Object(a.a)(l,2),s=i[0],m=i[1];Object(c.useEffect)((function(){var e=new Date;m(e.getTime()/o.m);var t=setInterval((function(){m(Date.now()/o.m)}),o.h);return function(){return clearInterval(t)}}),[t]);var f=(s-t)/o.f*n-1;return r.a.createElement(u.l,{className:"time-axis",style:{top:f}},r.a.createElement("span",null," ",Object(ot.secondsToDate)(s,"HH:mm")))},Et=Object(c.memo)((function(){var e=Object(l.c)(Ke.l),t=Object(c.useState)(Object(st.b)()),n=Object(a.a)(t,2),i=n[0],s=n[1],m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useState)(o.e),O=Object(a.a)(E,2),v=O[0],j=O[1],g=Object(c.useState)([]),p=Object(a.a)(g,2),h=p[0],y=p[1],N=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=setInterval((function(){var e=Object(st.b)();s(e)}),o.h);return function(){return clearInterval(e)}}),[]);var R=Object(c.useMemo)((function(){var e=Object(st.c)(i);return Array.from({length:bt},(function(e,t){return t})).filter((function(t){return t>=e})).map((function(e){var t=e%24;return 0===t?Object(ot.unixToDate)(Object(ot.getNextDate)().getTime(),"DD/MM"):t+":00"}))}),[i]);Object(c.useEffect)((function(){var e;null===(e=N.current)||void 0===e||e.scrollTo(0,0)}),[e]),Object(c.useEffect)((function(){var t=[],n=o.e;e.forEach((function(e){if(i<e.endTime){t.push(e);var a=(e.endTime-e.startTime)/o.i;n>a&&(n=a)}})),y(t),j(n)}),[i,e]);var A=Object(c.useMemo)((function(){var e=Object(st.a)();return e.setHours(bt),e.getTime()/o.m}),[i]),k=Object(c.useMemo)((function(){return 66*o.e/v}),[v]),I=R.map((function(e,t){return r.a.createElement(u.l,{className:"time-line-item",key:"".concat(e,"-").concat(t)},r.a.createElement("span",null,e))})),C=h.map((function(e,t){var n=Math.max(e.startTime,i),a=Math.min(e.endTime,A),c=(n-i)/o.f*k+10,l=(a-n)*k/o.f-2;return r.a.createElement(u.l,{key:e.encodeId,className:D()("program",{"is-active":0===t}),style:{top:c,height:l}},r.a.createElement(ft,{item:e}))}));return r.a.createElement(u.l,{className:D()("zm-live-schedule",{"is-scroll":b}),onScroll:function(e){d(e.target.scrollTop>0)},domRef:N},r.a.createElement(u.l,{className:"time-lines",style:{"--hour-height":"".concat(k,"px")}},I,C,r.a.createElement(dt,{currentTime:i,hourHeight:k})))})),Ot=Object(c.memo)((function(e){var t=e.item,n=e.className,a=e.request,c=e.requestRemove,l=e.showPrefix,i=e.isRequested,o=e.requestText,s=e.removeText,m=e.prefix;return r.a.createElement(u.A,{className:D()("zm-media-request",n)},l&&r.a.createElement(u.A.Left,null,m||r.a.createElement(u.l,{className:"total-request"},r.a.createElement(u.l,{className:"number"},t.totalRequest),r.a.createElement(u.l,{className:"text"},"Y\xeau c\u1ea7u"))),r.a.createElement(u.A.Content,null,r.a.createElement(u.x,{size:40,src:t.thumbnail}),r.a.createElement(u.l,{className:"info"},r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,null,t.title)),r.a.createElement(u.l,{className:"artist"},r.a.createElement(u.L,null," ",t.artistsNames)))),r.a.createElement(u.A.Right,null,r.a.createElement(vt,{isRequested:i,item:t,request:a,requestRemove:c,requestText:o,removeText:s})))})),vt=function(e){var t=e.isRequested,n=e.item,a=e.request,l=e.requestRemove,i=e.requestText,o=void 0===i?"Y\xeau c\u1ea7u":i,s=e.removeText,m=void 0===s?"H\u1ee7y y\xeau c\u1ea7u":s,f=Object(c.useRef)(t);f.current=t;var b=function(){var e=Object(Je.a)(Xe.a.mark((function e(){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.current){e.next=4;break}return l(n),e.abrupt("return");case 4:a(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(et.a,{onClickFn:b},r.a.createElement(u.d,{className:D()("request-btn",{active:t})},t?m:o))},jt=Object(c.memo)(Ot),gt=Object(c.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.showPrefix,l=e.requestText,i=e.removeText,u=Object(c.useContext)(Ft),o=u.request,s=(u.remove,u.requestedIds),m=u.requestRemove;return r.a.createElement(r.a.Fragment,null,n.map((function(e){var t=s.indexOf(e.encodeId)>-1;return r.a.createElement(jt,{item:e,key:e.encodeId,isRequested:t,showPrefix:a,request:o,requestRemove:m,requestText:l,removeText:i})})))})),pt=Object(c.memo)((function(e){var t=e.items,n=Object(l.c)(Ke.m),i=Object(c.useState)(!1),o=Object(a.a)(i,2),s=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(jt,{item:n,className:"next-media",request:null,requestRemove:null,isRequested:!1,showPrefix:!0,prefix:r.a.createElement(u.l,{className:"total-request"},r.a.createElement(u.x,{src:at.l+"/icons/icon-color-member.png"}),r.a.createElement(u.l,{className:"text"},"Ti\u1ebfp theo"))}),r.a.createElement(u.l,{className:D()("top-request",{"is-scroll":s}),onScroll:function(e){m(e.target.scrollTop>0)}},r.a.createElement(gt,{items:t,showPrefix:!0,removeText:"\u0110\xe3 y\xeau c\u1ea7u"})))})),ht=Object(c.memo)((function(e){var t=e.items,n=nt.Array.isEmpty(t);return r.a.createElement(u.l,{className:"top-request"},n?r.a.createElement(u.l,{className:"empty-content"},r.a.createElement(u.x,{src:at.l+"/icons/Empty-Chat.png"}),r.a.createElement(u.l,{className:"text"},"B\u1ea1n ch\u01b0a y\xeau c\u1ea7u b\xe0i h\xe1t n\xe0o")):r.a.createElement(gt,{items:t}))})),yt=n(1603),Nt=n(1570),Rt=n(1602),At=(n(1704),Object(c.memo)((function(e){Object(yt.a)(e);var t=Object(l.c)(Ke.e),n=Object(c.useState)(""),i=Object(a.a)(n,2),o=i[0],s=i[1],m=Object(c.useState)([]),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useRef)(o);E.current=o;var O=(t||{}).genreIds,v=void 0===O?[]:O,j=Object(c.useCallback)(Object(Je.a)(Xe.a.mark((function e(){var t,n,a,c;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=o.trim())){e.next=4;break}return d([]),e.abrupt("return");case 4:return e.prev=4,e.next=7,Rt.a.search("song",t);case 7:if(n=e.sent,a=n.data,E.current===o){e.next=11;break}return e.abrupt("return");case 11:c=(null===a||void 0===a?void 0:a.items)||[],d(c),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:case"end":return e.stop()}}),e,null,[[4,15]])}))),[o]),p=Object(c.useCallback)((function(e){s(e.target.value)}),[]),h=Object(c.useCallback)((function(e){g.b.preventDefault(e),s("")}),[]);Object(Nt.a)(j,200,[o]);var y=[],N=[];return b.forEach((function(e){(null===v||void 0===v?void 0:v.length)?nt.Array.some(e.genreIds||[],(function(e){return v.indexOf(e)>-1}))?y.push(e):N.push(e):y.push(e)})),r.a.createElement(u.l,{renderAs:"form",className:D()("song-request-search",{active:!nt.Array.isEmpty(b)})},r.a.createElement(u.l,{className:"field"},r.a.createElement(u.q,{icon:"search"}),r.a.createElement(u.l,{renderAs:"input",placeholder:"T\xecm ki\u1ebfm theo t\xean b\xe0i h\xe1t, ca s\u0129",onChange:p,onFocus:function(){},value:o}),r.a.createElement(u.r,{icon:"close",className:"clear-btn",onClick:h})),r.a.createElement(u.l,{className:"results"},r.a.createElement(gt,{items:y}),!nt.Array.isEmpty(N)&&r.a.createElement(u.l,{className:"other"},r.a.createElement(u.l,{className:"text"},"K\u1ebft qu\u1ea3 kh\xe1c"),r.a.createElement(u.l,{className:"desc"},"C\xe1c b\xe0i h\xe1t kh\xf4ng thu\u1ed9c th\u1ec3 lo\u1ea1i quy \u0111\u1ecbnh"),r.a.createElement(gt,{items:N}))))}))),kt=n(16),It=n(13),Ct="/livestream/request/get/song-request",Tt="/livestream/request/get/user-list",Pt="/livestream/request/post/add-song",Lt="/livestream/request/post/remove-song",_t={get:function(e){return Object(It.c)((function(){return Object(It.d)(Ct,{id:e})}))},getUserList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return Object(It.c)((function(){return Object(It.d)(Tt,{id:e,start:t,count:n})}))},request:function(e,t){return Object(It.f)(Pt,{id:e,streamId:t})},remove:function(e,t){return Object(It.f)(Lt,{id:e,streamId:t})}},wt="GET_DATA_SUCESS",St="REQUEST_SUCCESS",xt="REMOVE_SUCCESS",Mt="RESET_DATA",Dt=function(e,t){var n=t.type,a=t.payload;switch(n){case wt:return Object(ke.a)(Object(ke.a)({},e),a);case St:var c=a,r=e.top,l=void 0===r?[]:r,i=e.requested,u=void 0===i?[]:i,o=l.find((function(e){var t=e.encodeId;return c.encodeId===t}));return o?o.totalRequest++:(c.totalRequest=1,l.push(c)),u.push(c),Object(ke.a)(Object(ke.a)({},e),{},{top:l.sort((function(e,t){return t.totalRequest-e.totalRequest})),requested:u});case xt:var s=a,m=e.top.find((function(e){return e.encodeId===s}));return m&&(m.totalRequest>1?m.totalRequest--:e.top=e.top.filter((function(e){return e.encodeId!==s}))),e.requested=e.requested.filter((function(e){return e.encodeId!==s})),Object(ke.a)(Object(ke.a)({},e),{},{top:e.top.sort((function(e,t){return t.totalRequest-e.totalRequest}))});case Mt:return{top:[],requested:[]};default:return e}},Ut={top:[],requested:[]},qt=function(e){var t=Object(c.useReducer)(Dt,Ut),n=Object(a.a)(t,2),r=n[0],i=n[1],u=Object(l.b)(),o=r.top,s=r.requested,m=void 0===s?[]:s,f=Object(c.useRef)(null),b=Object(c.useRef)(m.length);return b.current=m.length,Object(c.useEffect)((function(){i({type:Mt});var t=function(){var t=Object(Je.a)(Xe.a.mark((function t(){var n,a,c,r,l,u;return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_t.get(e);case 3:n=t.sent,a=n.data,r=(c=a||{}).top,l=void 0===r?[]:r,u=c.requested,i({type:wt,payload:{top:l,requested:void 0===u?[]:u}}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return t(),f.current=setInterval(t,1e4),function(){clearInterval(f.current)}}),[e]),{top:o,requested:m,request:Object(c.useCallback)(function(){var t=Object(Je.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(b.current>=10)){t.next=3;break}return u(Object(kt.p)({text:"B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t y\xeau c\u1ea7u"})),t.abrupt("return");case 3:return t.prev=3,t.next=6,_t.request(n.encodeId,e);case 6:i({type:St,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),u(Object(kt.p)({text:t.t0.msg}));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),[e]),remove:Object(c.useCallback)(function(){var t=Object(Je.a)(Xe.a.mark((function t(n){return Xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_t.remove(n,e);case 3:i({type:xt,payload:n}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(Object(kt.p)({text:t.t0.msg}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]),requestedIds:m.map((function(e){return e.encodeId}))}},Ft=(n(1705),r.a.createContext({})),Yt=[{name:"Top y\xeau c\u1ea7u"},{name:"Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n"}],Bt=function(e){var t=e.item,n=e.cancel,a=e.remove;return r.a.createElement(u.l,{className:"modal-confirm"},r.a.createElement(u.l,{className:"content"},r.a.createElement(u.l,{className:"text"},t.title),r.a.createElement(u.l,{className:"desc"},"B\u1ea1n c\xf3 mu\u1ed1n hu\u1ef7 b\xe0i h\xe1t n\xe0y?"),r.a.createElement(u.l,{className:"actions"},r.a.createElement(u.d,{onClick:n},"\u0110\xf3ng"),r.a.createElement(u.d,{className:"active",onClick:function(){a(t.encodeId),n()}},"H\u1ee7y y\xeau c\u1ea7u"))))},zt=Object(c.memo)((function(e){var t=e.item,n=Object(c.useState)(0),l=Object(a.a)(n,2),i=l[0],o=l[1],s=Object(c.useState)(null),m=Object(a.a)(s,2),f=m[0],b=m[1],d=qt(t.encodeId),E=d.top,O=d.requested;return r.a.createElement(Ft.Provider,{value:Object(ke.a)(Object(ke.a)({},d),{},{requestRemove:function(e){b(e)}})},r.a.createElement(u.l,{className:"zm-song-request"},r.a.createElement(ne.d,{items:Yt,tabActive:i,onChangeTab:o}),r.a.createElement(At,{streamId:t.encodeId}),1===i?r.a.createElement(ht,{items:O}):r.a.createElement(pt,{items:E}),f&&r.a.createElement(Bt,{item:f,cancel:function(){b(null)},remove:d.remove})))})),Ht=(n(1706),[{name:"Tr\xf2 chuy\u1ec7n"},{name:"L\u1ecbch ph\xe1t"},{name:"Y\xeau c\u1ea7u"}]),Qt=[{name:"Tr\xf2 chuy\u1ec7n"},{name:"L\u1ecbch ph\xe1t"}],Gt=Object(c.memo)((function(e){var t=e.item,n=Object(c.useState)(0),i=Object(a.a)(n,2),o=i[0],s=i[1],m=Object(c.useState)(!0),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useState)(!1),O=Object(a.a)(E,2),v=O[0],j=O[1],g=Object(l.c)(Ke.e),p=Object(l.c)(Ke.k);Object(c.useEffect)((function(){d(!0)}),[t.encodeId]);var h=function(){j(!v)};return Object(c.useEffect)((function(){2!==o||(null===g||void 0===g?void 0:g.hasSongRequest)||s(0)}),[g,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:D()("zm-live-right-content",{open:v})},r.a.createElement(ne.d,{className:"main-tabs",items:(null===g||void 0===g?void 0:g.hasSongRequest)?Ht:Qt,tabActive:o,onChangeTab:s}),r.a.createElement(u.l,{className:"content-wrapper"},function(){switch(o){case 0:return r.a.createElement(ut,{item:t,setPinnedMessage:d,isPinnedMessage:b});case 1:return r.a.createElement(Et,null);case 2:return r.a.createElement(zt,{item:t});default:return r.a.createElement(Et,null)}}()),r.a.createElement(u.P,{icon:"close",title:"\u0110\xf3ng b\xecnh lu\u1eadn",className:"close-btn",onClick:h})),r.a.createElement(u.P,{icon:"20-Comment",title:v?"\u0110\xf3ng b\xecnh lu\u1eadn":"M\u1edf b\xecnh lu\u1eadn",className:"right-toggle-btn",onClick:h,style:{backgroundColor:v?null===p||void 0===p?void 0:p.bgColor:""}}))})),Vt=n(193),Wt=n(1567),Kt=n(85),Zt=n(261),Xt=(n(1641),n(1642)),Jt=[0,5,10,15,20,25,30,35,40,45,50,55],$t=[0,1,2,3,4,5,6,7,8,9,10,11,12],en=Object(c.memo)((function(e){var t=e.onChangeTime,n=Object(c.useState)({hours:0,mins:0}),l=Object(a.a)(n,2),i=l[0],o=l[1];return Object(c.useEffect)((function(){var e=60*(60*i.hours+i.mins);t(e)}),[i]),r.a.createElement(u.l,{className:"time-picker"},r.a.createElement(tn,{label:"gi\u1edd",min:0,max:99,onChange:function(e){return o(Object(ke.a)(Object(ke.a)({},i),{},{hours:e}))},options:$t}),r.a.createElement(u.l,{className:"dot"},":"),r.a.createElement(tn,{label:"ph\xfat",min:0,max:59,onChange:function(e){return o(Object(ke.a)(Object(ke.a)({},i),{},{mins:e}))},options:Jt}))})),tn=Object(c.memo)((function(e){var t=e.label,n=e.min,l=void 0===n?0:n,i=e.max,o=void 0===i?59:i,s=e.initTime,m=e.options,f=e.onChange,b=Object(c.useState)(Object(ot.padZero)(s||l)),d=Object(a.a)(b,2),E=d[0],O=d[1],v=Object(c.useState)(!1),j=Object(a.a)(v,2),g=j[0],p=j[1],h=Object(c.useRef)(null),y=Object(c.useRef)(!1),N=Object(c.useRef)(null);Object(Xt.a)(h,(function(){p(!1)})),Object(c.useEffect)((function(){var e=Number(E);N.current=function(t){var n=t?e+1:e-1;n<l&&(n=l),n>o&&(n=o),A(n)}}),[E,f]);var R=function(e){y.current?O("".concat(e)):O(Object(ot.padZero)(Number(e)))},A=function(e){f(Number(e||0)),R(e)},k=Object(c.useCallback)((function(e){e.keyCode===Te.a.ARROW_UP&&N.current(!0),e.keyCode===Te.a.ARROW_DOWN&&N.current()}),[]),I=Object(c.useCallback)((function(){y.current=!0,p(!0),window.addEventListener("keydown",k)}),[]);return r.a.createElement(u.l,{className:D()("time-input",{focus:g}),domRef:h},r.a.createElement(u.u,{value:E,onChange:function(e){var t=e.target.value;if(t.length){var n=Number(t);Number.isNaN(n)||(t.length>2?A(nn(E,t)):A(n<l||n>o?o:t))}else A(t)},onFocus:I,onBlur:function(){y.current=!1,R(E),window.removeEventListener("keydown",k)},type:"text"}),r.a.createElement(u.l,{renderAs:"span",className:"label",onClick:function(){return p(!0)}},t),r.a.createElement(u.l,{className:"time-options"},r.a.createElement(r.a.Fragment,null,m.map((function(e){var n=Object(ot.padZero)(e),a=E===n;return r.a.createElement(u.l,{key:e,className:D()("option",{active:a}),onClick:function(){A(e),p(!1)}},"".concat(n," ").concat(t))})))))})),nn=function(e,t){for(var n=e.split(""),a=t.split(""),c="",r=0;r<a.length&&(c=a[r],n[r]===c);r++);return c},an=function(e){var t=e.hide,n=Object(l.b)(),i=Object(s.w)(),o=Object(a.a)(i,1)[0],m=Object(c.useState)(0),f=Object(a.a)(m,2),b=f[0],d=f[1],E=0===b;return r.a.createElement(u.l,{className:"alarm-setting"},r.a.createElement(u.M,null,"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"),r.a.createElement(en,{onChangeTime:d}),r.a.createElement(u.M,{subtitle:!0,className:"estimate-time"},E?"Ch\u1ecdn th\u1eddi gian \u0111\u1ec3 d\u1eebng ph\xe1t nh\u1ea1c":r.a.createElement(r.a.Fragment,null,"D\u1ef1 t\xednh d\u1eebng ph\xe1t nh\u1ea1c l\xfac:"," ",r.a.createElement(cn,{seconds:b}))),r.a.createElement(u.d,{uppered:!0,outlined:!0,fullwidth:!0,className:"active",isSize:"medium",onClick:function(){n(Object(Zt.c)(b)),o.toggleIsOpen(!1),t(),Object(Kt.b)(Ce.d.SET_ALARM_SUCCESS)},disabled:E},"L\u01b0u l\u1ea1i"),r.a.createElement(u.r,{className:"mar-t-10",isActive:!0,fullwidth:!0,uppered:!0,text:"H\u1ee7y",onClick:t}))},cn=function(e){var t=e.seconds,n=Object(c.useState)(0),l=Object(a.a)(n,2)[1];return Object(Wt.a)((function(){l(Object(ot.currentTime)())}),o.h),r.a.createElement(u.l,{renderAs:"b"},Object(ot.secondsToDate)(Object(ot.currentTime)()+t,"HH:mm  DD/MM/YYYY"))},rn=function(e){return e.alarm.time},ln=function(e){return e.alarm.time>0},un=function(e){var t=e.icon,n=void 0===t?"close":t,a=e.className,c=Object(l.b)();return r.a.createElement(u.P,{icon:n,onClick:function(){c(Object(kt.o)({type:O.E.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd",className:a})},on=Object(c.memo)((function(){var e=Object(l.c)(ln),t=Object(s.r)(),n=t.Modal,a=t.show,c=t.hide;return e?r.a.createElement(un,{icon:"clock",className:"active"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.i,{component:function(e){return r.a.createElement(u.P,Object.assign({icon:"20-Clock",title:"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"},e))},onClickFn:a,category:Ce.a.NOW_PLAYING,action:"setup-alarm"}),r.a.createElement(n,null,r.a.createElement(an,{hide:c})))})),sn=n(62),mn=Object(c.memo)((function(e){var t=e.num,n=Object(c.useRef)(0),l=Object(c.useState)(0),i=Object(a.a)(l,2),u=i[0],o=i[1];return n.current=u,Object(c.useEffect)((function(){var e=Math.round(Math.abs(t-n.current)/7),a=t-n.current>0,c=n.current;if(!(e<1)){var r=setInterval((function(){c+=(a?1:-1)*e,(a?c>=t:c<=t)&&(c=t,clearInterval(r)),o(c)}),30);return function(){return clearInterval(r)}}o(t)}),[t]),r.a.createElement(r.a.Fragment,null,Object(sn.b)(u,"."))})),fn=function(e){var t=e.item,n=e.onHide;return Object(c.useEffect)((function(){var e=setTimeout((function(){n(t)}),4500);return function(){return clearTimeout(e)}}),[]),r.a.createElement(u.l,{className:"item"},r.a.createElement(u.l,{className:"header"},t.header),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.t,{src:t.thumb,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,null,t.title)),r.a.createElement(u.l,{className:"artist"},t.subTitle))))},bn=Object(c.memo)((function(e){var t=e.streamId,n=Object(c.useState)([]),l=Object(a.a)(n,2),i=l[0],o=l[1],s=Object(c.useRef)(i),m=Object(c.useRef)(0);s.current=i,Object(c.useEffect)((function(){m.current=0,o([]);var e=!0,n=function(){var n=Object(Je.a)(Xe.a.mark((function n(){var a,c;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$e.a.getAnnouncement(t,m.current,"after",0===m.current?1:10);case 3:a=n.sent,c=a.data,nt.Array.isEmpty(null===c||void 0===c?void 0:c.items)||(m.current=c.items[0].id,e||o([].concat(Object(Ie.a)(s.current),Object(Ie.a)(c.items.reverse())))),e=!1,n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n();var a=setInterval(n,1e4);return function(){return clearInterval(a)}}),[t]);var f=i[0];return f?r.a.createElement(u.l,{className:"announcement"},r.a.createElement(fn,{item:f,onHide:function(e){o(s.current.filter((function(t){return e.id!==t.id})))},key:f.id})):r.a.createElement(r.a.Fragment,null)})),dn="https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/",En={1:["heart-blue.png","heart-green.png","heart-pink.png","heart-orange.png"],2:["bubble-blue.png","bubble-orange.png","bubble-pink.png","bubble-green.png"],3:["music-blue.png","music-orange.png","music-green.png","music-pink.png","music-blue-1.png","music-orange-1.png","music-green-1.png","music-pink-1.png"]},On=Object(c.memo)((function(e){var t=e.total,n=Object(c.useState)(t),l=Object(a.a)(n,2),i=l[0],u=l[1],o=Object(c.useRef)(i);return o.current=i,Object(c.useEffect)((function(){u(t);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(o.current+e)};return v.a.on("ADD_REACTION",e),function(){return v.a.off("ADD_REACTION",e)}}),[t]),r.a.createElement(mn,{num:i})})),vn=n(38),jn=function(e){return e?e.artistsNames?e.artistsNames:Array.isArray(e.artists)?null===(t=e.artists)||void 0===t?void 0:t.map((function(e){return e.name})).join(" "):e.artists||"":"";var t},gn=Object(c.memo)((function(e){var t=e.song,n=e.bgColor,c=e.thumbnail,l=jn(t),i=Object(Vt.a)(),o=Object(a.a)(i,1)[0],s=r.a.createElement(u.A,{style:{backgroundColor:n}},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail||c,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{key:t.title},t.title)),r.a.createElement(u.M,{subtitle:!0},l)),t.encodeId&&r.a.createElement(u.A.Right,{onClick:g.b.preventDefault},r.a.createElement(Le.g,{object:t,objectId:t.encodeId,objectType:t.episode?O.K.EPISODE:O.K.SONG})));return t.link?r.a.createElement(vn.b,{to:t.link,onClick:function(){o.toggleOpenFS(!1)}},s):s})),pn=n(428),hn=n(410),yn=n(1599),Nn=n(616),Rn=n(105),An=Object(c.memo)((function(e){var t=e.src,n=e.position;return r.a.createElement(u.l,{className:"emoji-wrapper",style:{animationName:t?"zm-bubble-".concat(nt.Number.random(-10,10)):"",left:86*n}},r.a.createElement(u.l,{className:"emoji-content",style:{animationName:t?"zm-wave-".concat(nt.Number.random(-10,10)):""}},r.a.createElement(u.l,{className:"emoji-image",style:{animationName:t?"zm-opacity-".concat(nt.Number.random(-10,10)):""}},r.a.createElement("img",{src:t}))))})),kn=function(e,t){var n=En[e];return n?dn+n[nt.Number.random(0,n.length-1)]:t},In=Object(c.memo)((function(e){var t=e.encodeId,n=e.comboNumb,l=e.reactions,i=void 0===l?[]:l,o=Object(Vt.a)(),s=Object(a.a)(o,1)[0],m=Object(c.useState)(new Array(40).fill(0)),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useRef)([]),O=Object(c.useState)(function(e){var t={};return e.forEach((function(e){t[e.sequence]=0})),t}(i)),j=Object(a.a)(O,2),g=j[0],p=j[1],h=Object(c.useRef)({}),y=Object(c.useRef)({}),N=Object(c.useRef)(0),R=Object(c.useRef)([]),A=Object(c.useRef)(0);E.current=b;var k=Object(c.useMemo)((function(){var e={};return i.forEach((function(t){var n=t.sequence,a=t.url;e[n]=a})),e}),[i]),I=Object(c.useMemo)((function(){return i.map((function(e){return e.sequence}))}),[i]),C=Object(c.useMemo)((function(){var e={};return i.forEach((function(t){var n=t.sequence,a=t.id;e[n]=a})),e}),[i]);Object(c.useEffect)((function(){d(new Array(40).fill(0))}),[t]);var T=Object(c.useCallback)((function(e){var t=e||R.current.shift(),n=Object(ot.currentMilliseconds)(),a=E.current.map((function(e){return n-e.time<2500?e:{time:0}}));0===a[A.current].time?(a[A.current]={time:n,src:t.src,id:t.id},A.current===b.length-1?A.current=0:A.current++,d(Object(Ie.a)(a))):e&&R.current.unshift(e)}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){R.current.length&&T()}),200);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(Je.a)(Xe.a.mark((function e(n){var a,c,r,l,i;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.getReaction(t,n);case 3:if(a=e.sent,(c=a.data).last_version&&c.last_version>N.current&&(N.current=c.last_version),c.reaction){e.next=8;break}return e.abrupt("return");case 8:for(i in r=0,l=function(e){var t,n=c.reaction[e],a=k["".concat(e)],l=C["".concat(e)]||0;a&&(r+=n,R.current.length<100&&(t=R.current).push.apply(t,Object(Ie.a)(new Array(Math.min(100,n)).fill(0).map((function(){return{id:Number.parseInt(e),src:kn(l,a)}})))))},c.reaction)l(i);r>0&&v.a.emit("ADD_REACTION",r),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();N.current=0;var n=setInterval((function(){e(N.current)}),3e3);return function(){return clearInterval(n)}}),[t,k,C]);var P=Object(c.useRef)({}),L=function(e,a){T({src:kn(a,k[e]),id:e}),v.a.emit("ADD_REACTION",1),P.current[e]?P.current[e]++:P.current[e]=1,p((function(t){var n=Object(ke.a)({},t);return n[e]=(n[e]||0)+1,n})),h.current[e]&&clearTimeout(h.current[e]),y.current[e]&&clearInterval(y.current[e]),h.current[e]=setTimeout((function(){p((function(a){var c=Object(ke.a)({},a),r=c[e];if(r>=n){var l=i.find((function(t){return t.sequence===e}));if(l){var u={reactionId:l.sequence,messageType:0,reactionCount:r,reactionType:{type:l.type,vectorId:l.id,imageUrl:l.url}};$e.a.addComment(t,JSON.stringify(u),hn.a.REACTION_COMBO).then((function(e){var t=e.data.id;v.a.emit(v.b.REACTIONS_COMBO_NOTIFY,t,l.id,r,l.url)}))}c[e]=0}else r&&(c[e]=r-1,y.current[e]=setInterval((function(){p((function(t){var n=Object(ke.a)({},t),a=n[e];return a?n[e]=a-1:clearInterval(y.current[e]),n}))}),50));return c}))}),350)};Object(c.useEffect)((function(){var e=setInterval(Object(Je.a)(Xe.a.mark((function e(){var n,a,c,r;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.keys(P.current),a=Object.values(P.current),P.current={},n.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,$e.a.addReaction(t,n,a);case 8:c=e.sent,(r=c.data).last_version&&r.last_version>N.current&&(N.current=r.last_version),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),Rn.a.error(0,"Live Radio Add Reaction");case 16:try{n.forEach((function(e,n){s.trackLivestreamReaction(t,Number.parseInt(e),a[n])}))}catch(l){}case 17:case"end":return e.stop()}}),e,null,[[5,13]])}))),3e3);return function(){return clearInterval(e)}}),[t]);var _=Object(c.useMemo)((function(){return i.map((function(e){return r.a.createElement(Ln,{key:"".concat(e.sequence,"-").concat(t),vectorId:e.id,btnUrl:e.btnUrl,sequence:e.sequence,onClick:L,comboReacts:g[e.sequence]||0,comboNumb:n})}))}),[i,n,k,g]);return r.a.createElement(r.a.Fragment,null,_,r.a.createElement(u.l,{className:"emoji-container"},b.map((function(e,t){var n=e.time,a=e.src,c=e.id;return r.a.createElement(An,{key:"".concat(n,"-").concat(t),src:a,position:c?I.indexOf(c):0})}))))})),Cn=Object(c.memo)((function(){return r.a.createElement(u.l,{className:"reactions-combo-wrapper"},Array.from({length:60}).map((function(e,t){return r.a.createElement(u.l,{key:"ro-animation-item-".concat(t),className:"animation-item-bubble",style:{animationName:"combo-bubble-".concat(nt.Number.random(-10,10))}},r.a.createElement(u.l,{className:"animation-item-wave",style:{backgroundColor:nt.Array.shuffle(Tn).pop(),animationName:"combo-wave-".concat(nt.Number.random(-10,10))}}))})))})),Tn=["#FF3C68","#FFC71D","#24F6FF","#1BFF94"],Pn=function(e){switch(e){case 1:return"Heart-Icon.png";case 2:return"Ballon-Icon.png";case 3:return"Music-Icon.png";default:return""}},Ln=Object(c.memo)((function(e){var t=e.btnUrl,n=e.onClick,l=e.sequence,i=e.comboReacts,o=e.comboNumb,s=e.vectorId,m=void 0===s?0:s,f=Pn(m),b=f?dn+f:t,d=Object(c.useState)(i>=5),E=Object(a.a)(d,2),O=E[0],v=E[1],j=Object(c.useRef)(i),g=Object(c.useState)([]),p=Object(a.a)(g,2),h=p[0],y=p[1],N=Object(c.useState)(""),R=Object(a.a)(N,2),A=R[0],k=R[1],I={color:nt.Array.shuffle(Tn).pop()};Object(c.useEffect)((function(){yn.a.getColor(b).then((function(e){return k(e)}))}),[b]),Object(c.useEffect)((function(){i>=5?v(!0):i<=0&&(j.current>=o&&y((function(e){return[].concat(Object(Ie.a)(e),["key-show-".concat(Math.random())])})),v(!1)),j.current=i}),[i,o]);var C=Object(c.useMemo)((function(){return Math.min(i/o*100,100)}),[i,o]);return r.a.createElement(u.l,{className:"reaction-btn"},h.map((function(e){return r.a.createElement(Cn,{key:e})})),r.a.createElement(u.l,{className:"reaction-item"},r.a.createElement(u.l,{renderAs:"span",className:D()("reaction-combo",{show:O}),style:I},"x".concat(i)),r.a.createElement(et.a,{onClickFn:function(){return n(l,m)}},r.a.createElement(u.d,{className:D()({shake:i>=o})},r.a.createElement(Nn.a,{fill:"transparent",progress:C,circleOneStroke:"transparent",circleTwoStroke:A,strokeWidth:8,timeAnimation:50}),r.a.createElement(u.t,{src:b,draggable:"false"})))))}));var _n=function(e){var t,n,i=e.encodeId,o=Object(l.c)(z.a),s=Object(c.useRef)(0),m=Object(c.useState)([]),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useRef)([]),j=Object(c.useRef)(),g=Object(c.useState)(!1),p=Object(a.a)(g,2),h=p[0],y=p[1],N=Object(l.c)(z.q);Object(c.useEffect)((function(){var e=setInterval((function(){!function(){var e=Object(Je.a)(Xe.a.mark((function e(t){var n,a,c,r,l,u;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.getCommentList(i,t,it.NEWEST,50,hn.a.REACTION_COMBO);case 3:if(n=e.sent,a=n.data.items,!((c=void 0===a?[]:a).length>0)){e.next=26;break}s.current&&d((function(e){var t=c.filter((function(e){return!E.current.includes(e.id)}));return t.length?[].concat(Object(Ie.a)(e),Object(Ie.a)(t)):e})),r=Object(pn.a)(c),e.prev=9,r.s();case 11:if((l=r.n()).done){e.next=18;break}if(!((u=l.value).id>1)){e.next=16;break}return s.current=u.id,e.abrupt("break",18);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28],[9,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()(s.current)}),5e3);return function(){return clearInterval(e)}}),[s.current,i]),Object(c.useEffect)((function(){var e=function(e,t,n,a){E.current.push(e),d((function(c){return[].concat(Object(Ie.a)(c),[{avatar:o.avatar,id:e,username:o.displayName,pkgId:N,content:{reactionId:t,reactionCount:n,reactionUrl:a}}])}))};return v.c.on(v.b.REACTIONS_COMBO_NOTIFY,e),function(){v.c.off(v.b.REACTIONS_COMBO_NOTIFY,e)}}),[]),Object(c.useEffect)((function(){y(b.length>0)}),[b]),Object(c.useEffect)((function(){return h&&(j.current=setInterval((function(){d((function(e){return e.length>0?e.slice(1):[]}))}),4500)),function(){clearInterval(j.current)}}),[h]);var R=b[0];if(!R)return r.a.createElement(r.a.Fragment,null);var A=Tn.length,k={color:Tn[R.id%A]},I=(R.pkgId||0)>0?64:0;return r.a.createElement(u.l,{className:"combo-notify-wrapper",key:R.id},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(ne.b,{avatar:R.avatar,pkgId:R.pkgId,size:40})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{minusWidth:I},R.username),I>0&&r.a.createElement(u.q,{icon:R.pkgId===O.lb.PREMIUM?r.a.createElement(ae.m,null):r.a.createElement(ae.j,null)})),r.a.createElement(u.l,{className:"combo"},r.a.createElement(u.l,{renderAs:"span",className:"text",style:k},"Combo"),r.a.createElement(u.t,{src:(null===(t=R.content)||void 0===t?void 0:t.reactionUrl)||"",rounded:!0}),r.a.createElement(u.l,{renderAs:"span",className:"count",style:k},"x",(null===(n=R.content)||void 0===n?void 0:n.reactionCount)||100,"!!")))))},wn=(n(1707),Object(c.memo)((function(e){var t=e.item,n=Object(l.c)(Ke.d),i=Object(l.c)(Ke.e),o=Object(l.c)(Ke.j),s=Object(l.c)(Ke.k),m=Object(Vt.a)(),f=Object(a.a)(m,1)[0],b=Object(c.useState)(Boolean(document.fullscreenElement)),d=Object(a.a)(b,2),E=d[0],O=d[1];Object(c.useEffect)((function(){var e=function(){O(Boolean(document.fullscreenElement))};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]);return t?r.a.createElement(u.l,{className:"zm-live-middle-content"},r.a.createElement(u.l,{className:"top-info"},r.a.createElement(u.A,{className:"live-info"},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.host.thumbnail,size:50}),r.a.createElement(u.l,{className:"label"},"Live")),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"top"},r.a.createElement(u.M,null,t.title)),i&&r.a.createElement(u.l,{className:"bottom"},r.a.createElement(u.q,{icon:"radio"}),r.a.createElement(u.l,{className:"text"},i.title)))),r.a.createElement(u.l,{className:"stats"},r.a.createElement(u.l,{className:"mar-r-15 view"},r.a.createElement(u.q,{icon:"16-Views"}),r.a.createElement(mn,{num:o})),r.a.createElement(u.l,{className:"view"},r.a.createElement(u.q,{icon:"16-Favorite"}),r.a.createElement(On,{total:t.totalReaction||0})))),r.a.createElement(u.l,{className:"box-media-playing"},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"text"},"B\xe0i h\xe1t \u0111ang ph\xe1t"),r.a.createElement(gn,{song:n,bgColor:null===s||void 0===s?void 0:s.bgColor,thumbnail:(null===i||void 0===i?void 0:i.thumbnail)||""}))),(null===i||void 0===i?void 0:i.hasSongRequest)&&r.a.createElement(bn,{streamId:t.encodeId}),r.a.createElement(_n,{encodeId:t.encodeId,key:t.encodeId}),r.a.createElement(u.y,{className:"action-group"},r.a.createElement(u.y.Item,null,r.a.createElement(on,null)),r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:E?"20-Collapse":"20-Expand",title:E?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh",onClick:me.toggleFullScreen})),!E&&r.a.createElement(u.y.Item,null,r.a.createElement(u.P,{icon:"20-Arrow-Down",title:"\u0110\xf3ng",onClick:function(){f.toggleOpenFS()}})))):null}))),Sn=n(437),xn=(n(1708),function(e){var t=e.children,n=e.size,l=e.activeIndex,o=Object(c.useRef)(null),s=Object(c.useRef)(null),m=Object(c.useState)({height:0,slideHeight:0,y:0}),f=Object(a.a)(m,2),b=f[0],d=f[1],E=r.a.Children.toArray(t),O=Object(c.useRef)(null),v=Object(i.a)().height;Object(c.useEffect)((function(){var e,t;s.current&&o.current&&d({height:(null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect().height)+30,slideHeight:null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().height,y:0})}),[v,n]);var j=function(){var e=b.y+b.slideHeight;e>b.height-b.slideHeight&&(e=b.height-b.slideHeight),d(Object(ke.a)(Object(ke.a)({},b),{},{y:e}))},g=b.y>0,p=b.y<b.height-b.slideHeight;return Object(c.useEffect)((function(){if(O.current&&b.height>b.slideHeight){var e=O.current.getBoundingClientRect().height;(l+1)*e>b.slideHeight&&j()}}),[b.height]),r.a.createElement(u.l,{className:"scroll-container",domRef:o},r.a.createElement(u.l,{className:"content",domRef:s,style:{transform:"translateY(-".concat(b.y,"px)"),transition:"transform 0.5s"}},E.map((function(e,t){return r.a.createElement(u.l,{key:t,domRef:t===l?O:void 0},e)}))),g&&r.a.createElement(u.l,{className:"go-up-btn",onClick:function(){var e=b.y-b.slideHeight;e<b.slideHeight&&(e=0),d(Object(ke.a)(Object(ke.a)({},b),{},{y:e}))}},r.a.createElement(u.q,{icon:"go-up"})),p&&r.a.createElement(u.l,{className:"go-down-btn",onClick:j},r.a.createElement(u.q,{icon:"go-down"})))}),Mn=Object(c.memo)((function(){var e=Object(l.c)(Ke.c),t=Object(l.c)(Ke.i),n=Object(l.c)(Ke.g),i=Object(Vt.a)(),o=Object(a.a)(i,1)[0],m=Object(l.c)(Ke.b),f=Object(s.b)((function(){return $e.a.getList("promote","")})),b=Object(a.a)(f,2),d=b[0],E=b[1];Object(c.useEffect)((function(){E()}),[]);var O=function(e){o.playLivestream(e)},v=Object(c.useMemo)((function(){var e,t=(null===(e=d.value)||void 0===e?void 0:e.data.items)||[];return m&&!nt.Array.some(t,(function(e){return e.encodeId===m.encodeId}))&&t.unshift(m),t}),[m,d]),j=null===m||void 0===m?void 0:m.sectionId,g=v.findIndex((function(e){return e.encodeId===(null===m||void 0===m?void 0:m.encodeId)}));return r.a.createElement(u.l,{className:"zm-live-left-content"},v.length>0&&r.a.createElement(xn,{size:v.length,activeIndex:g},v.map((function(a){var c=a.encodeId===e,l=t&&c,i=n&&c;return a.sectionId=j,r.a.createElement(Sn.a,{key:a.encodeId,item:a,isBuffering:i,isPlaying:l,strokeWidth:5,playFn:O})}))))})),Dn=(n(1709),Object(c.memo)((function(e){var t=e.item;return r.a.createElement(u.l,{className:"zm-floating-reaction"},r.a.createElement(In,{encodeId:t.encodeId,reactions:t.reactions,comboNumb:t.comboNumb}))}))),Un=(n(1710),Object(c.memo)((function(){var e=Object(l.c)(Ke.b),t=Object(l.c)(Ke.e),n=window.location.pathname;if(Object(c.useEffect)((function(){e&&window.history.replaceState({},e.title,e.link)}),[e]),Object(c.useEffect)((function(){return function(){window.history.replaceState({},"",n)}}),[]),!e)return null;var a=(null===t||void 0===t?void 0:t.thumbnailH)||e.thumbnailH;return r.a.createElement(u.l,{className:"zm-live-wrapper"},r.a.createElement(Mn,null),r.a.createElement(u.l,{className:"zm-live",style:{backgroundImage:"url(".concat(a,")")}},r.a.createElement(u.l,{className:"zm-live-opac"}),r.a.createElement(u.l,{className:"zm-live-content"},r.a.createElement(wn,{item:e})),r.a.createElement(Gt,{item:e}),r.a.createElement(Dn,{item:e})))}))),qn=function(){var e=Object(l.c)(Ke.h),t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],u=n[1];return Object(c.useEffect)((function(){u(e)}),[e]),r.a.createElement(G.a,{in:i,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:"zm-video-animation"},r.a.createElement(Un,null))},Fn=(n(1711),Object(c.memo)((function(){var e=Object(l.c)(rn),t=Object(l.b)();if(0===e)return r.a.createElement(r.a.Fragment,null);return r.a.createElement(u.l,{className:"alarm-countdown"},r.a.createElement(u.l,{renderAs:"span"},"Nh\u1ea1c s\u1ebd d\u1eebng sau:"),r.a.createElement(Yn,{time:e}),r.a.createElement(u.P,{icon:"close",onClick:function(){t(Object(kt.o)({type:O.E.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd"}))}))),Yn=function(e){var t=e.time,n=Object(s.f)(0),a=n.seconds,l=n.setSeconds;return Object(c.useEffect)((function(){t>0&&l(t-Object(ot.currentTime)())}),[t]),r.a.createElement(u.l,{renderAs:"span",className:"countdown"},Object(ot.formatAlarmTime)(a))};n(1712);var Bn=function(e){var t=e.thumbnail,n=e.title,a=e.subtitle,c=e.playFn,l=e.closeFn;return r.a.createElement(u.l,{className:"alarm-over-content"},r.a.createElement(u.l,null,"Th\u1eddi gian ph\xe1t nh\u1ea1c \u0111\xe3 k\u1ebft th\xfac, b\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c ph\xe1t b\xe0i h\xe1t n\xe0y?"),r.a.createElement(u.e,{className:"zm-card--song"},r.a.createElement(u.e.Image,null,r.a.createElement(u.x,{src:t})),r.a.createElement(u.e.Content,null,r.a.createElement(u.M,{renderAs:"h4"},n),r.a.createElement(u.M,{subtitle:!0},a))),r.a.createElement(u.l,{className:"modal-card-foot"},r.a.createElement(u.r,{className:"mar-t-10",text:"Ti\u1ebfp t\u1ee5c ph\xe1t",isSize:"medium",isActive:!0,fullwidth:!0,uppered:!0,type:u.a.OUTLINE,onClick:c}),r.a.createElement(u.r,{className:"mar-t-10",fullwidth:!0,uppered:!0,text:"B\u1ecf qua",onClick:l})))},zn=Object(c.memo)((function(e){var t=e.playFn,n=void 0===t?function(){}:t,a=e.closeModalFn,c=Object(l.c)(H.d),i=Object(l.c)(Ke.b);if(null===c||void 0===c?void 0:c.encodeId){return r.a.createElement(Bn,{thumbnail:c.thumbnailM,title:c.title,subtitle:c.artistsNames,playFn:function(){n(),a()},closeFn:a})}if(null===i||void 0===i?void 0:i.encodeId){return r.a.createElement(Bn,{thumbnail:i.thumbnailV,title:i.title,subtitle:"",playFn:function(){window.ZMP3_LIVE_PLAYER.play(),a()},closeFn:a})}return null})),Hn=Object(c.memo)((function(){var e=Object(l.b)(),t=Object(l.c)(rn),n=Object(s.r)(),a=n.Modal,i=n.show,u=n.hide,o=Object(l.c)(j.h),m=Object(c.useRef)(!1),b=Object(l.c)(f.h);return m.current=b,Object(c.useEffect)((function(){if(t-Object(ot.currentTime)()>0){var n=setInterval((function(){t-Object(ot.currentTime)()>0||(e(Object(Zt.b)()),clearInterval(n),(o.isPlaying()||m.current)&&i(),o.pause(),window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.isPlaying()&&(window.ZMP3_LIVE_PLAYER.pause(),i()),v.a.emit(v.b.ALARM_OVER_EVENT))}),1e3);return function(){return clearInterval(n)}}}),[t,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fn,null),r.a.createElement(a,null,r.a.createElement(zn,{closeModalFn:u,playFn:function(){return o.play()}})))})),Qn=n(609),Gn=n(14),Vn=n(438),Wn=n(107),Kn=n(188),Zn=n(37),Xn=n(44),Jn=n(192);var $n=Object(c.memo)((function(){var e=Object(l.b)(),t=Object(l.c)(j.h),n=Object(l.c)(j.e),i=Object(l.c)(j.o),o=Object(l.c)(H.d),s=Object(c.useState)((null===t||void 0===t?void 0:t.getCurrentTime())||0),m=Object(a.a)(s,2),f=m[0],b=m[1],d=Object(c.useState)({value:f,isSliding:!1}),p=Object(a.a)(d,2),h=p[0],y=p[1],N=Object(c.useRef)(!1),R=Object(c.useRef)(f),A=Object(l.c)(B.a),k=Object(c.useRef)(A);k.current=A;var I=i&&(null===o||void 0===o?void 0:o.previewInfo)||{},C=I.startTime,T=void 0===C?0:C,P=I.endTime;Object(c.useEffect)((function(){if(T){var e=f+T;y({value:e,isSliding:!1}),b(e),null===t||void 0===t||t.seek(0)}}),[T,t]),Object(c.useEffect)((function(){var e=function(e){var t=e.current+T;b(t),R.current=t};return null===t||void 0===t||t.on(O.N.PLAYER_TIMEUPDATE,e),function(){null===t||void 0===t||t.off(O.N.PLAYER_TIMEUPDATE,e)}}),[t,T]),Object(c.useEffect)((function(){0===n&&b(0)}),[n]),Object(c.useEffect)((function(){var e=setInterval((function(){L.a.set(Vn.b.NP_CURRENT_TIME,R.current),v.a.emit(v.b.PLAYER_TIME,R.current)}),3e3);return function(){clearInterval(e)}}),[]);var _=n||1,w=h.isSliding?h.value:f;return(w>_||w<0||0===n)&&(w=0),r.a.createElement(u.y.Item,{className:"mar-b-5",onClick:g.b.preventDefault},r.a.createElement(u.l,{renderAs:"span",className:"time left"},g.f.formatTime(w)),r.a.createElement(u.H,{max:_,minAllow:T,maxAllow:P,value:w,onChange:function(t){i&&(P&&t>P||T&&t<T)?(N.current=!0,e(Object(kt.o)({overlayClassName:O.o.UPGRADE_PREMIUM_MODAL,type:O.E.UPGRADE_PREMIUM,option:{text:"Theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n, b\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n PREMIUM \u0111\u1ec3 nghe tr\u1ecdn v\u1eb9n b\xe0i h\xe1t n\xe0y",utmMediumParam:Ce.c.SEEK_PREVIEW}}))):k.current||y({value:t,isSliding:!0})},onFinalChange:function(e){N.current||k.current?(N.current=!1,y({value:R.current,isSliding:!1})):(y({value:e,isSliding:!1}),t.seek(e-T),b(e))},direction:E.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"var(--progressbar-player-bg)",activeColor:"var(--progressbar-active-bg)"}),r.a.createElement(u.l,{renderAs:"span",className:"time right"},g.f.formatTime(n)))})),ea=n(45),ta=Object(c.memo)((function(e){var t=e.song;return r.a.createElement(u.l,{className:"control-song-item"},r.a.createElement(u.l,{className:"header"},"Ph\xe1t ti\u1ebfp theo"),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(ea.q,{thumbnail:t.thumbnail,playSongFn:function(){},isPlaying:!1})),r.a.createElement(u.A.Content,null,r.a.createElement(ea.j,{title:t.title,song:t,isTruncate:!0}),r.a.createElement(ea.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators}))))})),na=Object(c.memo)((function(e){var t=e.playNextSong,n=Object(l.b)(),i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],s=u[1],f=Object(l.c)(j.h),b=Object(l.c)(j.w),d=Object(l.c)(H.i),E=Object(l.c)(B.c);Object(c.useEffect)((function(){var e=function(){s(!0)};return null===f||void 0===f||f.on(O.N.PLAYER_ENDED,e),function(){null===f||void 0===f||f.off(O.N.PLAYER_ENDED,e)}}),[f,b]),Object(c.useEffect)((function(){o&&(E?(v.c.emit(O.db.SONG_LISTEN,{currentTime:f.getCurrentTime(),isPlayingPreview:!0}),n(Object(Y.d)())):(t(!1),n(Object(m.d)())),s(!1))}),[o,E]);var g=Object(c.useMemo)((function(){return d?r.a.createElement(ta,{song:d}):null}),[d]);return r.a.createElement(_.a,{name:"next",onClick:function(){t(!0),v.c.emit(v.b.PROMOTION_ZONE_TRIGGER,O.S.SKIP_SONG)},tooltipContent:g,tooltipClassName:"control-song--tooltip"})})),aa=Object(c.memo)((function(e){var t=e.playPrevSong,n=Object(l.c)(H.m),i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],s=u[1],m=Object(l.c)(j.h);Object(c.useEffect)((function(){return s(!1),n&&(null===m||void 0===m||m.on(O.N.PLAYER_TIMEUPDATE,f)),function(){null===m||void 0===m||m.off(O.N.PLAYER_TIMEUPDATE,f)}}),[n]);var f=function(e){s(e.current<5)};return r.a.createElement(_.a,{disabled:o,name:"pre",title:"Ph\xe1t l\u1ea1i",disabledTootip:!0,onClick:function(){return t()}})})),ca=n(36),ra=Object(c.memo)((function(e){var t=e.toggleRepeat,n=Object(l.c)(H.x);return r.a.createElement(_.a,{title:Object(me.getTextRepeat)(n),name:"repeat".concat(n===ca.REPEAT_MODE.ONE?"-one":""),active:!!n,onClick:t})})),la=Object(c.memo)((function(e){var t=e.toggleShuffle,n=Object(l.c)(H.r);return r.a.createElement(_.a,{title:n?"T\u1eaft ph\xe1t ng\u1eabu nhi\xean":"B\u1eadt ph\xe1t ng\u1eabu nhi\xean",name:"shuffle",active:n,onClick:t})}));r.a.forwardRef((function(e,t){return r.a.createElement(u.l,{className:"auto-play",domRef:t},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement(u.l,{className:"text"},e.seconds))}));var ia,ua=Object(c.memo)((function(e){var t=e.song,n=Object(l.c)(j.p),i=Object(l.c)(j.j),o=Object(s.u)(),m=Object(a.a)(o,1)[0],f=Object(l.c)(j.h),b=Object(l.c)(B.a);Object(c.useEffect)((function(){n&&Object(Jn.a)(t.title,t.artistsNames)}),[n]);var d=Object(c.useCallback)((function(){return!!n}),[n]);Object(s.c)(d,[n]),Object(c.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.shiftKey&&e.keyCode===Te.a.KEY_N?m.playNextSong(!0):e.shiftKey&&e.keyCode===Te.a.KEY_P?m.playPrevSong():e.keyCode===Te.a.SPACE?(e.preventDefault(),m.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(c.useEffect)((function(){var e;if(!Object(g.i)()&&navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;return n.metadata=new MediaMetadata({title:t.title,artist:t.artistsNames,album:null===(e=t.currentPlaylist)||void 0===e?void 0:e.title,artwork:[{src:t.thumbnailM,sizes:"96x96",type:"image/png"},{src:t.thumbnailM,sizes:"128x128",type:"image/png"},{src:t.thumbnailM,sizes:"192x192",type:"image/png"},{src:t.thumbnailM,sizes:"256x256",type:"image/png"},{src:t.thumbnailM,sizes:"384x384",type:"image/png"},{src:t.thumbnailM,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return m.togglePlay()})),n.setActionHandler("pause",(function(){return m.togglePlay()})),n.setActionHandler("previoustrack",(function(){return m.playPrevSong()})),n.setActionHandler("nexttrack",(function(){return m.playNextSong(!0)})),function(){n.setActionHandler("play",null),n.setActionHandler("pause",null),n.setActionHandler("previoustrack",null),n.setActionHandler("nexttrack",null)}}}),[t,n]),Object(c.useEffect)((function(){return f&&n&&(f.on(O.N.PLAYER_BUFFERING,E),f.on(O.N.PLAYER_BUFFERFULL,v)),function(){f&&n&&(m.isBufferingUpdate(!1),f.off(O.N.PLAYER_BUFFERING,E),f.off(O.N.PLAYER_BUFFERFULL,v))}}),[f,n]);var E=function(){m.isBufferingUpdate(!0)},v=function(){m.isBufferingUpdate(!1)};return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(u.c,null):r.a.createElement(_.a,{disabled:b,name:"play",title:n?"D\u1eebng":"Ph\xe1t",disabledTootip:!0,isHoverCircle:!1,onClick:function(e){e.preventDefault(),m.togglePlay()},icon:"".concat(n?"pause-circle-outline":"play-circle-outline")}))}));!function(e){e[e.BACKWARD=0]="BACKWARD",e[e.FORWARD=1]="FORWARD"}(ia||(ia={}));var oa=function(e){var t=e.type,n=Object(l.c)(j.h),a=function(){var e=(null===n||void 0===n?void 0:n.getCurrentTime())||0;n.seek(Math.max(e-15,0))},i=function(){var e=(null===n||void 0===n?void 0:n.getCurrentTime())||0,t=n.getDuration();n.seek(Math.min(e+30,t))},u=Object(c.useMemo)((function(){return t===ia.FORWARD?{icon:"16-Nextward-30",onClick:i,tooltip:"Tua t\u1edbi 30 gi\xe2y"}:{icon:"16-Backward-15s",onClick:a,tooltip:"Tua l\xf9i 15 gi\xe2y"}}),[]);return r.a.createElement(_.a,{className:"seek-btn",name:u.icon,onClick:u.onClick,tooltipContent:u.tooltip})};n(1713);var sa=Object(c.memo)((function(e){var t=e.playerAction,n=e.playingSong,c=Object(s.w)(),l=Object(a.a)(c,1)[0],i=n.episode;return r.a.createElement(u.y.Side,{align:"center",className:"player-controls__player-bar"},r.a.createElement(u.y.Item,null,r.a.createElement(u.l,{className:"actions",onClick:g.b.preventDefault},i?r.a.createElement(oa,{type:ia.BACKWARD}):r.a.createElement(la,{toggleShuffle:l.shuffle}),r.a.createElement(aa,{playPrevSong:t.playPrevSong}),r.a.createElement(ua,{song:n}),r.a.createElement(na,{playNextSong:t.playNextSong}),i?r.a.createElement(oa,{type:ia.FORWARD}):r.a.createElement(ra,{toggleRepeat:l.repeat}))),r.a.createElement($n,null))})),ma=n(286);n(1714);function fa(e){var t=e.song,n=Object(oe.a)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1],m=Object(c.useRef)(null);if(Object(s.t)(m,(function(e){e||o(e)})),!t.encodeId)return r.a.createElement(r.a.Fragment,null);var f=ea.d.filter((function(e){return e!==ea.b.REMOVE_FROM_QUEUE}));return r.a.createElement(u.l,{renderAs:"span",domRef:m,id:"np_menu"},r.a.createElement(_.a,{title:"Xem th\xeam",name:"more",onClick:o}),i&&r.a.createElement(u.l,null,t.episode?r.a.createElement(ma.b,{song:t,hideContextMenu:o,isInQueue:!0,containerId:"np_menu",buttonsType:[ea.b.COPY_LINK,ea.b.SHARE]}):r.a.createElement(ea.n,{song:t,hideContextMenu:o,isInQueue:!0,buttonsType:f,containerId:"np_menu"})))}r.a.memo(fa);var ba=n(50),da=n(78);var Ea=Object(c.memo)((function(e){var t=e.playingSong,n=e.link,i=Object(c.useRef)(null),o=Object(c.useRef)(null),s=Object(c.useRef)(null),m=Object(c.useState)(!1),f=Object(a.a)(m,2),b=f[0],d=f[1],E=Object(c.useState)(!1),O=Object(a.a)(E,2),v=O[0],g=O[1],p=Object(c.useState)(!1),h=Object(a.a)(p,2),y=h[0],N=h[1],R=Object(l.c)(j.p),A=Object(c.useRef)({}),k=Object(c.useRef)({}),I=Object(da.checkIsVipMedia)(t);Object(c.useEffect)((function(){P(),N(!1),C()}),[t]),Object(c.useEffect)((function(){R?T():clearTimeout(k.current)}),[R]),Object(c.useEffect)((function(){b&&T()}),[b]),Object(c.useEffect)((function(){v||(clearTimeout(k.current),b?T():R&&(k.current=setTimeout((function(){T()}),5e3)))}),[v]);var C=function(){if(i.current){var e=0;s&&s.current&&(e=s.current.clientWidth),i.current.clientWidth>e&&N(!0)}},T=function(){if(y&&!v&&i.current){var e=i.current.clientWidth,t=5*e/200;o.current&&(o.current.style.transform="translateX(-".concat(e,"px)"),o.current.style.transition="transform ".concat(t,"s linear")),g(!0),A.current=setTimeout((function(){P()}),1e3*t)}},P=function(){o.current&&(o.current.style.transform="",o.current.style.transition=""),g(!1),clearTimeout(A.current)},L=Object(c.useCallback)((function(e){d(!1)}),[b]),_=Object(c.useCallback)((function(e){d(!0)}),[b]);return r.a.createElement(u.y.Side,{align:"left",domRef:s,className:"is-mark"},r.a.createElement(u.l,{className:"song-info-wrapper",onMouseLeave:L,onMouseEnter:_,domRef:o},r.a.createElement(u.l,{renderAs:"span",className:"song-title-item",domRef:i},r.a.createElement(ba.a,{to:n},r.a.createElement(ea.j,{showVipLabel:I,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isHoverable:!0}))),y&&r.a.createElement(u.l,{renderAs:"span",className:"song-title-item"},r.a.createElement(ba.a,{to:n},r.a.createElement(ea.j,{showVipLabel:I,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isHoverable:!0})))))}));n(1715);var Oa=function(e){var t=e.thumbnail,n=e.link,a=void 0===n?"/":n,c=e.onClick,l=r.a.createElement(u.l,{className:"thumbnail-wrapper",onClick:c},r.a.createElement(u.l,{className:"thumbnail"},r.a.createElement(u.x,{size:50,src:t})));return a?r.a.createElement(ba.a,{to:a},l):l},va=Object(c.memo)((function(e){var t=e.playingSong,n=Object(l.c)(H.f),a=Object(we.g)(),c=Object(s.l)().forceRefresh,i=t.episode,o=n?n.link:t.link,m=t.album;return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,{onClick:g.b.preventDefault},r.a.createElement(Oa,{thumbnail:t.thumbnailM,onClick:function(e){g.b.preventDefault(e),o!==a.location.pathname?a.push(o):c(o)}})),r.a.createElement(u.A.Content,null,i&&r.a.createElement(u.l,{className:"label"},r.a.createElement(u.q,{icon:r.a.createElement(ae.l,null)})),r.a.createElement(Ea,{playingSong:t,link:o}),i&&m?r.a.createElement(u.M,{subtitle:!0},r.a.createElement(ba.a,{to:null===m||void 0===m?void 0:m.link,className:"is-ghost"},null===m||void 0===m?void 0:m.title)):r.a.createElement(ea.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators,isTruncate:!0,onClick:g.b.preventDefault})),r.a.createElement(u.A.Right,{onClick:g.b.preventDefault},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,null,r.a.createElement(Le.g,{className:"zm-disable-transition",objectType:i?O.K.EPISODE:O.K.SONG,objectId:t.encodeId,object:t})),r.a.createElement(u.y.Item,null,r.a.createElement(fa,{song:t})))))))}));var ja=Object(c.memo)((function(){var e=Object(l.c)(j.b),t=Object(l.c)(z.l),n=Object(l.c)(j.p),i=Object(l.c)(j.h),u=Object(l.c)(j.c),o=Object(l.c)(z.i),m=Object(l.c)(z.u),f=Object(c.useRef)(e),b=Object(s.u)(),d=Object(a.a)(b,1)[0],E=Object(l.b)();return Object(c.useEffect)((function(){if(e!==f.current&&(L.a.set(O.A.NP_SOURCE_LEVEL,e),f.current=e,u&&u!==O.Z)){var t=(null===i||void 0===i?void 0:i.getCurrentTime())||0;d.isBufferingUpdate(!1);null===i||void 0===i||i.stop(),null===i||void 0===i||i.setupSource(u),null===i||void 0===i||i.once(O.N.PLAYER_LOADEDMETADATA,(function(){d.isBufferingUpdate(!1),null===i||void 0===i||i.seek(t),n&&(null===i||void 0===i||i.play())}))}}),[e,u,i]),Object(c.useEffect)((function(){if(t){var e=128,n=0;switch(L.a.get(O.A.NP_SOURCE_LEVEL,0)){case 0:o?(e=999,n=2):(e=320,n=1),L.a.set(O.A.NP_SOURCE_LEVEL,e);break;case 320:e=320,n=1;break;case 999:o?(e=999,n=2):(L.a.set(O.A.NP_SOURCE_LEVEL,320),e=320,n=1)}f.current!==e&&d.sourceLevelSwitch({index:n,level:e}),L.a.get(O.A.GAPLESS+m)&&(o?E(Object(Zn.o)()):L.a.set(O.A.GAPLESS+m,!1));var a=L.a.get(O.A.CROSSFADE+m,{});"true"===String(a.mode)&&(o?(E(Object(Zn.n)()),E(Object(Zn.q)(Number(a.time||O.n)))):L.a.set(O.A.CROSSFADE+m,{mode:!1,time:O.n}))}}),[t,o,m]),r.a.createElement(r.a.Fragment,null)})),ga=n(276),pa=n(1581),ha=n(156);var ya=Object(c.memo)((function(){var e=Object(s.w)(),t=Object(a.a)(e,1)[0],n=Object(l.c)(H.p),i=Object(l.c)(ha.d),o=Object(l.b)();return Object(c.useEffect)((function(){var e;return i.type===O.c.FLY_ITEM_TO_QUEUE&&(e=setTimeout((function(){o(Object(kt.r)())}),2e3)),function(){clearTimeout(e)}}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.i,{category:Ce.a.NOW_PLAYING,action:"np_toggle",label:n?"off":"on",onClickFn:function(){return t.toggleIsOpen()},childrenProps:{className:D()(O.o.QUEUE_EXPAND_BUTTON,{active:n,"is-flash":i.type===O.c.FLY_ITEM_TO_QUEUE})}},r.a.createElement(u.O,{content:"Danh s\xe1ch ph\xe1t"},r.a.createElement(u.r,{renderAs:"div",icon:"list-music"}))))})),Na=(n(1716),n(1717),[O.O.S05,O.O.S08,O.O.S10,O.O.S12,O.O.S15]),Ra=Object(c.memo)((function(){var e=Object(l.c)(j.h),t=Object(s.u)(),n=Object(a.a)(t,1)[0],i=Object(l.c)(j.s),o=Object(oe.a)(!1),m=Object(a.a)(o,2),f=m[0],b=m[1],d=Object(c.useRef)(null);return Object(s.t)(d,(function(e){e||b(e)})),Object(c.useEffect)((function(){e.setPlaybackRate(i)}),[i,e]),r.a.createElement(u.l,{className:"zm-speed-btn",domRef:d},r.a.createElement(u.d,{onClick:b},"".concat(i.toFixed(1),"x")),f&&r.a.createElement(u.B,{className:"speed-menu"},r.a.createElement(u.l,{className:"menu-header"},"Ch\u1ecdn t\u1ed1c \u0111\u1ed9 ph\xe1t"),r.a.createElement(u.B.List,null,Na.map((function(e){var t=e===i;return r.a.createElement(u.B.List.Item,{key:e,active:t},r.a.createElement(u.d,{onClick:function(){return n.changeSpeed(e)}},"".concat(e.toFixed(1),"x"),t&&r.a.createElement(u.q,{icon:"check",className:"mar-r-0"})))})))))}));var Aa=function(e){var t=e.playingSong,n=Object(ga.a)(),a=n.playVideo,l=n.forceClear,i=Object(c.useCallback)((function(){a(t),l()}),[t]);return r.a.createElement(Le.i,{category:Ce.a.PLAYER,action:"player_mv",onClickFn:i,component:function(e){return r.a.createElement(_.a,Object.assign({name:"mv",title:"MV",disabled:!t.mvlink},e))}})},ka=function(e){var t=e.playingSong,n=Object(l.b)(),a=Object(l.c)(x.e);return r.a.createElement(Le.i,{category:Ce.a.PLAYER,action:"player_lyric",onClickFn:function(){n(Object(V.g)({}))},component:function(e){return r.a.createElement(_.a,Object.assign({disabled:!t.hasLyric,name:"karaoke",title:a?"\u0110\xf3ng":"Xem l\u1eddi b\xe0i h\xe1t",active:a},e))}})},Ia=Object(c.memo)((function(e){var t=e.playingSong;return r.a.createElement(u.y.Side,{align:"right",className:"player-controls-right"},t.episode?r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(Ra,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(Aa,{playingSong:t})),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(ka,{playingSong:t}))),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(pa.a,{id:t.encodeId,thumbnail:t.thumbnailM})),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(w,null)),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(u.l,{renderAs:"span",className:"divide"})),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(ya,null)))}));n(1718);var Ca=Object(c.memo)((function(){var e=Object(we.g)(),t=Object(l.b)(),n=Object(s.l)().forceRefresh,i=Object(s.g)().startCrossFade,d=Object(s.j)().startFadeout,E=Object(l.c)(j.h),p=Object(l.c)(j.i),h=Object(c.useRef)(E),y=Object(l.c)(j.l),N=Object(l.c)(j.f),R=Object(l.c)(j.k),A=Object(c.useRef)(R);A.current=R;var k=Object(c.useRef)(!1),I=Object(s.u)(),C=Object(a.a)(I,1)[0],T=Object(l.c)(H.d)||{},P=Object(l.c)(H.u),_=Object(l.c)(H.A),w=Object(l.c)(j.u),S=Object(l.c)(j.d)||"",M=Object(l.c)(Z.e),U=Object(l.c)(x.e),q=Object(l.c)(j.a),F=Object(l.c)(f.h),Q=Object(l.c)(j.w),G=Object(l.c)(j.g),V=Object(l.c)(j.s),K=Object(c.useRef)(),X=Object(c.useRef)(0),J=Object(c.useState)(!1),$=Object(a.a)(J,2),ee=$[0],te=$[1],ne=Object(c.useRef)(Date.now()),ae=Object(c.useRef)(!1),ce=Object(l.c)(f.j),re=Object(l.c)(f.f),le=Object(l.c)(f.i),ie=Object(l.c)(f.c),ue=Object(l.c)(z.a),oe=Object(l.c)(z.b),se=Object(l.c)(j.b),fe=Object(c.useRef)(),be=Object(l.c)(H.w),de=Object(l.c)(j.n),Ee=Object(c.useRef)(!1),Oe=Object(c.useRef)(0),ve=Object(c.useRef)(0),je=Object(c.useRef)({lastUpdate:Object(ot.currentTime)(),p128:"",playing:"",encodeId:""}),ge=Object(c.useRef)(S),pe=Object(c.useRef)(!1),he=Object(c.useRef)(),ye=Object(l.c)(z.i),Ne=Object(c.useRef)({}),Re=Object(c.useRef)(0),Ae=Object(l.c)(z.f),Te=Object(l.c)(j.o),Pe=Object(c.useRef)({}),Le=Object(c.useState)(!1),_e=Object(a.a)(Le,2),Se=_e[0],xe=_e[1],Me=Object(l.c)(B.c),De=Object(c.useRef)(!1),Ue=Te||Se?o.k:N;Object(c.useEffect)((function(){var e=setInterval((function(){Re.current=0}),6e4);return function(){clearInterval(e)}}),[]),Object(c.useEffect)((function(){var e=!1;P&&(e=!T.episode&&!T.isIntro&&!P.episode&&!P.isIntro),te(e)}),[T,P]),Object(c.useEffect)((function(){ge.current=S}),[S]),Object(c.useEffect)((function(){A.current&&(Date.now()-ne.current<Ue*o.m?ne.current-=Ue*o.m:v.c.emit(v.b.PLAYER_REMOVE_CROSS_FADE))}),[T]);var qe=function(){g.q.debug("PlayerControls | onPlay"),C.play()},Fe=function(){g.q.debug("PlayerControls | onPause"),C.pause(),Object(Jn.q)(),v.c.emit(v.b.PLAYER_REMOVE_CROSS_FADE)},Ye=function(e){var n;if(Te)g.q.error(-999,"PLAYER ERROR | VIP PREVIEW SOURCE ",T.encodeId,T.title,S);else{var a;if(128!==se&&w.p128&&!(null===(n=Ne.current[T.encodeId])||void 0===n?void 0:n.error))Ne.current[T.encodeId]={error:!0,numb:0},Re.current<50&&(g.q.error(-999,"PLAYER ERROR | SOURCE ",T.encodeId,T.title,S),h.current.stop(),h.current.setupSource(w.p128));else if(t(Object(kt.p)({status:O.ab.ERROR,text:O.D.GET_STREAMING_ERROR})),Re.current<50)g.q.error(-999,"PLAYER ERROR | SOURCE 2 ",T.encodeId,T.title,S),(null===(a=Ne.current[T.encodeId])||void 0===a?void 0:a.numb)||(Ne.current[T.encodeId]={error:!0,numb:1},C.playNextSong(!1));Re.current++,Re.current<50&&C.trackingError(e)}},Be=Object(c.useCallback)(Object(Je.a)(Xe.a.mark((function e(){var t,n,a,c,r,l,i,u,o,s,m,f,b,d,E;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P&&ee){e.next=2;break}return e.abrupt("return");case 2:if(Te){e.next=5;break}if(ye&&y){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,xe(!1),n={},je.current.encodeId!==P.encodeId){e.next=12;break}t=Object(ke.a)({},je.current),e.next=27;break;case 12:if(ae.current=!1,!g.c.checkCanPlayFully(P,Ae)){e.next=22;break}return e.next=16,Wn.SongService.getStreaming(P.encodeId);case 16:return a=e.sent,e.next=19,g.d.buildSource(a);case 19:t=e.sent,e.next=27;break;case 22:return e.next=24,Wn.SongService.getVipPreviewInfo(P.encodeId);case 24:c=e.sent,r=c.data||{},l=r.link,i=void 0===l?"":l,u=r.startTime,o=void 0===u?-1:u,s=r.endTime,m=void 0===s?-1:s,f=r.bumperAudio,b=void 0===f?{}:f,i&&o>=0&&m>o&&(n=Object(ke.a)(Object(ke.a)({},b),{},{encodeId:P.encodeId}),xe(!0),Pe.current[P.id]=!0,t={lastUpdate:Object(ot.currentTime)(),p128:i});case 27:t&&(d=t.p128||"",(E=t["p".concat(se)])&&E!==O.Z&&(d=E),je.current=Object(ke.a)(Object(ke.a)(Object(ke.a)({},t),n),{},{playing:d,encodeId:P.encodeId}),ae.current=!1,he.current&&clearInterval(he.current),he.current=setInterval((function(){pe.current&&(p.setupSource(d),clearTimeout(he.current))}),100)),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),g.q.error(O.t.UNKNOWN,"setupSourceForSecPlayer | getStreaming | encodeId | err:",P.encodeId,P.title,P.link,e.t0);case 33:case"end":return e.stop()}}),e,null,[[5,30]])}))),[p,P,ee,se,y,Te]);Object(c.useEffect)((function(){var e=function(){p.pause(),p.seek(0),ae.current=!0};return p.on(O.N.PLAYER_LOADEDMETADATA,e),function(){p.off(O.N.PLAYER_LOADEDMETADATA,e)}}),[p,P]),Object(c.useEffect)((function(){k.current=!1}),[G,P]),Object(c.useEffect)((function(){if(_>0){var e=L.a.get(Vn.b.NP_CURRENT_TIME);g.q.debug("Player | DEBUG | get stored current time",e),null===E||void 0===E||E.seek(e)}return function(){L.a.set(Vn.b.NP_CURRENT_TIME,0)}}),[]);var ze=Object(c.useCallback)((function(e,t){void 0===e||void 0===t?(Ee.current=!1,Oe.current=0,ve.current=0):(Ee.current=!0,Oe.current=e,ve.current=t)}),[]),He=Object(c.useCallback)((function(e){ze();var t=e.split("?")[0],n=JSON.parse(sessionStorage.getItem(t));if(n){var a=n.front,c=n.rear;ze(Number(a),Number(c))}else g.d.gaplessPositionAudioFile(e,(function(e,n,a){ge.current===a&&(ze(e,n),sessionStorage.setItem(t,JSON.stringify({front:e,rear:n})))}))}),[]);return Object(c.useEffect)((function(){g.q.info("source change",S),k.current=!1,E||window.location.reload();var e=function(){pe.current=!0,He(S),fe.current&&clearTimeout(fe.current),C.isBufferingUpdate(!1),q&&E.play()},t=function(){C.pause()};return null===E||void 0===E||E.on(O.N.PLAYER_STOP,t),null===E||void 0===E||E.stop(),S&&(ze(),null===E||void 0===E||E.on(O.N.PLAYER_LOADEDMETADATA,e),fe.current&&clearTimeout(fe.current),fe.current=setTimeout((function(){C.isBufferingUpdate(!0)}),700),pe.current=!1,null===E||void 0===E||E.setupSource(S),3===me.xhrGapless.readyState&&me.xhrGapless.abort(),null===E||void 0===E||E.setPlaybackRate(V)),function(){null===E||void 0===E||E.off(O.N.PLAYER_LOADEDMETADATA,e),null===E||void 0===E||E.off(O.N.PLAYER_STOP,t)}}),[Q,He]),Object(c.useEffect)((function(){T.resumePoint&&!T.resumePoint.isFinished&&(0===L.a.get(Vn.b.NP_CURRENT_TIME)&&E.seek(T.resumePoint.resumePosition));return function(){L.a.set(Vn.b.NP_CURRENT_TIME,0)}}),[T]),Object(c.useEffect)((function(){return K.current=setTimeout(Be,R?Ue*o.m:0),function(){K.current&&clearTimeout(K.current)}}),[P,Be,R]),Object(c.useEffect)((function(){var e=!Te&&!oe&&re&&Object(ot.currentTime)()-ce>f.b&&le&&ie>=f.a-1;De.current=!1;var n=function(n){n.current>0&&(Ne.current[T.encodeId]={error:!1,numb:0});var a=T.duration;a!==X.current&&(X.current=a,C.durationUpdate(a));var c=n.total-n.current;if(de&&Ee.current&&!Te&&(n.current<Oe.current&&!A.current&&E.seek(Oe.current),c<=ve.current))return ze(),v.c.emit(O.db.SONG_LISTEN,{currentTime:E.getDuration(),isPlayingPreview:Te}),C.playNextSong(!1),void t(Object(m.d)());if(!e)if(Me)n.total>Ue&&c<=o.k&&!De.current&&(De.current=!0,d(E,T.id,c*o.m));else if((y||Te)&&ee&&n.total>Ue&&c<=Ue&&!k.current&&ae.current){v.c.count(O.db.SONG_LISTEN)&&v.c.emit(O.db.SONG_LISTEN,{currentTime:E.getDuration(),isPlayingPreview:Te}),Te||t(Object(m.d)()),je.current.playing&&(ge.current=je.current.playing,He(je.current.playing));var r=Object(ke.a)({},je.current),l=(r.playing,r.encodeId,Object(Gn.a)(r,["playing","encodeId"]));if(t(Object(Zn.i)(l)),p.play(),k.current=!0,A.current=!0,ne.current=Date.now(),i(p,E,c*o.m),t(Object(Y.b)(je.current.bumperAudio||{})),P){if(t(Object(Kn.d)(P)),P.id)t(Object(Xn.f)(P.id)),t(Object(Zn.r)(!!Pe.current[P.id]));else{var u=Object(Qn.a)(be),s=u[0],f=u.slice(1),j=g.e.buildSongId(s);t(W.h({items:[j].concat(Object(Ie.a)(f)),addSuccessful:function(){t(Object(Xn.f)(j.id))}}))}var h=Date.now();v.c.once(O.db.SONG_LISTEN,(function(e){Object(b.j)(P,ue,Object(ke.a)(Object(ke.a)({},e),{},{timestamp:h})),Object(b.a)(Ce.a.SONG,"play",P.title)})),Object(Jn.a)(P.title,P.artistsNames)}t(Object(Zn.m)())}};return null===E||void 0===E||E.on(O.N.PLAYER_TIMEUPDATE,n),function(){null===E||void 0===E||E.off(O.N.PLAYER_TIMEUPDATE,n)}}),[E,Ue,y,ee,ce,re,le,P,ie,oe,be,de,He,Te,Me]),Object(c.useEffect)((function(){var e=function(){var e=Object(Je.a)(Xe.a.mark((function e(){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.current){e.next=6;break}return K.current&&clearTimeout(K.current),t(Object(Zn.p)(!1)),v.c.emit(v.b.PLAYER_REMOVE_CROSS_FADE),e.next=6,Be();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===E||void 0===E||E.on(O.N.PLAYER_SEEKING,e),function(){null===E||void 0===E||E.off(O.N.PLAYER_SEEKING,e)}}),[E,Be]),Object(c.useEffect)((function(){h.current=E;var e=function(e){var t=e.duration;Te?C.durationUpdate(T.duration):C.durationUpdate(t)};return null===E||void 0===E||E.on(O.N.PLAYER_LOADEDMETADATA,e),null===E||void 0===E||E.on(O.N.PLAYER_PLAY,qe),null===E||void 0===E||E.on(O.N.PLAYER_PAUSE,Fe),S&&(null===E||void 0===E||E.on(O.N.PLAYER_ERROR,Ye)),function(){null===E||void 0===E||E.off(O.N.PLAYER_LOADEDMETADATA,e),null===E||void 0===E||E.off(O.N.PLAYER_PLAY,qe),null===E||void 0===E||E.off(O.N.PLAYER_PAUSE,Fe),null===E||void 0===E||E.off(O.N.PLAYER_ERROR,Ye)}}),[Q,E,Te]),!_||M?r.a.createElement(ja,null):r.a.createElement(u.l,{className:D()("player-controls clickable",{opac:U,hidden:F}),onClick:function(){var t=T.currentPlaylist?T.currentPlaylist.link:T.link;t!==e.location.pathname?e.push(t):n(t)}},r.a.createElement(u.y,{className:"player-controls__container"},r.a.createElement(va,{playingSong:T}),r.a.createElement(sa,{playingSong:T,playerAction:C}),r.a.createElement(Ia,{playerAction:C,playingSong:T})),r.a.createElement(ja,null))}));function Ta(e){var t=e.item,n=Object(oe.a)(!1),l=Object(a.a)(n,2),i=l[0],o=l[1],m=Object(c.useRef)(null);return Object(s.t)(m,(function(e){e||o(e)})),t.encodeId?r.a.createElement(u.l,{renderAs:"span",domRef:m,id:"np_menu"},r.a.createElement(u.r,{title:"Xem th\xeam",name:"more",icon:"more",onClick:o}),i&&r.a.createElement(u.l,null,r.a.createElement(u.k,{className:"song-menu"},r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(Le.d,{object:t})),r.a.createElement(u.B.List.Item,null,r.a.createElement(Le.l,{containerId:"np_menu",object:t,type:O.K.LIVESTREAM})))))):r.a.createElement(r.a.Fragment,null)}r.a.memo(Ta);var Pa=Object(c.memo)((function(e){var t=e.item,n=Object(l.b)(),i=Object(l.c)(Ke.e),o=Object(l.c)(Ke.i),s=Object(l.c)(Ke.j),m=Object(Vt.a)(),f=Object(a.a)(m,1)[0],d=Object(c.useRef)(!1),E=Object(c.useCallback)(Object(Je.a)(Xe.a.mark((function e(){var a,c;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.getInfo(t.encodeId);case 3:if(a=e.sent,!(c=a.data)){e.next=12;break}if(c.status!==ca.TLivestreamStatus.ENDED){e.next=10;break}return f.clearLivestream(),n(Object(kt.o)({type:O.E.LIVESTREAM_ENDED,option:c})),e.abrupt("return");case 10:f.setActiveUsers(c.activeUsers),d.current&&t.streaming===c.streaming||(d.current=!0,f.updateLivestream(c));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),g.q.error(e.t0.err,"getLiveStreamInfo | item.encodeId | link",t.encodeId,t.link);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[t]),v=Object(c.useCallback)((function(){return f.syncCurrentProgram()}),[]),j=Object(c.useCallback)((function(){i&&(new Date).getTime()/1e3>i.endTime&&f.syncPrograms()}),[i]),p=Object(c.useCallback)((function(){o&&$e.a.putCCU(t.encodeId)}),[t,o]),h=Object(c.useCallback)((function(){o&&Object(b.a)(Ce.a.LIVE_STREAM,"play",t.title)}),[t,o]);Object(c.useEffect)((function(){d.current=!1,E(),f.syncPrograms()}),[null===t||void 0===t?void 0:t.encodeId]),Object(c.useEffect)((function(){v()}),[null===i||void 0===i?void 0:i.encodeId]),Object(Wt.a)((function(){h()}),6e4),Object(Wt.a)((function(){E(),v(),p(),j()}),1e4);return r.a.createElement(u.y.Side,{align:"left",className:"player-controls-left"},r.a.createElement(u.y.Item,{narrow:!0},r.a.createElement(u.A,null,r.a.createElement(u.A.Left,{onClick:g.b.preventDefault},r.a.createElement(Oa,{thumbnail:t.thumbnail,onClick:function(){f.toggleOpenFS(!0)}})),r.a.createElement(u.A.Content,{onClick:g.b.preventDefault},r.a.createElement(u.M,null,t.title," "),r.a.createElement(u.l,{className:"top"},r.a.createElement(u.l,{renderAs:"span",className:"label"},r.a.createElement(u.q,{icon:r.a.createElement(ae.g,null)})),Object(sn.a)(s)," \u0111ang nghe")),r.a.createElement(u.A.Right,{className:"mar-l-15",onClick:g.b.preventDefault},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,null,r.a.createElement(Ta,{item:t})))))))})),La=function(e){var t=e.media,n=t.title,a=t.artists,c=t.link,l=t.episode,i="".concat(n).concat(a&&" - ".concat(jn(t)));return c&&!l?r.a.createElement(ba.a,{to:c},i):r.a.createElement(u.l,null,i)},_a=Object(c.memo)((function(e){var t=e.item,n=e.togglePlay,a=e.isPlaying,i=e.isBuffering,o=Object(l.c)(Ke.d),s=Object(l.c)(Ke.e);return Object(c.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.keyCode===Te.a.SPACE?(e.preventDefault(),window.ZMP3_LIVE_PLAYER.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(c.useEffect)((function(){var e;if(navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;n.metadata=new MediaMetadata({title:t.title,artist:null===t||void 0===t||null===(e=t.host)||void 0===e?void 0:e.name,artwork:[{src:t.thumbnail,sizes:"96x96",type:"image/png"},{src:t.thumbnail,sizes:"128x128",type:"image/png"},{src:t.thumbnail,sizes:"192x192",type:"image/png"},{src:t.thumbnail,sizes:"256x256",type:"image/png"},{src:t.thumbnail,sizes:"384x384",type:"image/png"},{src:t.thumbnail,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()})),n.setActionHandler("pause",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()}));var a=function(){};n.setActionHandler("previoustrack",a),n.setActionHandler("nexttrack",a)}}),[t,a]),r.a.createElement(u.y.Side,{align:"center"},r.a.createElement(u.l,{className:"control-action",onClick:g.b.preventDefault},r.a.createElement(u.r,{icon:"repeat",disabled:!0}),r.a.createElement(u.r,{icon:"pre",disabled:!0}),i?r.a.createElement(u.c,null):r.a.createElement(u.r,{onClick:n,icon:a?"pause-circle-outline":"play-circle-outline"}),r.a.createElement(u.r,{icon:"next",disabled:!0}),r.a.createElement(u.r,{icon:"shuffle",disabled:!0})),r.a.createElement(u.l,{className:"control-text",onClick:g.b.preventDefault},r.a.createElement(u.l,{className:"content"},r.a.createElement(K,{isPlaying:a},o?r.a.createElement(La,{media:o}):null===s||void 0===s?void 0:s.title)),o&&o.encodeId&&!o.episode&&r.a.createElement(Le.g,{object:o,objectId:o.encodeId,disableAnimation:!0,objectType:O.K.SONG})))})),wa=(n(1719),{start:0,playTime:0}),Sa=function(e){var t=e.item,n=Object(s.w)(),c=Object(a.a)(n,1)[0],o=Object(l.c)(H.p);Object(i.a)().width;return r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(pa.b,{id:t.encodeId,thumbnail:t.thumbnailM})),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(w,null)),r.a.createElement(u.y.Item,{narrow:!0,onClick:g.b.preventDefault},r.a.createElement(u.d,{className:D()("queue-toggle-btn",{active:o}),onClick:function(){return c.toggleIsOpen()}},"L\u1ecbch ph\xe1t s\xf3ng")))},xa=Object(c.memo)((function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(0),n=Object(c.useRef)(!1),i=Object(Vt.a)(),o=Object(a.a)(i,1)[0],s=Object(l.c)(j.v),m=Object(l.c)(Ke.b),f=Object(l.c)(Ke.i),b=Object(l.c)(Ke.g),d=Object(l.c)(Ke.a),E=Object(l.c)(j.h),v=Object(c.useRef)(function(){var e=L.a.get("tracking_live_key");return e&&(e.start=0),e||Object(ke.a)({},wa)}());n.current=d,Object(c.useEffect)((function(){if(m){var e=window.ZMP3_LIVE_PLAYER=Object(me.initZPLayer)("audio/x-mpegURL",m.streaming);o.setBuffering(!0);var a=function(){v.current.start>0&&(v.current.playTime+=(new Date).getTime()-v.current.start)},c=function(){o.setPlaying(!0);var n=e.getCurrentTime();v.current.start=(new Date).getTime(),t.current-n>20&&e.playback.seek(t.current)},r=function(){e.setVolume(s),n.current&&e.play(),o.setBuffering(!1)},l=function(){o.setPlaying(!1),a(),v.current.start=0},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.q.error(0,"Live Stream Player ",e.code)},u=function(n){var a=e.getCurrentTime(),c=(n||{}).current,r=void 0===c?0:c;t.current=r,e.isPlaying()&&(r-a>60||a>r)&&e.playback.seek(r-5)},f=function(){return o.setBuffering(!0)},b=function(){return o.setBuffering(!1)};e.once(O.N.PLAYER_LOADEDMETADATA,r),e.on(O.N.PLAYER_PLAY,c),e.on(O.N.PLAYER_PAUSE,l),e.on(O.N.PLAYER_ERROR,i),e.on(O.N.PLAYER_BUFFERING,f),e.on(O.N.PLAYER_BUFFERFULL,b),e.once(O.N.PLAYER_STOP,l),e.on(O.N.PLAYER_PROGRESS,u);var d=setInterval((function(){v.current.start>0&&(a(),v.current.start=(new Date).getTime(),L.a.set("tracking_live_key",v.current))}),5e3);return function(){clearInterval(d),a(),o.trackLivestream(m,v.current.playTime),v.current=Object(ke.a)({},wa),L.a.remove("tracking_live_key"),e.off(O.N.PLAYER_LOADEDMETADATA,r),e.off(O.N.PLAYER_PLAY,c),e.off(O.N.PLAYER_PAUSE,l),e.off(O.N.PLAYER_ERROR,i),e.off(O.N.PLAYER_BUFFERING,f),e.off(O.N.PLAYER_BUFFERFULL,b),e.off(O.N.PLAYER_STOP,l),e.off(O.N.PLAYER_PROGRESS,u),t.current=0;try{e.stop(),e.destroy()}catch(n){}}}return function(){}}),[null===m||void 0===m?void 0:m.encodeId,null===m||void 0===m?void 0:m.streaming]),Object(c.useEffect)((function(){window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.setVolume(s)}),[s]),Object(c.useEffect)((function(){var e=function(){o.clearLivestream()};return E.on(O.N.PLAYER_PLAY,e),function(){E.off(O.N.PLAYER_PLAY,e),o.setPlaying(!1),o.setAutoPlay(!1)}}),[E]);return m?r.a.createElement(u.l,{className:"zm-ls-control-bar player-controls clickable",onClick:function(){o.toggleOpenFS(!0)}},r.a.createElement(u.y,null,r.a.createElement(Pa,{item:m}),r.a.createElement(_a,{togglePlay:function(){window.ZMP3_LIVE_PLAYER.togglePlay()},isPlaying:f,isBuffering:b,item:m}),r.a.createElement(Sa,{item:m})),r.a.createElement(u.l,{domRef:e})):r.a.createElement(r.a.Fragment,null)})),Ma=(n(1720),n(1630),Object(c.memo)((function(e){var t=e.children,n=e.className,a=Object(l.c)(H.p),i=Object(c.useRef)(null);return Object(c.useRef)(null).current=document.getElementsByClassName("player-controls")[0],r.a.createElement(G.a,{in:a,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},r.a.createElement(u.l,{domRef:i,className:D()("player-queue",n)},r.a.createElement(u.l,{className:"player-queue__container"},t)))}))),Da=Object(c.memo)((function(){var e=Object(s.u)(),t=Object(a.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"empty-img"}),r.a.createElement(u.l,{className:"empty-queue"},r.a.createElement(u.l,{className:"content"},"Kh\xe1m ph\xe1 th\xeam c\xe1c b\xe0i h\xe1t m\u1edbi c\u1ee7a Zing MP3"),r.a.createElement(u.r,{type:u.a.OUTLINE,icon:"play",text:"Ph\xe1t nh\u1ea1c m\u1edbi ph\xe1t h\xe0nh",isActive:!0,onClick:function(){t.playList(O.x.BY_PLAYLIST,O.G,100)}})))})),Ua=n(419),qa=n(1799),Fa=n(168);var Ya=Object(c.memo)((function(e){var t=e.currentPlaylist,n=e.listInfo,a=Object(l.b)(),c=Object(we.h)(),i=n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"T\u1eeb danh s\xe1ch b\xe0i h\xe1t"),r.a.createElement(ba.a,{to:n.link,onClick:function(e){var t;(n&&c.pathname===n.link&&e.preventDefault(),null===n||void 0===n?void 0:n.scrollTo)&&(null===n||void 0===n||null===(t=n.afterClickFn)||void 0===t||t.call(n),a(Object(Fa.d)(n.scrollTo)))}},r.a.createElement(u.L,null,n.title))):t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"T\u1eeb ",t.isAlbum?"album":"playlist"),r.a.createElement(ba.a,{to:t.link},r.a.createElement(u.L,null,t.title))):r.a.createElement(r.a.Fragment,null);return r.a.createElement(u.l,{className:"next-songs"},r.a.createElement(u.M,{size:6},"Ti\u1ebfp theo"),(n||t)&&r.a.createElement(u.M,{subtitle:!0,size:6},i))}));var Ba=Object(c.memo)((function(e){var t=e.song,n=e.playSong,i=e.isActive,o=e.isPlaying,m=e.isBuffering,f=e.isPreItem,b=e.menuButtonTypes,d=void 0===b?ea.d:b,E=e.actionButtonTypes,v=void 0===E?ea.a:E,j=e.gaPlayAction,g=void 0===j?Ce.d.PLAY_SONG:j,p=e.titleWidth,h=e.isSimsong,y=void 0!==h&&h,N=Object(l.b)(),R=Object(s.u)(),A=Object(a.a)(R,1)[0],k=Object(s.e)({containerId:O.p.QUEUE_SCROLL,marginBottom:90}),I=k.ref,C=k.ContextMenu,T=k.handleContextMenu,P=k.hideContextMenu,L=k.isShowContextMenu,_=Object(l.c)(H.g),w=Object(c.useRef)(_);w.current=_,Object(s.a)(t.tracking,I);var S=function(){var e=Object(ke.a)({},t);if(y&&!e.simPos){var a=w.current+1;e.simPos=a,N(Object(Xn.w)(a))}n?n(e):(A.playSong(e,{isClearQueue:!1}),Object(Kt.b)(g))},x=Object(da.checkIsVipMedia)(t),M=Object(c.useMemo)((function(){return t.episode?{typeButtons:[ea.b.MORE],songMenu:ma.a,subtitle:r.a.createElement(u.M,{subtitle:!0,className:"is-one-line"},r.a.createElement(u.l,{renderAs:"span",className:"artist-names"},t.album&&r.a.createElement(vn.b,{to:t.album.link,className:"is-ghost"},t.album.title)),t.duration>0&&r.a.createElement(r.a.Fragment,null," \u2022 ",Object(ot.secondToMinute)(t.duration)))}:{typeButtons:v,songMenu:void 0,subtitle:r.a.createElement(ea.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators,isHoverable:!1,isTruncate:!0,className:"artist-names"})}}),[t]),U=Object(c.useCallback)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.z.Item,{className:D()("media-item full-left"),onDoubleClick:S,ref:I},r.a.createElement(u.A,{className:D()({"is-pre":f,"is-active":i,"is-show-menu":L})},r.a.createElement(u.A.Left,null,r.a.createElement(ea.q,{link:t.link,thumbnail:t.thumbnail,title:t.title,isPlaying:o,isBuffering:m,isActive:i,playSongFn:S}),r.a.createElement(u.l,{className:"card-info"},r.a.createElement(ea.j,{titleWidth:p,title:t.title,showVipLabel:x,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA,song:t,isTitleLink:!0,isHoverable:!1,isTruncate:!0,playSongFn:S}),M.subtitle)),r.a.createElement(u.A.Right,null,r.a.createElement(u.y,null,r.a.createElement(ea.h,{song:t,typeButtons:M.typeButtons,handleContextMenu:T,playSong:S}))))),r.a.createElement(C,null,r.a.createElement(ea.n,{buttonsType:d,song:t,hideContextMenu:P,isInQueue:!0,Component:M.songMenu})))}),[t,i,o,m,f,L]);return r.a.createElement(r.a.Fragment,null,U())})),za=n(18),Ha=n.n(za),Qa=n(24);var Ga=Object(c.memo)((function(){return r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(Qa.h,{className:"song-thumb"},r.a.createElement(Ha.a,{width:40,height:40,duration:2})),r.a.createElement(Qa.h,{className:"card-info"},r.a.createElement(Ha.a,{width:"80%",height:10,duration:2}),r.a.createElement(Ha.a,{width:"50%",height:10,duration:2}))),r.a.createElement(u.A.Right,null,r.a.createElement(Ha.a,{width:20,height:20,duration:2,circle:!0,style:{marginLeft:"15px",marginRight:"10px"}})))})),Va=n(131),Wa=(n(1721),n(69));var Ka=Object(c.memo)((function(e){var t=e.className,n=e.song;return r.a.createElement(Ba,{isSimsong:!0,className:t,song:n,menuButtonTypes:Wa.h,actionButtonTypes:Wa.c,isActive:!1,isPlaying:!1,isBuffering:!1,gaPlayAction:Ce.d.PLAY_SIMILAR})}));var Za=Object(c.memo)((function(e){var t=e.items,n=Object(c.useCallback)((function(){return t.map((function(e){return function(e){return r.a.createElement(Ka,{key:"recommend.item.".concat(e.encodeId),song:e})}(e)}))}),[t]);return g.q.debug("RecommendList render"),r.a.createElement(u.z,{className:"player-queue__list"},n())}));var Xa=Object(c.memo)((function(e){var t=e.lastEncodeId,n=e.isPodcast,i=void 0!==n&&n,o=Object(s.w)(),m=Object(a.a)(o,1)[0],f=Object(l.c)(H.w),b=Object(l.c)(H.a),d=Object(c.useState)(!1),E=Object(a.a)(d,2),j=E[0],g=E[1],p=Object(c.useRef)(null),h=Object(c.useRef)(null),y=Object(l.c)(H.c),N=Object(c.useRef)(y);Object(c.useEffect)((function(){b&&m.getRecommend({onStart:function(){return g(!0)},onEnd:function(){g(!1)}})}),[t,b]),Object(c.useEffect)((function(){f.length||y===N.current||m.getRecommend({onStart:function(){return g(!0)},onEnd:function(){g(!1),N.current=y,v.c.emit(v.b.QUEUE_SCROLL_TO_CURRENT_ITEM)}})}),[f.length,y]),Object(c.useEffect)((function(){!b&&p.current&&p.current.setAttribute("style","position: relative; top: 0; right: 0; --header-wrapper-bg: transparent;")}),[b]);var R=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(h.current&&p.current){var t=h.current.getBoundingClientRect()||{},n=t.top,a=void 0===n?0:n,c=t.bottom,r=void 0===c?0:c,l=p.current.getBoundingClientRect()||{},i=l.bottom,u=void 0===i?-1:i,o=l.top,s=void 0===o?0:o,m=l.height,f=void 0===m?62:m;if(a+f<=u||s+1<Ja){if(h.current.style.height="".concat(f,"px"),p.current.setAttribute("style","position: fixed; top: ".concat(Ja,"px; right: 8px; --header-wrapper-bg: var(--queue-player-popup-bg);")),e){var b=document.getElementById(O.p.QUEUE_SCROLL),d=f-56+(u-r);b&&d>0&&d<f&&(b.scrollTop+=-30-d)}}else h.current.style.height="0px",p.current.setAttribute("style","position: relative; top: 0; right: 0; --header-wrapper-bg: transparent;"),e&&v.c.emit(v.b.QUEUE_RECOMMEND_UPDATED)}}),[]);Object(c.useEffect)((function(){return function(){R(!0)}}),[f]),Object(c.useEffect)((function(){var e=document.getElementById(O.p.QUEUE_SCROLL);if(e){var t=function(){return R(!1)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}return function(){}}),[]);var A=Object(c.useCallback)((function(){return b?j?r.a.createElement(Va.b,{className:"recommend-loader",songItem:r.a.createElement(Ga,null),showTitle:!1,countItem:10}):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{domRef:h}),r.a.createElement(Za,{items:f})):null}),[j,f,b]),k=Object(c.useCallback)((function(){m.toggleAutoPlayRecommend()}),[]),I=b?["T\u1ef1 \u0111\u1ed9ng ph\xe1t","Danh s\xe1ch b\xe0i h\xe1t g\u1ee3i \xfd"]:["\u0110\xe3 t\u1eaft t\u1ef1 \u0111\u1ed9ng ph\xe1t","B\u1eadt l\xean \u0111\u1ec3 ph\xe1t ti\u1ebfp c\xe1c ".concat(i?"podcast":"b\xe0i h\xe1t"," g\u1ee3i \xfd")],C=Object(a.a)(I,2),T=C[0],P=C[1];return r.a.createElement(u.l,{className:"queue-recommend"},r.a.createElement(u.l,{className:"header-wrapper",domRef:p},r.a.createElement(u.y,{className:"header"},r.a.createElement(u.y.Side,{align:"left",className:"header-left"},r.a.createElement(u.M,null,T),r.a.createElement(u.M,{subtitle:!0},P)),r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.d,{className:"zm-auto-play-switch pull-left",onClick:k},r.a.createElement(u.q,{icon:b?r.a.createElement(ae.w,null):r.a.createElement(ae.v,null),className:D()("ic-svg-switch",{"zm-switch-off":!b})}))))),A())})),Ja=126;function $a(e){var t=e.idsUpdate,n=Object(l.c)(j.p),i=Object(l.c)(j.j),o=Object(l.c)(H.c),m=Object(l.c)(H.u),f=Object(l.c)(H.k),b=Object(c.useRef)(f),d=Object(l.c)(H.t),E=nt.Array.findIndex(f,o),g=Object(c.useRef)(0);g.current=E;var p=Object(c.useRef)(null),h=Object(c.useRef)([0,0]),y=Object(c.useRef)(null),N=Object(c.useRef)(null),R=Object(c.useRef)(d),A=Object(l.c)(H.s),k=Object(c.useRef)(),I=Object(c.useState)(),C=Object(a.a)(I,2),T=C[0],P=C[1],L=Object(c.useState)(0),_=Object(a.a)(L,2),w=_[0],S=_[1],x=Object(s.u)(),M=Object(a.a)(x,1)[0];Object(c.useEffect)((function(){b.current=f,R.current=d}),[f]),Object(c.useEffect)((function(){P(!1),S(0),U()}),[E]),Object(c.useEffect)((function(){return v.c.on(v.b.QUEUE_SCROLL_TO_CURRENT_ITEM,U),function(){v.c.off(v.b.QUEUE_SCROLL_TO_CURRENT_ITEM,U)}}),[]);var U=Object(c.useCallback)((function(){Q(),g.current>-1&&(N.current=setTimeout((function(){var e;null===(e=y.current)||void 0===e||e.scrollToIndex({index:g.current,behavior:"smooth"})}),200))}),[]);Object(c.useEffect)((function(){var e=document.getElementById(O.p.QUEUE_SCROLL),t=document.getElementById("queue-recommend"),n=function(){var e,n,c=null!==(e=null===t||void 0===t?void 0:t.getBoundingClientRect().top)&&void 0!==e?e:-999999,r=Object(a.a)(h.current,2),l=(r[0],r[1]);if((-1===g.current||g.current>l)&&c>Ja)return P(!1),void S(0);var i=(null===(n=k.current)||void 0===n?void 0:n.getBoundingClientRect().top)||0;S(-999999!==c&&c<170?170-c:0),P(i<72)};return null===e||void 0===e||e.addEventListener("scroll",n),function(){null===e||void 0===e||e.removeEventListener("scroll",n)}}),[]),Object(c.useEffect)((function(){var e=function(){S(0)};return v.c.on(v.b.QUEUE_RECOMMEND_UPDATED,e),function(){v.c.off(v.b.QUEUE_RECOMMEND_UPDATED,e)}}),[]);var q=Object(c.useCallback)((function(){var e=R.current[o];if(!e||!e.id)return r.a.createElement(r.a.Fragment,null);var t=A.id===o,a=Object(da.checkIsVipMedia)(e);return r.a.createElement(u.l,{style:{"--transition":-w+"px",height:w>0?"118px":"unset",display:T?"block":"none"},className:D()("queue-item-pinned",{show:T})},r.a.createElement(Ba,{playSong:function(){M.togglePlay()},song:e,isActive:!0,isPlaying:n,isBuffering:i,isPreItem:!1,titleWidth:a?164:228}),!t&&r.a.createElement(Ya,{currentPlaylist:null===m||void 0===m?void 0:m.currentPlaylist,listInfo:null===m||void 0===m?void 0:m.listInfo}))}),[w,o,n,i,m,T,A.id]),F=Object(c.useCallback)((function(e){var t=e["data-index"];return r.a.createElement(nc,Object.assign({index:t,style:{zIndex:1065}},e))}),[]),Y=function(e){var n=e.oldIndex,a=e.newIndex;if(a!==n){var c=Object(Kt.a)(b.current,n,a);t(c),Object(Kt.b)(Ce.d.CHANGE_ORDER)}},B=Object(c.useCallback)(r.a.forwardRef((function(e,t){return r.a.createElement(tc,Object.assign({},e,{listRef:t,onSortEnd:Y,distance:1,helperClass:"player-queue drag-item"}))})),[]),z=Object(c.useCallback)((function(){return r.a.createElement("div",{style:{padding:"0 8px"},id:"queue-recommend"},r.a.createElement(Xa,{lastEncodeId:A.encodeId,isPodcast:A.episode}))}),[]),Q=function(){N.current&&clearTimeout(N.current)};return r.a.createElement(u.l,{className:"player-queue__scroll",onMouseLeave:function(){p.current||(N.current=setTimeout((function(){var e;null===y||void 0===y||null===(e=y.current)||void 0===e||e.scrollToIndex({index:g.current,behavior:"smooth"})}),5e3))},onMouseEnter:Q},q(),r.a.createElement(qa.a,{components:{Scroller:ec,List:B,Item:F,Footer:z},style:{height:"100%"},ref:y,totalCount:f.length,itemContent:function(e){return function(e,t){var a=R.current[t];if(!a||!a.id)return r.a.createElement(r.a.Fragment,null);var c=a.id===o,l=n&&c,s=e===b.current.length-1,f=i&&c,d=c&&!s,E=e<g.current;return r.a.createElement(u.l,{domRef:function(e){c&&e&&(k.current=e)}},r.a.createElement(Ba,{song:a,isActive:c,isPlaying:l,isBuffering:f,isPreItem:E}),c&&r.a.createElement("span",{ref:p}),d&&r.a.createElement(Ya,{currentPlaylist:null===m||void 0===m?void 0:m.currentPlaylist,listInfo:null===m||void 0===m?void 0:m.listInfo}))}(e,b.current[e])},rangeChanged:function(e){var t=e.startIndex,n=e.endIndex;h.current=[t,n]},computeItemKey:function(e){return b.current[e]}}))}var ec=r.a.forwardRef((function(e,t){e.style;var n=e.children,a=e.className;return Object(c.useEffect)((function(){t.current=document.getElementById(O.p.QUEUE_SCROLL)}),[]),r.a.createElement(u.I,{tabIndex:0,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:a,id:O.p.QUEUE_SCROLL},n)})),tc=Object(Ua.a)((function(e){var t=e.listRef,n=e.children,a=e.className,c=e.style;return r.a.createElement("div",{ref:t,className:"player-queue__list ".concat(a),style:c},n)})),nc=Object(Ua.b)((function(e){var t=e["data-index"];return r.a.createElement("div",Object.assign({index:t},e))})),ac=n(92),cc=Object(c.memo)((function(e){var t=e.tabChange,n=Object(s.u)(),c=Object(a.a)(n,1)[0],i=Object(l.c)(H.b),o=Object(s.o)((function(e){return ac.d.getSongs(void 0,e)}),O.p.QUEUE_SCROLL),m=Object(a.a)(o,1)[0],f=function(e){c.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(ca.QUEUE_TAB.QUEUE),Object(Kt.b)(Ce.d.PLAY_RECENT)};if(!m.isFetching&&(!m.items||!m.items.length))return r.a.createElement(Da,null);var b=m.items.filter((function(e){return e.encodeId!==i}));return r.a.createElement(u.l,{className:"player-queue__scroll"},r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:O.p.QUEUE_SCROLL},r.a.createElement(u.z,{className:"player-queue__list"},b.map((function(e,t){return e.sectionId=O.X.USER_RECENT,function(e,t){return r.a.createElement(Ba,{key:"".concat(e.encodeId,".").concat(t),song:e,playSong:f,menuButtonTypes:Wa.f,actionButtonTypes:Wa.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))),m.isFetching&&r.a.createElement(Va.b,{className:"queue-loader",songItem:r.a.createElement(Ga,null),showTitle:!1})))})),rc=n(1609),lc=Object(c.memo)((function(e){var t=e.tabChange,n=Object(s.u)(),c=Object(a.a)(n,1)[0],i=Object(l.c)(H.b),o=Object(l.c)(rc.b),m=function(e){c.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(ca.QUEUE_TAB.QUEUE),Object(Kt.b)(Ce.d.PLAY_RECENT)},f=o.filter((function(e){return e.encodeId!==i}));return f.length?r.a.createElement(u.l,{className:"player-queue__scroll"},r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:O.p.QUEUE_SCROLL},r.a.createElement(u.z,{className:"player-queue__list"},f.map((function(e,t){return function(e,t){return e.encodeId===i?r.a.createElement(r.a.Fragment,null):r.a.createElement(Ba,{key:"".concat(e.encodeId,".").concat(t),song:e,playSong:m,menuButtonTypes:Wa.f,actionButtonTypes:Wa.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))))):r.a.createElement(Da,null)})),ic=Object(c.memo)((function(e){var t=e.tabChange,n=Object(l.c)(z.l);return Object(l.c)(z.k)?r.a.createElement(u.l,{className:"empty-img"}):n?r.a.createElement(cc,{tabChange:t}):r.a.createElement(lc,{tabChange:t})}));function uc(e){var t=e.clearQueue,n=Object(l.c)(H.t),i=Object(l.c)(z.o),o=Object.values(n),m=Object(c.useRef)(null),f=Object(oe.a)(!1),b=Object(a.a)(f,2),d=b[0],E=b[1];Object(s.t)(m,(function(e){e||E(e)}));var O=Object(c.useCallback)((function(e){g.b.preventDefault(e),E(!d)}),[d]);return r.a.createElement(u.l,{renderAs:"span",domRef:m,id:"queue_menu"},r.a.createElement(u.P,{icon:"more",onClick:O,title:"Kh\xe1c"}),d&&r.a.createElement(u.B,{className:"menu-settings right"},r.a.createElement(u.B.List,null,r.a.createElement(u.B.List.Item,null,r.a.createElement(sc,{clearQueue:t,afterClick:O})),i&&r.a.createElement(u.B.List.Item,null,r.a.createElement(fc,{afterClick:O})),r.a.createElement(u.B.List.Item,null,r.a.createElement(Le.a,{songs:o,hideContextMenu:function(){return E(!1)},containerId:"queue_menu"})))))}Object(c.memo)(uc);var oc=n(43);function sc(e){var t=e.clearQueue,n=e.afterClick,l=Object(i.a)().width,o=Object(s.w)(),m=Object(a.a)(o,1)[0],f=Object(c.useCallback)((function(){t(),n&&n(),l<u.o&&m.toggleIsOpen(!1),Object(Kt.b)(Ce.d.CLEAR_QUEUE)}),[l]);return r.a.createElement(oc.b,{icon:"delete",text:"X\xf3a danh s\xe1ch ph\xe1t",onClick:f})}Object(c.memo)(sc);var mc=n(458);Object(c.memo)((function(e){Object(yt.a)(e);var t=Object(mc.a)(),n=t.Modal,a=t.show,l=Object(c.useCallback)((function(){a()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(oc.b,{icon:"16-Add",text:"Th\xeam v\xe0o playlist",onClick:l}),r.a.createElement(n,null,"Modal n\xe8"))}));function fc(e){e.afterClick;var t=Object(l.c)(H.t),n=Object.values(t).filter((function(e){return!e.episode}));return r.a.createElement(Le.f,{songs:n,title:"",text:"T\u1ea3i danh s\xe1ch ph\xe1t"})}Object(c.memo)(fc),n(1722);var bc=Object(c.memo)((function(e){var t=e.tab,n=e.tabChange,a=e.clearQueue,c=e.totalItem;g.q.debug("QueueHeader : render");var o=Object(i.a)().width,s=Object(l.c)(ha.d);return r.a.createElement(u.l,{className:"player-queue__header"},r.a.createElement(u.y,{className:"tab-bars"},r.a.createElement(u.y.Side,{align:"left"},r.a.createElement(u.y.Item,{className:D()({"is-active":t===ca.QUEUE_TAB.QUEUE,"is-flash":o>u.o&&s.type===O.c.FLY_ITEM_TO_QUEUE}),onClick:function(){return n(ca.QUEUE_TAB.QUEUE)}},r.a.createElement(u.l,{renderAs:"h6",className:"has-text-white queue-list-title"},"Danh s\xe1ch ph\xe1t")),r.a.createElement(u.y.Item,{className:D()({"is-active":t===ca.QUEUE_TAB.RECENT_LISTEN}),onClick:function(){return n(ca.QUEUE_TAB.RECENT_LISTEN)}},r.a.createElement(Le.i,{category:Ce.a.NOW_PLAYING,action:"np_recent",renderAs:"h6",childrenProps:{className:"has-text-white"}},"Nghe g\u1ea7n \u0111\xe2y"))),r.a.createElement(u.y.Side,{align:"right"},r.a.createElement(u.y,null,r.a.createElement(u.y.Item,{className:c?"":"disabled"},r.a.createElement(on,null)),r.a.createElement(u.y.Item,{className:c?"":"disabled"},r.a.createElement(uc,{clearQueue:function(){return a(!0)}}))))))}));var dc=Object(c.memo)((function(){var e=Object(l.c)(H.p),t=Object(l.c)(H.o),n=Object(l.c)(H.z),i=Object(l.c)(H.A),o=Object(l.c)(H.d),m=Object(s.w)(),f=Object(a.a)(m,1)[0];Object(c.useEffect)((function(){!e&&t&&f.getRecommend({})}),[null===o||void 0===o?void 0:o.id,e,t]);var b=Object(c.useCallback)((function(){return n===ca.QUEUE_TAB.RECENT_LISTEN?r.a.createElement(ic,{tabChange:f.tabChange}):i?o?r.a.createElement($a,{idsUpdate:f.idsUpdate}):r.a.createElement(u.l,{className:"empty-img"}):r.a.createElement(Da,null)}),[n,i,null===o||void 0===o?void 0:o.encodeId]);return r.a.createElement(Ma,{className:D()({"player-empty":!i})},r.a.createElement(bc,{tab:n,tabChange:f.tabChange,clearQueue:f.clear,toggleIsOpen:f.toggleIsOpen,totalItem:i}),b())})),Ec=function(){var e=Object(l.c)(Ke.d);if(!e)return r.a.createElement(r.a.Fragment,null);var t=jn(e);return r.a.createElement(u.l,{className:"media-group"},e&&r.a.createElement(u.l,{className:"item"},r.a.createElement(u.l,{renderAs:"span",className:"label"},"\u0110ang nghe:"),r.a.createElement(u.l,{className:"name"},r.a.createElement(u.L,{lines:1},e.title,"".concat(t?" - ".concat(t):"")))))},Oc=function(e){var t=e.program,n=Object(s.r)(),a=n.Modal,c=(n.show,n.hide);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"description"},r.a.createElement(u.L,{lines:1,ellipsis:r.a.createElement(u.l,{renderAs:"span"},"...")},r.a.createElement(u.M,{subtitle:!0},t.description))),r.a.createElement(a,{className:"program-modal"},r.a.createElement(u.P,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:c}),r.a.createElement(u.A,null,r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:t.thumbnail,size:65})),r.a.createElement(u.A.Content,null,r.a.createElement(u.M,null,t.title))),r.a.createElement(u.M,{subtitle:!0},t.description)))},vc=Object(c.memo)((function(e){var t,n,a=e.program,c=e.active;return r.a.createElement(u.l,{className:D()("program-item",{active:c})},r.a.createElement(u.A,{key:a.encodeId},r.a.createElement(u.A.Left,null,r.a.createElement(u.x,{src:a.thumbnail})),r.a.createElement(u.A.Content,null,r.a.createElement(u.l,{className:"time-text"},c&&r.a.createElement(u.l,{renderAs:"span"},"\u0110ang ph\xe1t"),(t=a.startTime,n=a.endTime,"".concat(Object(ot.secondsToDate)(t,"HH:mm")," - ").concat(Object(ot.secondsToDate)(n,"HH:mm")))),r.a.createElement(u.M,null,r.a.createElement(u.L,null,a.title)),r.a.createElement(Oc,{program:a}))),c&&r.a.createElement(Ec,null))})),jc=(n(1643),Object(c.memo)((function(e){var t=e.programs,n=void 0===t?[]:t,l=Object(c.useMemo)((function(){var e=Object(st.d)(),t=n.findIndex((function(t){return t.startTime>=e}));return t<0||n.length===t+1?[n,[]]:[n.slice(0,t),n.slice(t)]}),[n]),i=Object(a.a)(l,2),o=i[0],s=i[1];return n.length<1?r.a.createElement(r.a.Fragment,null):r.a.createElement(u.l,{className:"program-list__wrapper"},r.a.createElement(u.l,{className:"program-list__content"},r.a.createElement(u.l,{className:"date-text"},"H\xf4m nay"),o.map((function(e,t){return r.a.createElement(vc,{key:e.encodeId,program:e,active:0===t})})),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.l,{className:"date-text"},"Ng\xe0y mai"),s.map((function(e){return r.a.createElement(vc,{key:e.encodeId,program:e,active:!1})})))))}))),gc=function(e){var t=e.src;return r.a.createElement(u.l,{className:"zm-blur-queue-bg"},r.a.createElement(u.l,{className:"zm-blur-queue-bg-image",style:{backgroundImage:"url(".concat(t,")")}}),r.a.createElement(u.l,{className:"zm-blur-queue-bg-alpha"}))},pc=Object(c.memo)((function(){var e=Object(l.c)(Ke.b),t=Object(l.c)(Ke.l),n=Object(c.useState)(!1),i=Object(a.a)(n,2),s=i[0],m=i[1],f=Object(c.useState)(Date.now()/o.m),b=Object(a.a)(f,2),d=b[0],E=b[1],O=Object(c.useCallback)((function(e){var t=e.currentTarget.scrollTop;m(t>0)}),[]);Object(c.useEffect)((function(){var e=setInterval((function(){var e=Date.now()/o.m;E(e)}),o.h);return function(){return clearInterval(e)}}),[]);var v=Object(c.useMemo)((function(){if(!e)return"";var n=e.thumbnailM;if((t||[]).length){var a,c=Object(pn.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;if(r.startTime<=d&&d<r.endTime){r.thumbnail&&(n=r.thumbnail);break}}}catch(l){c.e(l)}finally{c.f()}}return n.replace("w240","w320")}),[e,t,d]);return e?r.a.createElement(Ma,{className:"player-queue__livestream"},r.a.createElement(gc,{src:v}),r.a.createElement(u.l,{className:"actions"},r.a.createElement(on,null)),r.a.createElement(u.I,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,onScroll:O,className:s?"is-mask":""},r.a.createElement(u.l,{className:"player-queue__livestream-content"},r.a.createElement(u.x,{src:v,className:"cover"}),r.a.createElement(u.l,{className:"info"},r.a.createElement(u.M,{className:"name"},r.a.createElement(u.L,{lines:2},e.title)),r.a.createElement(u.M,{className:"desc",subtitle:!0},r.a.createElement(u.L,{lines:3},e.description))),r.a.createElement(jc,{programs:t})))):null}));var hc=Object(c.memo)((function(e){var t=e.type,n=void 0===t?"MV":t,a=Object(i.a)().width;return r.a.createElement(G.a,{in:a>=u.o,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},r.a.createElement(u.l,{className:"player-queue player-empty"},r.a.createElement(u.l,{className:"queue-video-playing"},r.a.createElement("div",{className:"empty-img"}),r.a.createElement(u.l,{className:"empty-queue"},r.a.createElement(u.l,{className:"queue-video-img"}),r.a.createElement(u.l,{className:"content"},"\u0110ang ph\xe1t ",n,"...")))))})),yc=(n(1723),Object(c.memo)((function(){var e=Object(l.c)(j.o),t=Object(l.c)(f.h),n=Object(l.c)(x.e),a=Object(l.c)(Ke.f),c=Object(l.c)(H.c),i=Object(l.c)(x.j);if(!e||t||a||!c)return null;var o=at.r.PREMIUM_PAGE+at.p.replace("%s",n?Ce.c.ZONE_LYRIC:Ce.c.ZONE_PLAYER);return r.a.createElement(u.l,{className:D()("vip-promotion-banner",{opac:n,"list-tab":i===O.v.LIST})},r.a.createElement(u.l,{className:D()("vip-promotion-content")},r.a.createElement(u.l,{renderAs:"span"},"N\xe2ng c\u1ea5p t\xe0i kho\u1ea3n Premium \u0111\u1ec3 nghe tr\u1ecdn b\xe0i h\xe1t."),r.a.createElement(u.l,{renderAs:"a",target:"_blank",href:o},"T\xecm hi\u1ec3u ngay")))})));window.ZMP3_PLAYER=Object(me.initZPLayer)(),window.ZMP3_PLAYER_2=Object(me.initZPLayer)();t.default=Object(c.memo)((function(){var e=Object(s.w)(),t=Object(a.a)(e,1)[0],n=Object(s.u)(),m=Object(a.a)(n,1)[0],f=Object(l.c)(Z.e),b=Object(l.c)(Ke.f),d=Object(l.c)(H.A),E=Object(i.a)().width,O=Object(l.c)(H.p),v=Object(l.c)(z.f),p=Object(l.c)(H.d)||{},h=Object(l.c)(j.o),y=Object(l.c)(z.j);Object(c.useEffect)((function(){y&&p.encodeId&&m.getStreaming(p)}),[y]);var N=document.getElementsByClassName("zm-layout")[0];return Object(c.useEffect)((function(){if(d||b?N.classList.add("has-player"):N.classList.remove("has-player"),!d&&!b||f){var e=Object(pa.c)();return function(){return clearTimeout(e)}}}),[d,b,f]),Object(c.useEffect)((function(){d||t.toggleIsOpen(E>=u.o)}),[E]),Object(c.useEffect)((function(){var e=setTimeout((function(){t.changeKeyQueue(O?1:0)}),o.o);return function(){return clearTimeout(e)}}),[O]),Object(c.useEffect)((function(){h&&p.encodeId&&g.c.checkCanPlayFully(p,v)&&m.getStreaming(p)}),[v,p,h]),r.a.createElement(u.J,{className:"now-playing-bar"},f||b?f?r.a.createElement(hc,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,null),r.a.createElement(pc,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Suspense,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(We,null)),r.a.createElement(dc,null),r.a.createElement(F,null),r.a.createElement(Q,null)),r.a.createElement(Hn,null),r.a.createElement(yc,null),r.a.createElement(Ca,null),b&&!f&&r.a.createElement(xa,null))}))}}]);